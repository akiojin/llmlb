import{r as s,b as d,j as e,M as f,S as g,$ as j,a0 as b,aa as v,T as N,L as o,I as c,F as y,J as t,a8 as C,a1 as P,a9 as L}from"./index-BVi7XAD7.js";import{L as m}from"./lock-UQfx7qv7.js";function S(){const[a,u]=s.useState(""),[l,h]=s.useState(""),[n,i]=s.useState(!1),[x,p]=s.useState(!0);s.useEffect(()=>{d.me().then(()=>p(!1)).catch(()=>{window.location.href="/dashboard/login.html"})},[]);const w=async r=>{if(r.preventDefault(),a.length<6){t({variant:"destructive",title:"Validation error",description:"Password must be at least 6 characters"});return}if(a!==l){t({variant:"destructive",title:"Validation error",description:"Passwords do not match"});return}i(!0);try{await d.changePassword(a),t({title:"Password changed",description:"Please sign in with your new password"}),setTimeout(()=>{window.location.href="/dashboard/login.html"},1500)}catch{t({variant:"destructive",title:"Failed to change password",description:"Please try again"})}finally{i(!1)}};return x?e.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20"}),e.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-spin rounded-full border-4 border-transparent border-t-primary"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):e.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden bg-background",children:[e.jsx("div",{className:"absolute inset-0 bg-grid opacity-30"}),e.jsx("div",{className:"absolute -left-40 -top-40 h-80 w-80 rounded-full bg-primary/20 blur-[100px]"}),e.jsx("div",{className:"absolute -bottom-40 -right-40 h-80 w-80 rounded-full bg-primary/10 blur-[100px]"}),e.jsx("div",{className:"relative flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md animate-fade-up",children:[e.jsxs("div",{className:"mb-8 flex flex-col items-center gap-4",children:[e.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-primary/10 glow-sm",children:e.jsx(f,{className:"h-8 w-8 text-primary"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-display text-3xl font-bold tracking-tight",children:"LLM Load Balancer"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Mission Control Dashboard"})]})]}),e.jsxs(g,{className:"glass border-border/50",children:[e.jsxs(j,{className:"space-y-1",children:[e.jsx(b,{className:"text-2xl font-semibold",children:"Change Password"}),e.jsx(v,{children:"You must change your password before continuing."})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"new-password",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(c,{id:"new-password",type:"password",placeholder:"Enter new password (min. 6 characters)",value:a,onChange:r=>u(r.target.value),className:"pl-10",required:!0,autoComplete:"new-password",autoFocus:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"confirm-password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(c,{id:"confirm-password",type:"password",placeholder:"Confirm new password",value:l,onChange:r=>h(r.target.value),className:"pl-10",required:!0,autoComplete:"new-password"})]})]}),e.jsx(y,{type:"submit",variant:"glow",className:"w-full",disabled:n||!a||!l,children:n?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Changing password..."]}):"Change Password"})]})})]}),e.jsx("p",{className:"mt-6 text-center text-xs text-muted-foreground",children:"LLM Load Balancer Dashboard v1.0"})]})})]})}C.createRoot(document.getElementById("root")).render(e.jsx(s.StrictMode,{children:e.jsxs(P,{children:[e.jsx(S,{}),e.jsx(L,{})]})}));
