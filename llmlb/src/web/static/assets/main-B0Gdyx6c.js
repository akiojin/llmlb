import{r as o,j as t,a as Ks,R as Dc,u as qe,c as D,b as Se,d as Q,P as L,e as Be,f as jn,g as k,h as et,i as js,k as Ur,l as Ee,m as wn,A as qr,n as Nn,D as Cn,C as Kr,o as Ac,p as Br,q as Hr,s as T,t as zr,v as Oc,w as Fc,X as tn,x as Lc,y as Vr,B as M,z as ze,L as J,I as he,E as U,F as Bs,G as Wr,V as $c,U as Sn,H as ss,J as Hs,K as _n,M as ue,N as zs,O as sn,Q as ct,S as lt,T as Uc,W as we,Y as Nt,Z as Ct,_ as bt,$ as qc,a0 as Kc,a1 as Bc,a2 as Hc}from"./index-Bojcq5L8.js";import{T as nn,C as us}from"./ticket-DdO6TN51.js";var Et=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zc={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Vc=class{#e=zc;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},ot=new Vc;function Wc(e){setTimeout(e,0)}var dt=typeof window>"u"||"Deno"in globalThis;function me(){}function Gc(e,s){return typeof e=="function"?e(s):e}function rn(e){return typeof e=="number"&&e>=0&&e!==1/0}function Gr(e,s){return Math.max(e+(s||0)-Date.now(),0)}function Ze(e,s){return typeof e=="function"?e(s):e}function ke(e,s){return typeof e=="function"?e(s):e}function ur(e,s){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:l,stale:c}=e;if(l){if(r){if(s.queryHash!==En(l,s.options))return!1}else if(!Lt(s.queryKey,l))return!1}if(n!=="all"){const d=s.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||a&&a!==s.state.fetchStatus||i&&!i(s))}function hr(e,s){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!s.options.mutationKey)return!1;if(n){if(ut(s.options.mutationKey)!==ut(i))return!1}else if(!Lt(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||a&&!a(s))}function En(e,s){return(s?.queryKeyHashFn||ut)(e)}function ut(e){return JSON.stringify(e,(s,n)=>an(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Lt(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(n=>Lt(e[n],s[n])):!1}var Qc=Object.prototype.hasOwnProperty;function Qr(e,s,n=0){if(e===s)return e;if(n>500)return s;const r=fr(e)&&fr(s);if(!r&&!(an(e)&&an(s)))return s;const i=(r?e:Object.keys(e)).length,l=r?s:Object.keys(s),c=l.length,d=r?new Array(c):{};let u=0;for(let h=0;h<c;h++){const f=r?h:l[h],p=e[f],x=s[f];if(p===x){d[f]=p,(r?h<i:Qc.call(e,f))&&u++;continue}if(p===null||x===null||typeof p!="object"||typeof x!="object"){d[f]=x;continue}const v=Qr(p,x,n+1);d[f]=v,v===p&&u++}return i===c&&u===i?e:d}function hs(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}function fr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function an(e){if(!mr(e))return!1;const s=e.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!mr(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yc(e){return new Promise(s=>{ot.setTimeout(s,e)})}function on(e,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,s):n.structuralSharing!==!1?Qr(e,s):s}function Xc(e,s,n=0){const r=[...e,s];return n&&r.length>n?r.slice(1):r}function Zc(e,s,n=0){const r=[s,...e];return n&&r.length>n?r.slice(0,-1):r}var Rn=Symbol();function Yr(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===Rn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function kn(e,s){return typeof e=="function"?e(...s):!!e}function Jc(e,s,n){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=s(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var el=class extends Et{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!dt&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mn=new el;function cn(){let e,s;const n=new Promise((a,i)=>{e=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var tl=Wc;function sl(){let e=[],s=0,n=c=>{c()},r=c=>{c()},a=tl;const i=c=>{s?e.push(c):a(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;s++;try{d=c()}finally{s--,s||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var ce=sl(),nl=class extends Et{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!dt&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},fs=new nl;function rl(e){return Math.min(1e3*2**e,3e4)}function Xr(e){return(e??"online")==="online"?fs.isOnline():!0}var ln=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Zr(e){let s=!1,n=0,r;const a=cn(),i=()=>a.status!=="pending",l=m=>{if(!i()){const g=new ln(m);p(g),e.onCancel?.(g)}},c=()=>{s=!0},d=()=>{s=!1},u=()=>Mn.isFocused()&&(e.networkMode==="always"||fs.isOnline())&&e.canRun(),h=()=>Xr(e.networkMode)&&e.canRun(),f=m=>{i()||(r?.(),a.resolve(m))},p=m=>{i()||(r?.(),a.reject(m))},x=()=>new Promise(m=>{r=g=>{(i()||u())&&m(g)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let m;const g=n===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(b){m=Promise.reject(b)}Promise.resolve(m).then(f).catch(b=>{if(i())return;const y=e.retry??(dt?0:3),w=e.retryDelay??rl,_=typeof w=="function"?w(n,b):w,N=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,b);if(s||!N){p(b);return}n++,e.onFail?.(n,b),Yc(_).then(()=>u()?void 0:x()).then(()=>{s?p(b):v()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(r?.(),a),cancelRetry:c,continueRetry:d,canStart:h,start:()=>(h()?v():x().then(v),a)}}var Jr=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rn(this.gcTime)&&(this.#e=ot.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ot.clearTimeout(this.#e),this.#e=void 0)}},al=class extends Jr{#e;#t;#s;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#s=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=xr(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=xr(this.options);s.data!==void 0&&(this.setState(pr(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,s){const n=on(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(e,s){this.#a({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#n?.promise;return this.#n?.cancel(e),s?s.then(me).catch(me):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>ke(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ze(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Gr(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},a=()=>{const c=Yr(this.options,s),u=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#i=!1,this.options.persister?this.options.persister(c,u,this):c(u)},l=(()=>{const c={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=Zr({initialPromise:s?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof ln&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#a({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof ln){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...ea(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...pr(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),ce.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function ea(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Xr(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pr(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xr(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,n=s!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ol=class extends Et{constructor(e,s){super(),this.options=s,this.#e=e,this.#a=null,this.#i=cn(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#r=void 0;#n;#o;#i;#a;#p;#h;#f;#l;#d;#c;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vr(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dn(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dn(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ke(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),s._defaulted&&!hs(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&gr(this.#t,n,this.options,s)&&this.#u(),this.updateResult(),r&&(this.#t!==n||ke(this.options.enabled,this.#t)!==ke(s.enabled,this.#t)||Ze(this.options.staleTime,this.#t)!==Ze(s.staleTime,this.#t))&&this.#x();const a=this.#v();r&&(this.#t!==n||ke(this.options.enabled,this.#t)!==ke(s.enabled,this.#t)||a!==this.#c)&&this.#g(a)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(s,e);return cl(this,n)&&(this.#r=n,this.#o=this.options,this.#n=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(e,s){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),s?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#w();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(me)),s}#x(){this.#b();const e=Ze(this.options.staleTime,this.#t);if(dt||this.#r.isStale||!rn(e))return;const n=Gr(this.#r.dataUpdatedAt,e)+1;this.#l=ot.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#j(),this.#c=e,!(dt||ke(this.options.enabled,this.#t)===!1||!rn(this.#c)||this.#c===0)&&(this.#d=ot.setInterval(()=>{(this.options.refetchIntervalInBackground||Mn.isFocused())&&this.#u()},this.#c))}#y(){this.#x(),this.#g(this.#v())}#b(){this.#l&&(ot.clearTimeout(this.#l),this.#l=void 0)}#j(){this.#d&&(ot.clearInterval(this.#d),this.#d=void 0)}createResult(e,s){const n=this.#t,r=this.options,a=this.#r,i=this.#n,l=this.#o,d=e!==n?e.state:this.#s,{state:u}=e;let h={...u},f=!1,p;if(s._optimisticResults){const P=this.hasListeners(),C=!P&&vr(e,s),F=P&&gr(e,n,s,r);(C||F)&&(h={...h,...ea(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:m}=h;p=h.data;let g=!1;if(s.placeholderData!==void 0&&p===void 0&&m==="pending"){let P;a?.isPlaceholderData&&s.placeholderData===l?.placeholderData?(P=a.data,g=!0):P=typeof s.placeholderData=="function"?s.placeholderData(this.#f?.state.data,this.#f):s.placeholderData,P!==void 0&&(m="success",p=on(a?.data,P,s),f=!0)}if(s.select&&p!==void 0&&!g)if(a&&p===i?.data&&s.select===this.#p)p=this.#h;else try{this.#p=s.select,p=s.select(p),p=on(a?.data,p,s),this.#h=p,this.#a=null}catch(P){this.#a=P}this.#a&&(x=this.#a,p=this.#h,v=Date.now(),m="error");const b=h.fetchStatus==="fetching",y=m==="pending",w=m==="error",_=y&&b,N=p!==void 0,S={status:m,fetchStatus:h.fetchStatus,isPending:y,isSuccess:m==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:w&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&N,isStale:Pn(e,s),refetch:this.refetch,promise:this.#i,isEnabled:ke(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=S.data!==void 0,C=S.status==="error"&&!P,F=R=>{C?R.reject(S.error):P&&R.resolve(S.data)},$=()=>{const R=this.#i=S.promise=cn();F(R)},G=this.#i;switch(G.status){case"pending":e.queryHash===n.queryHash&&F(G);break;case"fulfilled":(C||S.data!==G.value)&&$();break;case"rejected":(!C||S.error!==G.reason)&&$();break}}return S}updateResult(){const e=this.#r,s=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#t),hs(s,e))return;this.#r=s;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(l=>{const c=l;return this.#r[c]!==e[c]&&i.has(c)})};this.#N({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){ce.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function il(e,s){return ke(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function vr(e,s){return il(e,s)||e.state.data!==void 0&&dn(e,s,s.refetchOnMount)}function dn(e,s,n){if(ke(s.enabled,e)!==!1&&Ze(s.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Pn(e,s)}return!1}function gr(e,s,n,r){return(e!==s||ke(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Pn(e,n)}function Pn(e,s){return ke(s.enabled,e)!==!1&&e.isStaleByTime(Ze(s.staleTime,e))}function cl(e,s){return!hs(e.getCurrentResult(),s)}function yr(e){return{onFetch:(s,n)=>{const r=s.options,a=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],l=s.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let h=!1;const f=v=>{Jc(v,()=>s.signal,()=>h=!0)},p=Yr(s.options,s.fetchOptions),x=async(v,m,g)=>{if(h)return Promise.reject();if(m==null&&v.pages.length)return Promise.resolve(v);const y=(()=>{const A={client:s.client,queryKey:s.queryKey,pageParam:m,direction:g?"backward":"forward",meta:s.options.meta};return f(A),A})(),w=await p(y),{maxPages:_}=s.options,N=g?Zc:Xc;return{pages:N(v.pages,w,_),pageParams:N(v.pageParams,m,_)}};if(a&&i.length){const v=a==="backward",m=v?ll:br,g={pages:i,pageParams:l},b=m(r,g);c=await x(g,b,v)}else{const v=e??i.length;do{const m=d===0?l[0]??r.initialPageParam:br(r,c);if(d>0&&m==null)break;c=await x(c,m),d++}while(d<v)}return c};s.options.persister?s.fetchFn=()=>s.options.persister?.(u,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=u}}}function br(e,{pages:s,pageParams:n}){const r=s.length-1;return s.length>0?e.getNextPageParam(s[r],s,n[r],n):void 0}function ll(e,{pages:s,pageParams:n}){return s.length>0?e.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var dl=class extends Jr{#e;#t;#s;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||ta(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=Zr({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",a=!this.#r.canStart();try{if(r)s();else{this.#n({type:"pending",variables:e,isPaused:a}),this.#s.config.onMutate&&await this.#s.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#r.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#n({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#n({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#n(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ce.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function ta(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ul=class extends Et{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,s,n){const r=new dl({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){this.#e.add(e);const s=ns(e);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=ns(e);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=ns(e);if(typeof s=="string"){const r=this.#t.get(s)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const s=ns(e);return typeof s=="string"?this.#t.get(s)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ce.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(n=>hr(s,n))}findAll(e={}){return this.getAll().filter(s=>hr(e,s))}notify(e){ce.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return ce.batch(()=>Promise.all(e.map(s=>s.continue().catch(me))))}};function ns(e){return e.options.scope?.id}var hl=class extends Et{#e;#t=void 0;#s;#r;constructor(s,n){super(),this.#e=s,this.setOptions(n),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const n=this.options;this.options=this.#e.defaultMutationOptions(s),hs(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&ut(n.mutationKey)!==ut(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#n(),this.#o(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(s,n){return this.#r=n,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#n(){const s=this.#s?.state??ta();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#o(s){ce.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#r.onSuccess?.(s.data,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(s.data,null,n,r,a)}catch(i){Promise.reject(i)}}else if(s?.type==="error"){try{this.#r.onError?.(s.error,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(void 0,s.error,n,r,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(n=>{n(this.#t)})})}},fl=class extends Et{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,n){const r=s.queryKey,a=s.queryHash??En(r,s);let i=this.get(a);return i||(i=new al({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ce.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>ur(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>ur(e,n)):s}notify(e){ce.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){ce.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ce.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ml=class{#e;#t;#s;#r;#n;#o;#i;#a;constructor(e={}){this.#e=e.queryCache||new fl,this.#t=e.mutationCache||new ul,this.#s=e.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Mn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=fs.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=this.#e.build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ze(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(e,s,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=Gc(s,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,s,n){return ce.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;ce.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=this.#e;return ce.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},r=ce.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(me).catch(me)}invalidateQueries(e,s={}){return ce.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=ce.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(me)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(me)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(Ze(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(me).catch(me)}fetchInfiniteQuery(e){return e.behavior=yr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(me).catch(me)}ensureInfiniteQueryData(e){return e.behavior=yr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fs.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,s){this.#r.set(ut(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#r.values()],n={};return s.forEach(r=>{Lt(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,s){this.#n.set(ut(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#n.values()],n={};return s.forEach(r=>{Lt(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=En(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Rn&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},sa=o.createContext(void 0),Qe=e=>{const s=o.useContext(sa);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},pl=({client:e,children:s})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(sa.Provider,{value:e,children:s})),na=o.createContext(!1),xl=()=>o.useContext(na);na.Provider;function vl(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var gl=o.createContext(vl()),yl=()=>o.useContext(gl),bl=(e,s,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?kn(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(s.isReset()||(e.retryOnMount=!1))},jl=e=>{o.useEffect(()=>{e.clearReset()},[e])},wl=({result:e,errorResetBoundary:s,throwOnError:n,query:r,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||kn(n,[e.error,r])),Nl=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Cl=(e,s)=>e.isLoading&&e.isFetching&&!s,Sl=(e,s)=>e?.suspense&&s.isPending,jr=(e,s,n)=>s.fetchOptimistic(e).catch(()=>{n.clearReset()});function _l(e,s,n){const r=xl(),a=yl(),i=Qe(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",Nl(l),bl(l,a,c),jl(a);const d=!i.getQueryCache().get(l.queryHash),[u]=o.useState(()=>new s(i,l)),h=u.getOptimisticResult(l),f=!r&&e.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(p=>{const x=f?u.subscribe(ce.batchCalls(p)):me;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),o.useEffect(()=>{u.setOptions(l)},[l,u]),Sl(l,h))throw jr(l,u,a);if(wl({result:h,errorResetBoundary:a,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw h.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!dt&&Cl(h,r)&&(d?jr(l,u,a):c?.promise)?.catch(me).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?h:u.trackResult(h)}function Me(e,s){return _l(e,ol)}function De(e,s){const n=Qe(),[r]=o.useState(()=>new hl(n,e));o.useEffect(()=>{r.setOptions(e)},[r,e]);const a=o.useSyncExternalStore(o.useCallback(l=>r.subscribe(ce.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=o.useCallback((l,c)=>{r.mutate(l,c).catch(me)},[r]);if(a.error&&kn(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const ra=o.createContext(null);function El({children:e}){const[s,n]=o.useState(null),[r,a]=o.useState(!0),i=o.useCallback(async()=>{try{const d=await Ks.me();n(d)}catch{n(null)}finally{a(!1)}},[]),l=o.useCallback(async(d,u)=>{await Ks.login(d,u),await i()},[i]),c=o.useCallback(async()=>{await Ks.logout(),n(null),window.location.href="/dashboard/login.html"},[]);return o.useEffect(()=>{i()},[i]),t.jsx(ra.Provider,{value:{user:s,isLoading:r,isLoggedIn:!!s,login:l,logout:c,checkAuth:i},children:e})}function Tn(){const e=o.useContext(ra);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var Rl=Dc[" useId ".trim().toString()]||(()=>{}),kl=0;function Ue(e){const[s,n]=o.useState(Rl());return qe(()=>{n(r=>r??String(kl++))},[e]),s?`radix-${s}`:""}const Ml=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Pl=D("activity",Ml);const Tl=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Il=D("arrow-left",Tl);const Dl=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Al=D("ban",Dl);const Ol=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Fl=D("bot",Ol);const Ll=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],$l=D("box",Ll);const Ul=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ql=D("calendar",Ul);const Kl=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bl=D("chart-column",Kl);const Hl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ve=D("check",Hl);const zl=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],In=D("chevron-down",zl);const Vl=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aa=D("chevron-left",Vl);const Wl=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Dn=D("chevron-right",Wl);const Gl=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oa=D("chevron-up",Gl);const Ql=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ia=D("circle-alert",Ql);const Yl=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xl=D("circle-check-big",Yl);const Zl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Jl=D("circle-dot",Zl);const ed=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$t=D("circle-x",ed);const td=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sd=D("circle",td);const nd=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=D("clock",nd);const rd=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ad=D("code",rd);const od=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],St=D("copy",od);const id=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],An=D("download",id);const cd=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ld=D("eye-off",cd);const dd=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ud=D("eye",dd);const hd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ca=D("file-text",hd);const fd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],md=D("globe",fd);const pd=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],xd=D("hard-drive",pd);const vd=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dt=D("history",vd);const gd=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],yd=D("hourglass",gd);const bd=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jd=D("image",bd);const wd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nd=D("info",wd);const Cd=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ms=D("key",Cd);const Sd=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ne=D("loader-circle",Sd);const _d=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ed=D("log-out",_d);const Rd=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ws=D("message-square",Rd);const kd=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],wr=D("mic",kd);const Md=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Pd=D("moon",Md);const Td=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],la=D("play",Td);const Id=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ns=D("plus",Id);const Dd=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nt=D("refresh-cw",Dd);const Ad=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Od=D("save",Ad);const Fd=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ld=D("search",Fd);const $d=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Ud=D("send",$d);const qd=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],qt=D("server",qd);const Kd=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bd=D("settings",Kd);const Hd=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zd=D("shield",Hd);const Vd=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wd=D("square-pen",Vd);const Gd=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Qd=D("sun",Gd);const Yd=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ht=D("trash-2",Yd);const Xd=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zd=D("trending-up",Xd);const Jd=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],un=D("users",Jd);const eu=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Nr=D("volume-2",eu);const tu=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],su=D("zap",tu);function nu(e={}){const{onMessage:s,onConnect:n,onDisconnect:r,reconnectInterval:a=3e3}=e,i=Qe(),l=o.useRef(null),c=o.useRef(null),[d,u]=o.useState(!1),[h,f]=o.useState(null),p=o.useCallback(()=>{const m=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/dashboard`;try{const g=new WebSocket(m);l.current=g,g.onopen=()=>{u(!0),n?.()},g.onmessage=b=>{try{const y=JSON.parse(b.data);switch(f(y),s?.(y),y.type){case"NodeRegistered":case"NodeRemoved":case"NodeStatusChanged":i.invalidateQueries({queryKey:["dashboard-overview"]}),i.invalidateQueries({queryKey:["request-responses"]});break;case"MetricsUpdated":i.invalidateQueries({queryKey:["dashboard-overview"]});break}}catch(y){console.error("Failed to parse WebSocket message:",y)}},g.onclose=()=>{u(!1),r?.(),l.current=null,c.current&&clearTimeout(c.current),c.current=setTimeout(p,a)},g.onerror=b=>{console.error("WebSocket error:",b),g.close()}}catch(g){console.error("Failed to create WebSocket:",g),c.current=setTimeout(p,a)}},[s,n,r,a,i]),x=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),l.current&&(l.current.close(),l.current=null),u(!1)},[]);return o.useEffect(()=>(p(),()=>{x()}),[p,x]),{isConnected:d,lastEvent:h,reconnect:p,disconnect:x}}function ru(){const{isConnected:e,lastEvent:s,reconnect:n}=nu({onConnect:()=>{console.log("Dashboard WebSocket connected")},onDisconnect:()=>{console.log("Dashboard WebSocket disconnected")}});return{isConnected:e,lastEvent:s,reconnect:n}}const Vs="llmlb-theme";function au(){const[e,s]=o.useState(()=>{if(typeof window>"u")return"dark";const r=localStorage.getItem(Vs);return r==="light"||r==="dark"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});o.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem(Vs,e)},[e]),o.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),a=i=>{localStorage.getItem(Vs)||s(i.matches?"dark":"light")};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[]);const n=o.useCallback(()=>{s(r=>r==="dark"?"light":"dark")},[]);return{theme:e,setTheme:s,toggleTheme:n}}var ou=o.createContext(void 0);function zt(e){const s=o.useContext(ou);return e||s||"ltr"}var Ws=0;function On(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Cr()),document.body.insertAdjacentElement("beforeend",e[1]??Cr()),Ws++,()=>{Ws===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Ws--}},[])}function Cr(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gs="focusScope.autoFocusOnMount",Qs="focusScope.autoFocusOnUnmount",Sr={bubbles:!1,cancelable:!0},iu="FocusScope",Cs=o.forwardRef((e,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[c,d]=o.useState(null),u=Se(a),h=Se(i),f=o.useRef(null),p=Q(s,m=>d(m)),x=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let m=function(w){if(x.paused||!c)return;const _=w.target;c.contains(_)?f.current=_:Xe(f.current,{select:!0})},g=function(w){if(x.paused||!c)return;const _=w.relatedTarget;_!==null&&(c.contains(_)||Xe(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const N of w)N.removedNodes.length>0&&Xe(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(b);return c&&y.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[r,c,x.paused]),o.useEffect(()=>{if(c){Er.add(x);const m=document.activeElement;if(!c.contains(m)){const b=new CustomEvent(Gs,Sr);c.addEventListener(Gs,u),c.dispatchEvent(b),b.defaultPrevented||(cu(fu(da(c)),{select:!0}),document.activeElement===m&&Xe(c))}return()=>{c.removeEventListener(Gs,u),setTimeout(()=>{const b=new CustomEvent(Qs,Sr);c.addEventListener(Qs,h),c.dispatchEvent(b),b.defaultPrevented||Xe(m??document.body,{select:!0}),c.removeEventListener(Qs,h),Er.remove(x)},0)}}},[c,u,h,x]);const v=o.useCallback(m=>{if(!n&&!r||x.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,b=document.activeElement;if(g&&b){const y=m.currentTarget,[w,_]=lu(y);w&&_?!m.shiftKey&&b===_?(m.preventDefault(),n&&Xe(w,{select:!0})):m.shiftKey&&b===w&&(m.preventDefault(),n&&Xe(_,{select:!0})):b===y&&m.preventDefault()}},[n,r,x.paused]);return t.jsx(L.div,{tabIndex:-1,...l,ref:p,onKeyDown:v})});Cs.displayName=iu;function cu(e,{select:s=!1}={}){const n=document.activeElement;for(const r of e)if(Xe(r,{select:s}),document.activeElement!==n)return}function lu(e){const s=da(e),n=_r(s,e),r=_r(s.reverse(),e);return[n,r]}function da(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function _r(e,s){for(const n of e)if(!du(n,{upTo:s}))return n}function du(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uu(e){return e instanceof HTMLInputElement&&"select"in e}function Xe(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&uu(e)&&s&&e.select()}}var Er=hu();function hu(){let e=[];return{add(s){const n=e[0];s!==n&&n?.pause(),e=Rr(e,s),e.unshift(s)},remove(s){e=Rr(e,s),e[0]?.resume()}}}function Rr(e,s){const n=[...e],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function fu(e){return e.filter(s=>s.tagName!=="A")}var Ys="rovingFocusGroup.onEntryFocus",mu={bubbles:!1,cancelable:!0},Vt="RovingFocusGroup",[hn,ua,pu]=jn(Vt),[xu,Ss]=Be(Vt,[pu]),[vu,gu]=xu(Vt),ha=o.forwardRef((e,s)=>t.jsx(hn.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(hn.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(yu,{...e,ref:s})})}));ha.displayName=Vt;var yu=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,p=o.useRef(null),x=Q(s,p),v=zt(i),[m,g]=et({prop:l,defaultProp:c??null,onChange:d,caller:Vt}),[b,y]=o.useState(!1),w=Se(u),_=ua(n),N=o.useRef(!1),[A,S]=o.useState(0);return o.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(Ys,w),()=>P.removeEventListener(Ys,w)},[w]),t.jsx(vu,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:m,onItemFocus:o.useCallback(P=>g(P),[g]),onItemShiftTab:o.useCallback(()=>y(!0),[]),onFocusableItemAdd:o.useCallback(()=>S(P=>P+1),[]),onFocusableItemRemove:o.useCallback(()=>S(P=>P-1),[]),children:t.jsx(L.div,{tabIndex:b||A===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:k(e.onMouseDown,()=>{N.current=!0}),onFocus:k(e.onFocus,P=>{const C=!N.current;if(P.target===P.currentTarget&&C&&!b){const F=new CustomEvent(Ys,mu);if(P.currentTarget.dispatchEvent(F),!F.defaultPrevented){const $=_().filter(B=>B.focusable),G=$.find(B=>B.active),R=$.find(B=>B.id===m),O=[G,R,...$].filter(Boolean).map(B=>B.ref.current);pa(O,h)}}N.current=!1}),onBlur:k(e.onBlur,()=>y(!1))})})}),fa="RovingFocusGroupItem",ma=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...c}=e,d=Ue(),u=i||d,h=gu(fa,n),f=h.currentTabStopId===u,p=ua(n),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:m}=h;return o.useEffect(()=>{if(r)return x(),()=>v()},[r,x,v]),t.jsx(hn.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:t.jsx(L.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...c,ref:s,onMouseDown:k(e.onMouseDown,g=>{r?h.onItemFocus(u):g.preventDefault()}),onFocus:k(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:k(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){h.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const b=wu(g,h.orientation,h.dir);if(b!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(g.currentTarget);w=h.loop?Nu(w,_+1):w.slice(_+1)}setTimeout(()=>pa(w))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:m!=null}):l})})});ma.displayName=fa;var bu={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ju(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wu(e,s,n){const r=ju(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bu[r]}function pa(e,s=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function Nu(e,s){return e.map((n,r)=>e[(s+r)%e.length])}var xa=ha,va=ma,Cu=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},vt=new WeakMap,rs=new WeakMap,as={},Xs=0,ga=function(e){return e&&(e.host||ga(e.parentNode))},Su=function(e,s){return s.map(function(n){if(e.contains(n))return n;var r=ga(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_u=function(e,s,n,r){var a=Su(s,Array.isArray(e)?e:[e]);as[n]||(as[n]=new WeakMap);var i=as[n],l=[],c=new Set,d=new Set(a),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};a.forEach(u);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(p){if(c.has(p))h(p);else try{var x=p.getAttribute(r),v=x!==null&&x!=="false",m=(vt.get(p)||0)+1,g=(i.get(p)||0)+1;vt.set(p,m),i.set(p,g),l.push(p),m===1&&v&&rs.set(p,!0),g===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return h(s),c.clear(),Xs++,function(){l.forEach(function(f){var p=vt.get(f)-1,x=i.get(f)-1;vt.set(f,p),i.set(f,x),p||(rs.has(f)||f.removeAttribute(r),rs.delete(f)),x||f.removeAttribute(n)}),Xs--,Xs||(vt=new WeakMap,vt=new WeakMap,rs=new WeakMap,as={})}},Fn=function(e,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Cu(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),_u(r,a,n,"aria-hidden")):function(){return null}},Fe=function(){return Fe=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Fe.apply(this,arguments)};function ya(e,s){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Eu(e,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return e.concat(i||Array.prototype.slice.call(s))}var cs="right-scroll-bar-position",ls="width-before-scroll-bar",Ru="with-scroll-bars-hidden",ku="--removed-body-scroll-bar-size";function Zs(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function Mu(e,s){var n=o.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var Pu=typeof window<"u"?o.useLayoutEffect:o.useEffect,kr=new WeakMap;function Tu(e,s){var n=Mu(null,function(r){return e.forEach(function(a){return Zs(a,r)})});return Pu(function(){var r=kr.get(n);if(r){var a=new Set(r),i=new Set(e),l=n.current;a.forEach(function(c){i.has(c)||Zs(c,null)}),i.forEach(function(c){a.has(c)||Zs(c,l)})}kr.set(n,e)},[e]),n}function Iu(e){return e}function Du(e,s){s===void 0&&(s=Iu);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=s(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var h=l;l=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),n}}}};return a}function Au(e){e===void 0&&(e={});var s=Du(null);return s.options=Fe({async:!0,ssr:!1},e),s}var ba=function(e){var s=e.sideCar,n=ya(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,Fe({},n))};ba.isSideCarExport=!0;function Ou(e,s){return e.useMedium(s),ba}var ja=Au(),Js=function(){},_s=o.forwardRef(function(e,s){var n=o.useRef(null),r=o.useState({onScrollCapture:Js,onWheelCapture:Js,onTouchMoveCapture:Js}),a=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,p=e.sideCar,x=e.noRelative,v=e.noIsolation,m=e.inert,g=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,_=ya(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=p,A=Tu([n,s]),S=Fe(Fe({},_),a);return o.createElement(o.Fragment,null,h&&o.createElement(N,{sideCar:ja,removeScrollBar:u,shards:f,noRelative:x,noIsolation:v,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:w}),l?o.cloneElement(o.Children.only(c),Fe(Fe({},S),{ref:A})):o.createElement(y,Fe({},S,{className:d,ref:A}),c))});_s.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_s.classNames={fullWidth:ls,zeroRight:cs};var Fu=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=Fu();return s&&e.setAttribute("nonce",s),e}function $u(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function Uu(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var qu=function(){var e=0,s=null;return{add:function(n){e==0&&(s=Lu())&&($u(s,n),Uu(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Ku=function(){var e=qu();return function(s,n){o.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},wa=function(){var e=Ku(),s=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return s},Bu={left:0,top:0,right:0,gap:0},en=function(e){return parseInt(e||"",10)||0},Hu=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],r=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[en(n),en(r),en(a)]},zu=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Bu;var s=Hu(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},Vu=wa(),jt="data-scroll-locked",Wu=function(e,s,n,r){var a=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ru,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(jt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cs,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ls,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(cs," .").concat(cs,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ls," .").concat(ls,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jt,`] {
    `).concat(ku,": ").concat(c,`px;
  }
`)},Mr=function(){var e=parseInt(document.body.getAttribute(jt)||"0",10);return isFinite(e)?e:0},Gu=function(){o.useEffect(function(){return document.body.setAttribute(jt,(Mr()+1).toString()),function(){var e=Mr()-1;e<=0?document.body.removeAttribute(jt):document.body.setAttribute(jt,e.toString())}},[])},Qu=function(e){var s=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Gu();var i=o.useMemo(function(){return zu(a)},[a]);return o.createElement(Vu,{styles:Wu(i,!s,a,n?"":"!important")})},fn=!1;if(typeof window<"u")try{var os=Object.defineProperty({},"passive",{get:function(){return fn=!0,!0}});window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{fn=!1}var gt=fn?{passive:!1}:!1,Yu=function(e){return e.tagName==="TEXTAREA"},Na=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yu(e)&&n[s]==="visible")},Xu=function(e){return Na(e,"overflowY")},Zu=function(e){return Na(e,"overflowX")},Pr=function(e,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Ca(e,r);if(a){var i=Sa(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ju=function(e){var s=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[s,n,r]},eh=function(e){var s=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[s,n,r]},Ca=function(e,s){return e==="v"?Xu(s):Zu(s)},Sa=function(e,s){return e==="v"?Ju(s):eh(s)},th=function(e,s){return e==="h"&&s==="rtl"?-1:1},sh=function(e,s,n,r,a){var i=th(e,window.getComputedStyle(s).direction),l=i*r,c=n.target,d=s.contains(c),u=!1,h=l>0,f=0,p=0;do{if(!c)break;var x=Sa(e,c),v=x[0],m=x[1],g=x[2],b=m-g-i*v;(v||b)&&Ca(e,c)&&(f+=b,p+=v);var y=c.parentNode;c=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!d&&c!==document.body||d&&(s.contains(c)||s===c));return(h&&Math.abs(f)<1||!h&&Math.abs(p)<1)&&(u=!0),u},is=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Tr=function(e){return[e.deltaX,e.deltaY]},Ir=function(e){return e&&"current"in e?e.current:e},nh=function(e,s){return e[0]===s[0]&&e[1]===s[1]},rh=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ah=0,yt=[];function oh(e){var s=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(ah++)[0],i=o.useState(wa)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=Eu([e.lockRef.current],(e.shards||[]).map(Ir),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!l.current.allowPinchZoom;var b=is(m),y=n.current,w="deltaX"in m?m.deltaX:y[0]-b[0],_="deltaY"in m?m.deltaY:y[1]-b[1],N,A=m.target,S=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&S==="h"&&A.type==="range")return!1;var P=window.getSelection(),C=P&&P.anchorNode,F=C?C===A||C.contains(A):!1;if(F)return!1;var $=Pr(S,A);if(!$)return!0;if($?N=S:(N=S==="v"?"h":"v",$=Pr(S,A)),!$)return!1;if(!r.current&&"changedTouches"in m&&(w||_)&&(r.current=N),!N)return!0;var G=r.current||N;return sh(G,g,m,G==="h"?w:_)},[]),d=o.useCallback(function(m){var g=m;if(!(!yt.length||yt[yt.length-1]!==i)){var b="deltaY"in g?Tr(g):is(g),y=s.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&nh(N.delta,b)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var w=(l.current.shards||[]).map(Ir).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=w.length>0?c(g,w[0]):!l.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=o.useCallback(function(m,g,b,y){var w={name:m,delta:g,target:b,should:y,shadowParent:ih(b)};s.current.push(w),setTimeout(function(){s.current=s.current.filter(function(_){return _!==w})},1)},[]),h=o.useCallback(function(m){n.current=is(m),r.current=void 0},[]),f=o.useCallback(function(m){u(m.type,Tr(m),m.target,c(m,e.lockRef.current))},[]),p=o.useCallback(function(m){u(m.type,is(m),m.target,c(m,e.lockRef.current))},[]);o.useEffect(function(){return yt.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",d,gt),document.addEventListener("touchmove",d,gt),document.addEventListener("touchstart",h,gt),function(){yt=yt.filter(function(m){return m!==i}),document.removeEventListener("wheel",d,gt),document.removeEventListener("touchmove",d,gt),document.removeEventListener("touchstart",h,gt)}},[]);var x=e.removeScrollBar,v=e.inert;return o.createElement(o.Fragment,null,v?o.createElement(i,{styles:rh(a)}):null,x?o.createElement(Qu,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ih(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const ch=Ou(ja,oh);var Es=o.forwardRef(function(e,s){return o.createElement(_s,Fe({},e,{ref:s,sideCar:ch}))});Es.classNames=_s.classNames;var mn=["Enter"," "],lh=["ArrowDown","PageUp","Home"],_a=["ArrowUp","PageDown","End"],dh=[...lh,..._a],uh={ltr:[...mn,"ArrowRight"],rtl:[...mn,"ArrowLeft"]},hh={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wt="Menu",[Kt,fh,mh]=jn(Wt),[pt,Ea]=Be(Wt,[mh,js,Ss]),Rs=js(),Ra=Ss(),[ph,xt]=pt(Wt),[xh,Gt]=pt(Wt),ka=e=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:l=!0}=e,c=Rs(s),[d,u]=o.useState(null),h=o.useRef(!1),f=Se(i),p=zt(a);return o.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),t.jsx(Br,{...c,children:t.jsx(ph,{scope:s,open:n,onOpenChange:f,content:d,onContentChange:u,children:t.jsx(xh,{scope:s,onClose:o.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:l,children:r})})})};ka.displayName=Wt;var vh="MenuAnchor",Ln=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=Rs(n);return t.jsx(qr,{...a,...r,ref:s})});Ln.displayName=vh;var $n="MenuPortal",[gh,Ma]=pt($n,{forceMount:void 0}),Pa=e=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=e,i=xt($n,s);return t.jsx(gh,{scope:s,forceMount:n,children:t.jsx(Ee,{present:n||i.open,children:t.jsx(wn,{asChild:!0,container:a,children:r})})})};Pa.displayName=$n;var Pe="MenuContent",[yh,Un]=pt(Pe),Ta=o.forwardRef((e,s)=>{const n=Ma(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=xt(Pe,e.__scopeMenu),l=Gt(Pe,e.__scopeMenu);return t.jsx(Kt.Provider,{scope:e.__scopeMenu,children:t.jsx(Ee,{present:r||i.open,children:t.jsx(Kt.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(bh,{...a,ref:s}):t.jsx(jh,{...a,ref:s})})})})}),bh=o.forwardRef((e,s)=>{const n=xt(Pe,e.__scopeMenu),r=o.useRef(null),a=Q(s,r);return o.useEffect(()=>{const i=r.current;if(i)return Fn(i)},[]),t.jsx(qn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:k(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),jh=o.forwardRef((e,s)=>{const n=xt(Pe,e.__scopeMenu);return t.jsx(qn,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),wh=Nn("MenuContent.ScrollLock"),qn=o.forwardRef((e,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:x,disableOutsideScroll:v,...m}=e,g=xt(Pe,n),b=Gt(Pe,n),y=Rs(n),w=Ra(n),_=fh(n),[N,A]=o.useState(null),S=o.useRef(null),P=Q(s,S,g.onContentChange),C=o.useRef(0),F=o.useRef(""),$=o.useRef(0),G=o.useRef(null),R=o.useRef("right"),H=o.useRef(0),O=v?Es:o.Fragment,B=v?{as:wh,allowPinchZoom:!0}:void 0,re=I=>{const be=F.current+I,oe=_().filter(j=>!j.disabled),le=document.activeElement,Re=oe.find(j=>j.ref.current===le)?.textValue,de=oe.map(j=>j.textValue),je=Dh(de,be,Re),ie=oe.find(j=>j.textValue===je)?.ref.current;(function j(q){F.current=q,window.clearTimeout(C.current),q!==""&&(C.current=window.setTimeout(()=>j(""),1e3))})(be),ie&&setTimeout(()=>ie.focus())};o.useEffect(()=>()=>window.clearTimeout(C.current),[]),On();const ae=o.useCallback(I=>R.current===G.current?.side&&Oh(I,G.current?.area),[]);return t.jsx(yh,{scope:n,searchRef:F,onItemEnter:o.useCallback(I=>{ae(I)&&I.preventDefault()},[ae]),onItemLeave:o.useCallback(I=>{ae(I)||(S.current?.focus(),A(null))},[ae]),onTriggerLeave:o.useCallback(I=>{ae(I)&&I.preventDefault()},[ae]),pointerGraceTimerRef:$,onPointerGraceIntentChange:o.useCallback(I=>{G.current=I},[]),children:t.jsx(O,{...B,children:t.jsx(Cs,{asChild:!0,trapped:a,onMountAutoFocus:k(i,I=>{I.preventDefault(),S.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Cn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:x,children:t.jsx(xa,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:A,onEntryFocus:k(d,I=>{b.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Kr,{role:"menu","aria-orientation":"vertical","data-state":Ga(g.open),"data-radix-menu-content":"",dir:b.dir,...y,...m,ref:P,style:{outline:"none",...m.style},onKeyDown:k(m.onKeyDown,I=>{const oe=I.target.closest("[data-radix-menu-content]")===I.currentTarget,le=I.ctrlKey||I.altKey||I.metaKey,Re=I.key.length===1;oe&&(I.key==="Tab"&&I.preventDefault(),!le&&Re&&re(I.key));const de=S.current;if(I.target!==de||!dh.includes(I.key))return;I.preventDefault();const ie=_().filter(j=>!j.disabled).map(j=>j.ref.current);_a.includes(I.key)&&ie.reverse(),Th(ie)}),onBlur:k(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(C.current),F.current="")}),onPointerMove:k(e.onPointerMove,Bt(I=>{const be=I.target,oe=H.current!==I.clientX;if(I.currentTarget.contains(be)&&oe){const le=I.clientX>H.current?"right":"left";R.current=le,H.current=I.clientX}}))})})})})})})});Ta.displayName=Pe;var Nh="MenuGroup",Kn=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(L.div,{role:"group",...r,ref:s})});Kn.displayName=Nh;var Ch="MenuLabel",Ia=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(L.div,{...r,ref:s})});Ia.displayName=Ch;var ps="MenuItem",Dr="menu.itemSelect",ks=o.forwardRef((e,s)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=o.useRef(null),l=Gt(ps,e.__scopeMenu),c=Un(ps,e.__scopeMenu),d=Q(s,i),u=o.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(Dr,{bubbles:!0,cancelable:!0});f.addEventListener(Dr,x=>r?.(x),{once:!0}),Ac(f,p),p.defaultPrevented?u.current=!1:l.onClose()}};return t.jsx(Da,{...a,ref:d,disabled:n,onClick:k(e.onClick,h),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:k(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:k(e.onKeyDown,f=>{const p=c.searchRef.current!=="";n||p&&f.key===" "||mn.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});ks.displayName=ps;var Da=o.forwardRef((e,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,l=Un(ps,n),c=Ra(n),d=o.useRef(null),u=Q(s,d),[h,f]=o.useState(!1),[p,x]=o.useState("");return o.useEffect(()=>{const v=d.current;v&&x((v.textContent??"").trim())},[i.children]),t.jsx(Kt.ItemSlot,{scope:n,disabled:r,textValue:a??p,children:t.jsx(va,{asChild:!0,...c,focusable:!r,children:t.jsx(L.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:k(e.onPointerMove,Bt(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:k(e.onPointerLeave,Bt(v=>l.onItemLeave(v))),onFocus:k(e.onFocus,()=>f(!0)),onBlur:k(e.onBlur,()=>f(!1))})})})}),Sh="MenuCheckboxItem",Aa=o.forwardRef((e,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return t.jsx(Ua,{scope:e.__scopeMenu,checked:n,children:t.jsx(ks,{role:"menuitemcheckbox","aria-checked":xs(n)?"mixed":n,...a,ref:s,"data-state":Hn(n),onSelect:k(a.onSelect,()=>r?.(xs(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Aa.displayName=Sh;var Oa="MenuRadioGroup",[_h,Eh]=pt(Oa,{value:void 0,onValueChange:()=>{}}),Fa=o.forwardRef((e,s)=>{const{value:n,onValueChange:r,...a}=e,i=Se(r);return t.jsx(_h,{scope:e.__scopeMenu,value:n,onValueChange:i,children:t.jsx(Kn,{...a,ref:s})})});Fa.displayName=Oa;var La="MenuRadioItem",$a=o.forwardRef((e,s)=>{const{value:n,...r}=e,a=Eh(La,e.__scopeMenu),i=n===a.value;return t.jsx(Ua,{scope:e.__scopeMenu,checked:i,children:t.jsx(ks,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":Hn(i),onSelect:k(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});$a.displayName=La;var Bn="MenuItemIndicator",[Ua,Rh]=pt(Bn,{checked:!1}),qa=o.forwardRef((e,s)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=Rh(Bn,n);return t.jsx(Ee,{present:r||xs(i.checked)||i.checked===!0,children:t.jsx(L.span,{...a,ref:s,"data-state":Hn(i.checked)})})});qa.displayName=Bn;var kh="MenuSeparator",Ka=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(L.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});Ka.displayName=kh;var Mh="MenuArrow",Ba=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=Rs(n);return t.jsx(Hr,{...a,...r,ref:s})});Ba.displayName=Mh;var Ph="MenuSub",[Pp,Ha]=pt(Ph),At="MenuSubTrigger",za=o.forwardRef((e,s)=>{const n=xt(At,e.__scopeMenu),r=Gt(At,e.__scopeMenu),a=Ha(At,e.__scopeMenu),i=Un(At,e.__scopeMenu),l=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},h=o.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return o.useEffect(()=>h,[h]),o.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),t.jsx(Ln,{asChild:!0,...u,children:t.jsx(Da,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Ga(n.open),...e,ref:Ur(s,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:k(e.onPointerMove,Bt(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:k(e.onPointerLeave,Bt(f=>{h();const p=n.content?.getBoundingClientRect();if(p){const x=n.content?.dataset.side,v=x==="right",m=v?-5:5,g=p[v?"left":"right"],b=p[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+m,y:f.clientY},{x:g,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:g,y:p.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:k(e.onKeyDown,f=>{const p=i.searchRef.current!=="";e.disabled||p&&f.key===" "||uh[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});za.displayName=At;var Va="MenuSubContent",Wa=o.forwardRef((e,s)=>{const n=Ma(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=xt(Pe,e.__scopeMenu),l=Gt(Pe,e.__scopeMenu),c=Ha(Va,e.__scopeMenu),d=o.useRef(null),u=Q(s,d);return t.jsx(Kt.Provider,{scope:e.__scopeMenu,children:t.jsx(Ee,{present:r||i.open,children:t.jsx(Kt.Slot,{scope:e.__scopeMenu,children:t.jsx(qn,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{l.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:k(e.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:k(e.onEscapeKeyDown,h=>{l.onClose(),h.preventDefault()}),onKeyDown:k(e.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),p=hh[l.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),c.trigger?.focus(),h.preventDefault())})})})})})});Wa.displayName=Va;function Ga(e){return e?"open":"closed"}function xs(e){return e==="indeterminate"}function Hn(e){return xs(e)?"indeterminate":e?"checked":"unchecked"}function Th(e){const s=document.activeElement;for(const n of e)if(n===s||(n.focus(),document.activeElement!==s))return}function Ih(e,s){return e.map((n,r)=>e[(s+r)%e.length])}function Dh(e,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let l=Ih(e,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Ah(e,s){const{x:n,y:r}=e;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],d=s[l],u=c.x,h=c.y,f=d.x,p=d.y;h>r!=p>r&&n<(f-u)*(r-h)/(p-h)+u&&(a=!a)}return a}function Oh(e,s){if(!s)return!1;const n={x:e.clientX,y:e.clientY};return Ah(n,s)}function Bt(e){return s=>s.pointerType==="mouse"?e(s):void 0}var Fh=ka,Lh=Ln,$h=Pa,Uh=Ta,qh=Kn,Kh=Ia,Bh=ks,Hh=Aa,zh=Fa,Vh=$a,Wh=qa,Gh=Ka,Qh=Ba,Yh=za,Xh=Wa,Ms="DropdownMenu",[Zh]=Be(Ms,[Ea]),ye=Ea(),[Jh,Qa]=Zh(Ms),Ya=e=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,d=ye(s),u=o.useRef(null),[h,f]=et({prop:a,defaultProp:i??!1,onChange:l,caller:Ms});return t.jsx(Jh,{scope:s,triggerId:Ue(),triggerRef:u,contentId:Ue(),open:h,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(p=>!p),[f]),modal:c,children:t.jsx(Fh,{...d,open:h,onOpenChange:f,dir:r,modal:c,children:n})})};Ya.displayName=Ms;var Xa="DropdownMenuTrigger",Za=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=Qa(Xa,n),l=ye(n);return t.jsx(Lh,{asChild:!0,...l,children:t.jsx(L.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:Ur(s,i.triggerRef),onPointerDown:k(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:k(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Za.displayName=Xa;var ef="DropdownMenuPortal",Ja=e=>{const{__scopeDropdownMenu:s,...n}=e,r=ye(s);return t.jsx($h,{...r,...n})};Ja.displayName=ef;var eo="DropdownMenuContent",to=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Qa(eo,n),i=ye(n),l=o.useRef(!1);return t.jsx(Uh,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:k(e.onCloseAutoFocus,c=>{l.current||a.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:k(e.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});to.displayName=eo;var tf="DropdownMenuGroup",sf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(qh,{...a,...r,ref:s})});sf.displayName=tf;var nf="DropdownMenuLabel",so=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Kh,{...a,...r,ref:s})});so.displayName=nf;var rf="DropdownMenuItem",no=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Bh,{...a,...r,ref:s})});no.displayName=rf;var af="DropdownMenuCheckboxItem",ro=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Hh,{...a,...r,ref:s})});ro.displayName=af;var of="DropdownMenuRadioGroup",cf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(zh,{...a,...r,ref:s})});cf.displayName=of;var lf="DropdownMenuRadioItem",ao=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Vh,{...a,...r,ref:s})});ao.displayName=lf;var df="DropdownMenuItemIndicator",oo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Wh,{...a,...r,ref:s})});oo.displayName=df;var uf="DropdownMenuSeparator",io=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Gh,{...a,...r,ref:s})});io.displayName=uf;var hf="DropdownMenuArrow",ff=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Qh,{...a,...r,ref:s})});ff.displayName=hf;var mf="DropdownMenuSubTrigger",co=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Yh,{...a,...r,ref:s})});co.displayName=mf;var pf="DropdownMenuSubContent",lo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=ye(n);return t.jsx(Xh,{...a,...r,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lo.displayName=pf;var xf=Ya,vf=Za,gf=Ja,uo=to,ho=so,fo=no,mo=ro,po=ao,xo=oo,vo=io,go=co,yo=lo;const yf=xf,bf=vf,jf=o.forwardRef(({className:e,inset:s,children:n,...r},a)=>t.jsxs(go,{ref:a,className:T("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...r,children:[n,t.jsx(Dn,{className:"ml-auto"})]}));jf.displayName=go.displayName;const wf=o.forwardRef(({className:e,...s},n)=>t.jsx(yo,{ref:n,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));wf.displayName=yo.displayName;const bo=o.forwardRef(({className:e,sideOffset:s=4,...n},r)=>t.jsx(gf,{children:t.jsx(uo,{ref:r,sideOffset:s,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bo.displayName=uo.displayName;const Ot=o.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(fo,{ref:r,className:T("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",e),...n}));Ot.displayName=fo.displayName;const Nf=o.forwardRef(({className:e,children:s,checked:n,...r},a)=>t.jsxs(mo,{ref:a,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(xo,{children:t.jsx(Ve,{className:"h-4 w-4"})})}),s]}));Nf.displayName=mo.displayName;const Cf=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(po,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(xo,{children:t.jsx(sd,{className:"h-2 w-2 fill-current"})})}),s]}));Cf.displayName=po.displayName;const jo=o.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(ho,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...n}));jo.displayName=ho.displayName;const ds=o.forwardRef(({className:e,...s},n)=>t.jsx(vo,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...s}));ds.displayName=vo.displayName;function zn(e){const s=o.useRef({value:e,previous:e});return o.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Ps="Checkbox",[Sf]=Be(Ps),[_f,Vn]=Sf(Ps);function Ef(e){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:l,name:c,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:f}=e,[p,x]=et({prop:n,defaultProp:a??!1,onChange:d,caller:Ps}),[v,m]=o.useState(null),[g,b]=o.useState(null),y=o.useRef(!1),w=v?!!l||!!v.closest("form"):!0,_={checked:p,disabled:i,setChecked:x,control:v,setControl:m,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:y,required:u,defaultChecked:Je(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:b};return t.jsx(_f,{scope:s,..._,children:Rf(f)?f(_):r})}var wo="CheckboxTrigger",No=o.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:l,disabled:c,checked:d,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:p,isFormControl:x,bubbleInput:v}=Vn(wo,e),m=Q(a,h),g=o.useRef(d);return o.useEffect(()=>{const b=i?.form;if(b){const y=()=>f(g.current);return b.addEventListener("reset",y),()=>b.removeEventListener("reset",y)}},[i,f]),t.jsx(L.button,{type:"button",role:"checkbox","aria-checked":Je(d)?"mixed":d,"aria-required":u,"data-state":Ro(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:m,onKeyDown:k(s,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:k(n,b=>{f(y=>Je(y)?!0:!y),v&&x&&(p.current=b.isPropagationStopped(),p.current||b.stopPropagation())})})});No.displayName=wo;var Wn=o.forwardRef((e,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:u,form:h,...f}=e;return t.jsx(Ef,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:c,required:l,onCheckedChange:u,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(No,{...f,ref:s,__scopeCheckbox:n}),p&&t.jsx(Eo,{__scopeCheckbox:n})]})})});Wn.displayName=Ps;var Co="CheckboxIndicator",So=o.forwardRef((e,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=Vn(Co,n);return t.jsx(Ee,{present:r||Je(i.checked)||i.checked===!0,children:t.jsx(L.span,{"data-state":Ro(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});So.displayName=Co;var _o="CheckboxBubbleInput",Eo=o.forwardRef(({__scopeCheckbox:e,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:c,disabled:d,name:u,value:h,form:f,bubbleInput:p,setBubbleInput:x}=Vn(_o,e),v=Q(n,x),m=zn(i),g=zr(r);o.useEffect(()=>{const y=p;if(!y)return;const w=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(w,"checked").set,A=!a.current;if(m!==i&&N){const S=new Event("click",{bubbles:A});y.indeterminate=Je(i),N.call(y,Je(i)?!1:i),y.dispatchEvent(S)}},[p,m,i,a]);const b=o.useRef(Je(i)?!1:i);return t.jsx(L.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??b.current,required:c,disabled:d,name:u,value:h,form:f,...s,tabIndex:-1,ref:v,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Eo.displayName=_o;function Rf(e){return typeof e=="function"}function Je(e){return e==="indeterminate"}function Ro(e){return Je(e)?"indeterminate":e?"checked":"unchecked"}const ko=o.forwardRef(({className:e,...s},n)=>t.jsx(Wn,{ref:n,className:T("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(So,{className:T("flex items-center justify-center text-current"),children:t.jsx(Ve,{className:"h-4 w-4"})})}));ko.displayName=Wn.displayName;const kf=Oc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning",online:"border-transparent bg-success/20 text-success",offline:"border-transparent bg-destructive/20 text-destructive",pending:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:s,...n}){return t.jsx("div",{className:T(kf({variant:s}),e),...n})}function pn(e,[s,n]){return Math.min(n,Math.max(s,e))}function Mf(e,s){return o.useReducer((n,r)=>s[n][r]??n,e)}var Gn="ScrollArea",[Mo]=Be(Gn),[Pf,Te]=Mo(Gn),Po=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...l}=e,[c,d]=o.useState(null),[u,h]=o.useState(null),[f,p]=o.useState(null),[x,v]=o.useState(null),[m,g]=o.useState(null),[b,y]=o.useState(0),[w,_]=o.useState(0),[N,A]=o.useState(!1),[S,P]=o.useState(!1),C=Q(s,$=>d($)),F=zt(a);return t.jsx(Pf,{scope:n,type:r,dir:F,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:h,content:f,onContentChange:p,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:S,onScrollbarYEnabledChange:P,onCornerWidthChange:y,onCornerHeightChange:_,children:t.jsx(L.div,{dir:F,...l,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Po.displayName=Gn;var To="ScrollAreaViewport",Io=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,l=Te(To,n),c=o.useRef(null),d=Q(s,c,l.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(L.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Io.displayName=To;var He="ScrollAreaScrollbar",Qn=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,c=e.orientation==="horizontal";return o.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),a.type==="hover"?t.jsx(Tf,{...r,ref:s,forceMount:n}):a.type==="scroll"?t.jsx(If,{...r,ref:s,forceMount:n}):a.type==="auto"?t.jsx(Do,{...r,ref:s,forceMount:n}):a.type==="always"?t.jsx(Yn,{...r,ref:s}):null});Qn.displayName=He;var Tf=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),[i,l]=o.useState(!1);return o.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),l(!0)},h=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Ee,{present:n||i,children:t.jsx(Do,{"data-state":i?"visible":"hidden",...r,ref:s})})}),If=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Is(()=>d("SCROLL_END"),100),[c,d]=Mf("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,a.scrollHideDelay,d]),o.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const p=()=>{const x=u[h];f!==x&&(d("SCROLL"),l()),f=x};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[a.viewport,i,d,l]),t.jsx(Ee,{present:n||c!=="hidden",children:t.jsx(Yn,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:k(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:k(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Do=o.forwardRef((e,s)=>{const n=Te(He,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,l]=o.useState(!1),c=e.orientation==="horizontal",d=Is(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?u:h)}},10);return _t(n.viewport,d),_t(n.content,d),t.jsx(Ee,{present:r||i,children:t.jsx(Yn,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Yn=o.forwardRef((e,s)=>{const{orientation:n="vertical",...r}=e,a=Te(He,e.__scopeScrollArea),i=o.useRef(null),l=o.useRef(0),[c,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=$o(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:p=>l.current=p};function f(p,x){return $f(p,l.current,c,x)}return n==="horizontal"?t.jsx(Df,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,x=Ar(p,c,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=f(p,a.dir))}}):n==="vertical"?t.jsx(Af,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,x=Ar(p,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=f(p))}}):null}),Df=o.forwardRef((e,s)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Te(He,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),u=Q(s,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(Oo,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ts(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(p),qo(p,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:gs(l.paddingLeft),paddingEnd:gs(l.paddingRight)}})}})}),Af=o.forwardRef((e,s)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Te(He,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),u=Q(s,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(Oo,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ts(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const p=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(p),qo(p,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:gs(l.paddingTop),paddingEnd:gs(l.paddingBottom)}})}})}),[Of,Ao]=Mo(He),Oo=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:f,...p}=e,x=Te(He,n),[v,m]=o.useState(null),g=Q(s,C=>m(C)),b=o.useRef(null),y=o.useRef(""),w=x.viewport,_=r.content-r.viewport,N=Se(h),A=Se(d),S=Is(f,10);function P(C){if(b.current){const F=C.clientX-b.current.left,$=C.clientY-b.current.top;u({x:F,y:$})}}return o.useEffect(()=>{const C=F=>{const $=F.target;v?.contains($)&&N(F,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,v,_,N]),o.useEffect(A,[r,A]),_t(v,S),_t(x.content,S),t.jsx(Of,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Se(i),onThumbPointerUp:Se(l),onThumbPositionChange:A,onThumbPointerDown:Se(c),children:t.jsx(L.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:k(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),P(C))}),onPointerMove:k(e.onPointerMove,P),onPointerUp:k(e.onPointerUp,C=>{const F=C.target;F.hasPointerCapture(C.pointerId)&&F.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,x.viewport&&(x.viewport.style.scrollBehavior=""),b.current=null})})})}),vs="ScrollAreaThumb",Fo=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Ao(vs,e.__scopeScrollArea);return t.jsx(Ee,{present:n||a.hasThumb,children:t.jsx(Ff,{ref:s,...r})})}),Ff=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Te(vs,n),l=Ao(vs,n),{onThumbPositionChange:c}=l,d=Q(s,f=>l.onThumbChange(f)),u=o.useRef(void 0),h=Is(()=>{u.current&&(u.current(),u.current=void 0)},100);return o.useEffect(()=>{const f=i.viewport;if(f){const p=()=>{if(h(),!u.current){const x=Uf(f,c);u.current=x,c()}};return c(),f.addEventListener("scroll",p),()=>f.removeEventListener("scroll",p)}},[i.viewport,h,c]),t.jsx(L.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:k(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),v=f.clientX-x.left,m=f.clientY-x.top;l.onThumbPointerDown({x:v,y:m})}),onPointerUp:k(e.onPointerUp,l.onThumbPointerUp)})});Fo.displayName=vs;var Xn="ScrollAreaCorner",Lo=o.forwardRef((e,s)=>{const n=Te(Xn,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?t.jsx(Lf,{...e,ref:s}):null});Lo.displayName=Xn;var Lf=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,...r}=e,a=Te(Xn,n),[i,l]=o.useState(0),[c,d]=o.useState(0),u=!!(i&&c);return _t(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),_t(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),l(h)}),u?t.jsx(L.div,{...r,ref:s,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function gs(e){return e?parseInt(e,10):0}function $o(e,s){const n=e/s;return isNaN(n)?0:n}function Ts(e){const s=$o(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*s;return Math.max(r,18)}function $f(e,s,n,r="ltr"){const a=Ts(n),i=a/2,l=s||i,c=a-l,d=n.scrollbar.paddingStart+l,u=n.scrollbar.size-n.scrollbar.paddingEnd-c,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return Uo([d,u],f)(e)}function Ar(e,s,n="ltr"){const r=Ts(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],u=pn(e,d);return Uo([0,l],[0,c])(u)}function Uo(e,s){return n=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(e[1]-e[0]);return s[0]+r*(n-e[0])}}function qo(e,s){return e>0&&e<s}var Uf=(e,s=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&s(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function Is(e,s){const n=Se(e),r=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),o.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function _t(e,s){const n=Se(s);qe(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Ko=Po,qf=Io,Kf=Lo;const Ke=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(Ko,{ref:r,className:T("relative overflow-hidden",e),...n,children:[t.jsx(qf,{className:"h-full w-full rounded-[inherit]",children:s}),t.jsx(Bo,{}),t.jsx(Kf,{})]}));Ke.displayName=Ko.displayName;const Bo=o.forwardRef(({className:e,orientation:s="vertical",...n},r)=>t.jsx(Qn,{ref:r,orientation:s,className:T("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx(Fo,{className:"relative flex-1 rounded-full bg-border"})}));Bo.displayName=Qn.displayName;var Ds="Dialog",[Ho,zo]=Be(Ds),[Bf,Oe]=Ho(Ds),Vo=e=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),d=o.useRef(null),[u,h]=et({prop:r,defaultProp:a??!1,onChange:i,caller:Ds});return t.jsx(Bf,{scope:s,triggerRef:c,contentRef:d,contentId:Ue(),titleId:Ue(),descriptionId:Ue(),open:u,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(f=>!f),[h]),modal:l,children:n})};Vo.displayName=Ds;var Wo="DialogTrigger",Go=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(Wo,n),i=Q(s,a.triggerRef);return t.jsx(L.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":er(a.open),...r,ref:i,onClick:k(e.onClick,a.onOpenToggle)})});Go.displayName=Wo;var Zn="DialogPortal",[Hf,Qo]=Ho(Zn,{forceMount:void 0}),Yo=e=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=e,i=Oe(Zn,s);return t.jsx(Hf,{scope:s,forceMount:n,children:o.Children.map(r,l=>t.jsx(Ee,{present:n||i.open,children:t.jsx(wn,{asChild:!0,container:a,children:l})}))})};Yo.displayName=Zn;var ys="DialogOverlay",Xo=o.forwardRef((e,s)=>{const n=Qo(ys,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Oe(ys,e.__scopeDialog);return i.modal?t.jsx(Ee,{present:r||i.open,children:t.jsx(Vf,{...a,ref:s})}):null});Xo.displayName=ys;var zf=Nn("DialogOverlay.RemoveScroll"),Vf=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ys,n);return t.jsx(Es,{as:zf,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(L.div,{"data-state":er(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),ht="DialogContent",Zo=o.forwardRef((e,s)=>{const n=Qo(ht,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Oe(ht,e.__scopeDialog);return t.jsx(Ee,{present:r||i.open,children:i.modal?t.jsx(Wf,{...a,ref:s}):t.jsx(Gf,{...a,ref:s})})});Zo.displayName=ht;var Wf=o.forwardRef((e,s)=>{const n=Oe(ht,e.__scopeDialog),r=o.useRef(null),a=Q(s,n.contentRef,r);return o.useEffect(()=>{const i=r.current;if(i)return Fn(i)},[]),t.jsx(Jo,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:k(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:k(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:k(e.onFocusOutside,i=>i.preventDefault())})}),Gf=o.forwardRef((e,s)=>{const n=Oe(ht,e.__scopeDialog),r=o.useRef(!1),a=o.useRef(!1);return t.jsx(Jo,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Jo=o.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,c=Oe(ht,n),d=o.useRef(null),u=Q(s,d);return On(),t.jsxs(t.Fragment,{children:[t.jsx(Cs,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(Cn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":er(c.open),...l,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Yf,{titleId:c.titleId}),t.jsx(Zf,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Jn="DialogTitle",ei=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(Jn,n);return t.jsx(L.h2,{id:a.titleId,...r,ref:s})});ei.displayName=Jn;var ti="DialogDescription",si=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ti,n);return t.jsx(L.p,{id:a.descriptionId,...r,ref:s})});si.displayName=ti;var ni="DialogClose",ri=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ni,n);return t.jsx(L.button,{type:"button",...r,ref:s,onClick:k(e.onClick,()=>a.onOpenChange(!1))})});ri.displayName=ni;function er(e){return e?"open":"closed"}var ai="DialogTitleWarning",[Qf,oi]=Fc(ai,{contentName:ht,titleName:Jn,docsSlug:"dialog"}),Yf=({titleId:e})=>{const s=oi(ai),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Xf="DialogDescriptionWarning",Zf=({contentRef:e,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oi(Xf).contentName}}.`;return o.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,e,s]),null},ii=Vo,Jf=Go,ci=Yo,tr=Xo,sr=Zo,nr=ei,rr=si,ar=ri;const Ce=ii,em=ci,li=o.forwardRef(({className:e,...s},n)=>t.jsx(tr,{ref:n,className:T("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));li.displayName=tr.displayName;const pe=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(em,{children:[t.jsx(li,{}),t.jsxs(sr,{ref:r,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",e),...n,children:[s,t.jsxs(ar,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(tn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pe.displayName=sr.displayName;const xe=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});xe.displayName="DialogHeader";const Ae=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Ae.displayName="DialogFooter";const ve=o.forwardRef(({className:e,...s},n)=>t.jsx(nr,{ref:n,className:T("text-lg font-semibold leading-none tracking-tight",e),...s}));ve.displayName=nr.displayName;const ge=o.forwardRef(({className:e,...s},n)=>t.jsx(rr,{ref:n,className:T("text-sm text-muted-foreground",e),...s}));ge.displayName=rr.displayName;const Rt=o.forwardRef(({className:e,...s},n)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:n,className:T("w-full caption-bottom text-sm",e),...s})}));Rt.displayName="Table";const kt=o.forwardRef(({className:e,...s},n)=>t.jsx("thead",{ref:n,className:T("[&_tr]:border-b",e),...s}));kt.displayName="TableHeader";const Mt=o.forwardRef(({className:e,...s},n)=>t.jsx("tbody",{ref:n,className:T("[&_tr:last-child]:border-0",e),...s}));Mt.displayName="TableBody";const tm=o.forwardRef(({className:e,...s},n)=>t.jsx("tfoot",{ref:n,className:T("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));tm.displayName="TableFooter";const _e=o.forwardRef(({className:e,...s},n)=>t.jsx("tr",{ref:n,className:T("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));_e.displayName="TableRow";const Y=o.forwardRef(({className:e,...s},n)=>t.jsx("th",{ref:n,className:T("h-11 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));Y.displayName="TableHead";const W=o.forwardRef(({className:e,...s},n)=>t.jsx("td",{ref:n,className:T("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));W.displayName="TableCell";const sm=o.forwardRef(({className:e,...s},n)=>t.jsx("caption",{ref:n,className:T("mt-4 text-sm text-muted-foreground",e),...s}));sm.displayName="TableCaption";var di="AlertDialog",[nm]=Be(di,[zo]),Ye=zo(),ui=e=>{const{__scopeAlertDialog:s,...n}=e,r=Ye(s);return t.jsx(ii,{...r,...n,modal:!0})};ui.displayName=di;var rm="AlertDialogTrigger",am=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(Jf,{...a,...r,ref:s})});am.displayName=rm;var om="AlertDialogPortal",hi=e=>{const{__scopeAlertDialog:s,...n}=e,r=Ye(s);return t.jsx(ci,{...r,...n})};hi.displayName=om;var im="AlertDialogOverlay",fi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(tr,{...a,...r,ref:s})});fi.displayName=im;var wt="AlertDialogContent",[cm,lm]=nm(wt),dm=Lc("AlertDialogContent"),mi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Ye(n),l=o.useRef(null),c=Q(s,l),d=o.useRef(null);return t.jsx(Qf,{contentName:wt,titleName:pi,docsSlug:"alert-dialog",children:t.jsx(cm,{scope:n,cancelRef:d,children:t.jsxs(sr,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:k(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[t.jsx(dm,{children:r}),t.jsx(hm,{contentRef:l})]})})})});mi.displayName=wt;var pi="AlertDialogTitle",xi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(nr,{...a,...r,ref:s})});xi.displayName=pi;var vi="AlertDialogDescription",gi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(rr,{...a,...r,ref:s})});gi.displayName=vi;var um="AlertDialogAction",yi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(ar,{...a,...r,ref:s})});yi.displayName=um;var bi="AlertDialogCancel",ji=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=lm(bi,n),i=Ye(n),l=Q(s,a);return t.jsx(ar,{...i,...r,ref:l})});ji.displayName=bi;var hm=({contentRef:e})=>{const s=`\`${wt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wt}\` by passing a \`${vi}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},fm=ui,mm=hi,wi=fi,Ni=mi,Ci=yi,Si=ji,_i=xi,Ei=gi;const As=fm,pm=mm,Ri=o.forwardRef(({className:e,...s},n)=>t.jsx(wi,{className:T("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:n}));Ri.displayName=wi.displayName;const Qt=o.forwardRef(({className:e,...s},n)=>t.jsxs(pm,{children:[t.jsx(Ri,{}),t.jsx(Ni,{ref:n,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));Qt.displayName=Ni.displayName;const Yt=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",e),...s});Yt.displayName="AlertDialogHeader";const Xt=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Xt.displayName="AlertDialogFooter";const Zt=o.forwardRef(({className:e,...s},n)=>t.jsx(_i,{ref:n,className:T("text-lg font-semibold",e),...s}));Zt.displayName=_i.displayName;const Jt=o.forwardRef(({className:e,...s},n)=>t.jsx(Ei,{ref:n,className:T("text-sm text-muted-foreground",e),...s}));Jt.displayName=Ei.displayName;const es=o.forwardRef(({className:e,...s},n)=>t.jsx(Ci,{ref:n,className:T(Vr(),e),...s}));es.displayName=Ci.displayName;const ts=o.forwardRef(({className:e,...s},n)=>t.jsx(Si,{ref:n,className:T(Vr({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));ts.displayName=Si.displayName;function xm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(""),[u,h]=o.useState(""),[f,p]=o.useState(["api"]),[x,v]=o.useState(null),[m,g]=o.useState(null),[b,y]=o.useState(null),{data:w,isLoading:_,refetch:N}=Me({queryKey:["api-keys"],queryFn:Bs.list,enabled:e}),A=De({mutationFn:R=>Bs.create(R),onSuccess:R=>{n.invalidateQueries({queryKey:["api-keys"]}),v(R.key),d(""),h(""),p(["api"]),U({title:"API key created"})},onError:R=>{U({title:"Failed to create API key",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}}),S=De({mutationFn:R=>Bs.delete(R),onSuccess:()=>{n.invalidateQueries({queryKey:["api-keys"]}),l(null),U({title:"API key deleted"})},onError:R=>{U({title:"Failed to delete API key",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}});o.useEffect(()=>{e||(v(null),g(null))},[e]),o.useEffect(()=>{r||(d(""),h(""),p(["api"]))},[r]);const P=async(R,H)=>{try{await navigator.clipboard.writeText(R),y(H),setTimeout(()=>y(null),2e3),U({title:"Copied to clipboard"})}catch{U({title:"Failed to copy",variant:"destructive"})}},C=()=>{A.mutate({name:c,expires_at:u||void 0,scopes:f})},F=R=>R?new Date(R)<new Date:!1,$=(R,H)=>{p(O=>H?O.includes(R)?O:[...O,R]:O.filter(B=>B!==R))},G=[{value:"api",label:"api",description:"OpenAI-compatible API inference access"},{value:"endpoint",label:"endpoint",description:"Endpoint registration and sync"},{value:"admin",label:"admin",description:"Administrator (full access)"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(pe,{id:"api-keys-modal",className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(ms,{className:"h-5 w-5"}),"API Keys"]}),t.jsx(ge,{children:"Manage your API keys for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(M,{id:"create-api-key",onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Key"]}),t.jsx(M,{variant:"outline",size:"icon",onClick:()=>N(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),x&&t.jsxs("div",{className:"rounded-lg border border-success/50 bg-success/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-success mb-2",children:"API Key Created Successfully"}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Copy this key now. You won't be able to see it again."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-muted px-2 py-1 text-xs font-mono break-all",children:m==="created"?x:"".repeat(32)}),t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>g(m==="created"?null:"created"),children:m==="created"?t.jsx(ld,{className:"h-4 w-4"}):t.jsx(ud,{className:"h-4 w-4"})}),t.jsx(M,{id:"copy-api-key",variant:"ghost",size:"icon",onClick:()=>P(x,"created"),children:b==="created"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsx(Ke,{className:"h-64 rounded-md border",children:_?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Ne,{className:"h-6 w-6 animate-spin"})}):!w||w.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(ms,{className:"h-8 w-8"}),t.jsx("p",{children:"No API keys"})]}):t.jsxs(Rt,{children:[t.jsx(kt,{children:t.jsxs(_e,{children:[t.jsx(Y,{children:"Name"}),t.jsx(Y,{children:"Scopes"}),t.jsx(Y,{children:"Key"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{children:"Expires"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:w.map(R=>t.jsxs(_e,{children:[t.jsx(W,{className:"font-medium",children:R.name}),t.jsx(W,{children:t.jsx("div",{className:"flex flex-wrap gap-1",children:R.scopes.map(H=>t.jsx(ee,{variant:"secondary",children:H},H))})}),t.jsx(W,{children:R.key_prefix?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-xs font-mono",children:[R.key_prefix,"..."]}),t.jsx(M,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>P(R.key_prefix,R.id),children:b===R.id?t.jsx(Ve,{className:"h-3 w-3"}):t.jsx(St,{className:"h-3 w-3"})})]}):t.jsxs("span",{className:"text-xs text-muted-foreground",children:[R.id.slice(0,8),"..."]})}),t.jsx(W,{className:"text-sm text-muted-foreground",children:ze(R.created_at)}),t.jsx(W,{children:R.expires_at?t.jsx(ee,{variant:F(R.expires_at)?"destructive":"outline",children:F(R.expires_at)?"Expired":ze(R.expires_at)}):t.jsx(ee,{variant:"secondary",children:"Never"})}),t.jsx(W,{className:"text-right",children:t.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(R),children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})})]},R.id))})]})})]})]})}),t.jsx(Ce,{open:r,onOpenChange:a,children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Create API Key"}),t.jsx(ge,{children:"Create a new API key for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"api-key-name",children:"Name"}),t.jsx(he,{id:"api-key-name",placeholder:"My API Key",value:c,onChange:R=>d(R.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"key-expires",children:"Expires (optional)"}),t.jsx(he,{id:"key-expires",type:"datetime-local",value:u,onChange:R=>h(R.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Scopes"}),t.jsx("div",{className:"grid gap-2",children:G.map(R=>{const H=`scope-${R.value.replace(/[^a-z0-9]/gi,"-")}`;return t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(ko,{id:H,checked:f.includes(R.value),onCheckedChange:O=>$(R.value,!!O)}),t.jsxs("label",{htmlFor:H,className:"flex flex-col gap-1 cursor-pointer",children:[t.jsx("span",{className:"font-mono text-xs",children:R.label}),t.jsx("span",{className:"text-xs text-muted-foreground",children:R.description})]})]},R.value)})})]})]}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(M,{onClick:C,disabled:!c||f.length===0||A.isPending,children:[A.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(As,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete API Key"}),t.jsxs(Jt,{children:['Are you sure you want to delete "',i?.name,'"? This action cannot be undone.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>i&&S.mutate(i.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[S.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}var vm=[" ","Enter","ArrowUp","ArrowDown"],gm=[" ","Enter"],ft="Select",[Os,Fs,ym]=jn(ft),[Pt]=Be(ft,[ym,js]),Ls=js(),[bm,rt]=Pt(ft),[jm,wm]=Pt(ft),ki=e=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:u,name:h,autoComplete:f,disabled:p,required:x,form:v}=e,m=Ls(s),[g,b]=o.useState(null),[y,w]=o.useState(null),[_,N]=o.useState(!1),A=zt(u),[S,P]=et({prop:r,defaultProp:a??!1,onChange:i,caller:ft}),[C,F]=et({prop:l,defaultProp:c,onChange:d,caller:ft}),$=o.useRef(null),G=g?v||!!g.closest("form"):!0,[R,H]=o.useState(new Set),O=Array.from(R).map(B=>B.props.value).join(";");return t.jsx(Br,{...m,children:t.jsxs(bm,{required:x,scope:s,trigger:g,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Ue(),value:C,onValueChange:F,open:S,onOpenChange:P,dir:A,triggerPointerDownPosRef:$,disabled:p,children:[t.jsx(Os.Provider,{scope:s,children:t.jsx(jm,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(B=>{H(re=>new Set(re).add(B))},[]),onNativeOptionRemove:o.useCallback(B=>{H(re=>{const ae=new Set(re);return ae.delete(B),ae})},[]),children:n})}),G?t.jsxs(Ji,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:C,onChange:B=>F(B.target.value),disabled:p,form:v,children:[C===void 0?t.jsx("option",{value:""}):null,Array.from(R)]},O):null]})})};ki.displayName=ft;var Mi="SelectTrigger",Pi=o.forwardRef((e,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Ls(n),l=rt(Mi,n),c=l.disabled||r,d=Q(s,l.onTriggerChange),u=Fs(n),h=o.useRef("touch"),[f,p,x]=tc(m=>{const g=u().filter(w=>!w.disabled),b=g.find(w=>w.value===l.value),y=sc(g,m,b);y!==void 0&&l.onValueChange(y.value)}),v=m=>{c||(l.onOpenChange(!0),x()),m&&(l.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return t.jsx(qr,{asChild:!0,...i,children:t.jsx(L.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":ec(l.value)?"":void 0,...a,ref:d,onClick:k(a.onClick,m=>{m.currentTarget.focus(),h.current!=="mouse"&&v(m)}),onPointerDown:k(a.onPointerDown,m=>{h.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(v(m),m.preventDefault())}),onKeyDown:k(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&vm.includes(m.key)&&(v(),m.preventDefault())})})})});Pi.displayName=Mi;var Ti="SelectValue",Ii=o.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:l="",...c}=e,d=rt(Ti,n),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,f=Q(s,d.onValueNodeChange);return qe(()=>{u(h)},[u,h]),t.jsx(L.span,{...c,ref:f,style:{pointerEvents:"none"},children:ec(d.value)?t.jsx(t.Fragment,{children:l}):i})});Ii.displayName=Ti;var Nm="SelectIcon",Di=o.forwardRef((e,s)=>{const{__scopeSelect:n,children:r,...a}=e;return t.jsx(L.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});Di.displayName=Nm;var Cm="SelectPortal",Ai=e=>t.jsx(wn,{asChild:!0,...e});Ai.displayName=Cm;var mt="SelectContent",Oi=o.forwardRef((e,s)=>{const n=rt(mt,e.__scopeSelect),[r,a]=o.useState();if(qe(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Wr.createPortal(t.jsx(Fi,{scope:e.__scopeSelect,children:t.jsx(Os.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Li,{...e,ref:s})});Oi.displayName=mt;var Ie=10,[Fi,at]=Pt(mt),Sm="SelectContentImpl",_m=Nn("SelectContent.RemoveScroll"),Li=o.forwardRef((e,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:v,hideWhenDetached:m,avoidCollisions:g,...b}=e,y=rt(mt,n),[w,_]=o.useState(null),[N,A]=o.useState(null),S=Q(s,j=>_(j)),[P,C]=o.useState(null),[F,$]=o.useState(null),G=Fs(n),[R,H]=o.useState(!1),O=o.useRef(!1);o.useEffect(()=>{if(w)return Fn(w)},[w]),On();const B=o.useCallback(j=>{const[q,...Z]=G().map(K=>K.ref.current),[z]=Z.slice(-1),E=document.activeElement;for(const K of j)if(K===E||(K?.scrollIntoView({block:"nearest"}),K===q&&N&&(N.scrollTop=0),K===z&&N&&(N.scrollTop=N.scrollHeight),K?.focus(),document.activeElement!==E))return},[G,N]),re=o.useCallback(()=>B([P,w]),[B,P,w]);o.useEffect(()=>{R&&re()},[R,re]);const{onOpenChange:ae,triggerPointerDownPosRef:I}=y;o.useEffect(()=>{if(w){let j={x:0,y:0};const q=z=>{j={x:Math.abs(Math.round(z.pageX)-(I.current?.x??0)),y:Math.abs(Math.round(z.pageY)-(I.current?.y??0))}},Z=z=>{j.x<=10&&j.y<=10?z.preventDefault():w.contains(z.target)||ae(!1),document.removeEventListener("pointermove",q),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",q),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",Z,{capture:!0})}}},[w,ae,I]),o.useEffect(()=>{const j=()=>ae(!1);return window.addEventListener("blur",j),window.addEventListener("resize",j),()=>{window.removeEventListener("blur",j),window.removeEventListener("resize",j)}},[ae]);const[be,oe]=tc(j=>{const q=G().filter(E=>!E.disabled),Z=q.find(E=>E.ref.current===document.activeElement),z=sc(q,j,Z);z&&setTimeout(()=>z.ref.current.focus())}),le=o.useCallback((j,q,Z)=>{const z=!O.current&&!Z;(y.value!==void 0&&y.value===q||z)&&(C(j),z&&(O.current=!0))},[y.value]),Re=o.useCallback(()=>w?.focus(),[w]),de=o.useCallback((j,q,Z)=>{const z=!O.current&&!Z;(y.value!==void 0&&y.value===q||z)&&$(j)},[y.value]),je=r==="popper"?xn:$i,ie=je===xn?{side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:x,sticky:v,hideWhenDetached:m,avoidCollisions:g}:{};return t.jsx(Fi,{scope:n,content:w,viewport:N,onViewportChange:A,itemRefCallback:le,selectedItem:P,onItemLeave:Re,itemTextRefCallback:de,focusSelectedItem:re,selectedItemText:F,position:r,isPositioned:R,searchRef:be,children:t.jsx(Es,{as:_m,allowPinchZoom:!0,children:t.jsx(Cs,{asChild:!0,trapped:y.open,onMountAutoFocus:j=>{j.preventDefault()},onUnmountAutoFocus:k(a,j=>{y.trigger?.focus({preventScroll:!0}),j.preventDefault()}),children:t.jsx(Cn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:j=>j.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:t.jsx(je,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:j=>j.preventDefault(),...b,...ie,onPlaced:()=>H(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:k(b.onKeyDown,j=>{const q=j.ctrlKey||j.altKey||j.metaKey;if(j.key==="Tab"&&j.preventDefault(),!q&&j.key.length===1&&oe(j.key),["ArrowUp","ArrowDown","Home","End"].includes(j.key)){let z=G().filter(E=>!E.disabled).map(E=>E.ref.current);if(["ArrowUp","End"].includes(j.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(j.key)){const E=j.target,K=z.indexOf(E);z=z.slice(K+1)}setTimeout(()=>B(z)),j.preventDefault()}})})})})})})});Li.displayName=Sm;var Em="SelectItemAlignedPosition",$i=o.forwardRef((e,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=rt(mt,n),l=at(mt,n),[c,d]=o.useState(null),[u,h]=o.useState(null),f=Q(s,S=>h(S)),p=Fs(n),x=o.useRef(!1),v=o.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:b,focusSelectedItem:y}=l,w=o.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&m&&g&&b){const S=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),F=b.getBoundingClientRect();if(i.dir!=="rtl"){const E=F.left-P.left,K=C.left-E,V=S.left-K,te=S.width+V,se=Math.max(te,P.width),ne=window.innerWidth-Ie,fe=pn(K,[Ie,Math.max(Ie,ne-se)]);c.style.minWidth=te+"px",c.style.left=fe+"px"}else{const E=P.right-F.right,K=window.innerWidth-C.right-E,V=window.innerWidth-S.right-K,te=S.width+V,se=Math.max(te,P.width),ne=window.innerWidth-Ie,fe=pn(K,[Ie,Math.max(Ie,ne-se)]);c.style.minWidth=te+"px",c.style.right=fe+"px"}const $=p(),G=window.innerHeight-Ie*2,R=m.scrollHeight,H=window.getComputedStyle(u),O=parseInt(H.borderTopWidth,10),B=parseInt(H.paddingTop,10),re=parseInt(H.borderBottomWidth,10),ae=parseInt(H.paddingBottom,10),I=O+B+R+ae+re,be=Math.min(g.offsetHeight*5,I),oe=window.getComputedStyle(m),le=parseInt(oe.paddingTop,10),Re=parseInt(oe.paddingBottom,10),de=S.top+S.height/2-Ie,je=G-de,ie=g.offsetHeight/2,j=g.offsetTop+ie,q=O+B+j,Z=I-q;if(q<=de){const E=$.length>0&&g===$[$.length-1].ref.current;c.style.bottom="0px";const K=u.clientHeight-m.offsetTop-m.offsetHeight,V=Math.max(je,ie+(E?Re:0)+K+re),te=q+V;c.style.height=te+"px"}else{const E=$.length>0&&g===$[0].ref.current;c.style.top="0px";const V=Math.max(de,O+m.offsetTop+(E?le:0)+ie)+Z;c.style.height=V+"px",m.scrollTop=q-de+m.offsetTop}c.style.margin=`${Ie}px 0`,c.style.minHeight=be+"px",c.style.maxHeight=G+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[p,i.trigger,i.valueNode,c,u,m,g,b,i.dir,r]);qe(()=>w(),[w]);const[_,N]=o.useState();qe(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const A=o.useCallback(S=>{S&&v.current===!0&&(w(),y?.(),v.current=!1)},[w,y]);return t.jsx(km,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:A,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(L.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});$i.displayName=Em;var Rm="SelectPopperPosition",xn=o.forwardRef((e,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ie,...i}=e,l=Ls(n);return t.jsx(Kr,{...l,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xn.displayName=Rm;var[km,or]=Pt(mt,{}),vn="SelectViewport",Ui=o.forwardRef((e,s)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=at(vn,n),l=or(vn,n),c=Q(s,i.onViewportChange),d=o.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),t.jsx(Os.Slot,{scope:n,children:t.jsx(L.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:k(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=l;if(p?.current&&f){const x=Math.abs(d.current-h.scrollTop);if(x>0){const v=window.innerHeight-Ie*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),b=Math.max(m,g);if(b<v){const y=b+x,w=Math.min(v,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Ui.displayName=vn;var qi="SelectGroup",[Mm,Pm]=Pt(qi),Tm=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Ue();return t.jsx(Mm,{scope:n,id:a,children:t.jsx(L.div,{role:"group","aria-labelledby":a,...r,ref:s})})});Tm.displayName=qi;var Ki="SelectLabel",Bi=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Pm(Ki,n);return t.jsx(L.div,{id:a.id,...r,ref:s})});Bi.displayName=Ki;var bs="SelectItem",[Im,Hi]=Pt(bs),zi=o.forwardRef((e,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...l}=e,c=rt(bs,n),d=at(bs,n),u=c.value===r,[h,f]=o.useState(i??""),[p,x]=o.useState(!1),v=Q(s,y=>d.itemRefCallback?.(y,r,a)),m=Ue(),g=o.useRef("touch"),b=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Im,{scope:n,value:r,disabled:a,textId:m,isSelected:u,onItemTextChange:o.useCallback(y=>{f(w=>w||(y?.textContent??"").trim())},[]),children:t.jsx(Os.ItemSlot,{scope:n,value:r,disabled:a,textValue:h,children:t.jsx(L.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:k(l.onFocus,()=>x(!0)),onBlur:k(l.onBlur,()=>x(!1)),onClick:k(l.onClick,()=>{g.current!=="mouse"&&b()}),onPointerUp:k(l.onPointerUp,()=>{g.current==="mouse"&&b()}),onPointerDown:k(l.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:k(l.onPointerMove,y=>{g.current=y.pointerType,a?d.onItemLeave?.():g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:k(l.onPointerLeave,y=>{y.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:k(l.onKeyDown,y=>{d.searchRef?.current!==""&&y.key===" "||(gm.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});zi.displayName=bs;var Ft="SelectItemText",Vi=o.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,l=rt(Ft,n),c=at(Ft,n),d=Hi(Ft,n),u=wm(Ft,n),[h,f]=o.useState(null),p=Q(s,b=>f(b),d.onItemTextChange,b=>c.itemTextRefCallback?.(b,d.value,d.disabled)),x=h?.textContent,v=o.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return qe(()=>(m(v),()=>g(v)),[m,g,v]),t.jsxs(t.Fragment,{children:[t.jsx(L.span,{id:d.textId,...i,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Wr.createPortal(i.children,l.valueNode):null]})});Vi.displayName=Ft;var Wi="SelectItemIndicator",Gi=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return Hi(Wi,n).isSelected?t.jsx(L.span,{"aria-hidden":!0,...r,ref:s}):null});Gi.displayName=Wi;var gn="SelectScrollUpButton",Qi=o.forwardRef((e,s)=>{const n=at(gn,e.__scopeSelect),r=or(gn,e.__scopeSelect),[a,i]=o.useState(!1),l=Q(s,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?t.jsx(Xi,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Qi.displayName=gn;var yn="SelectScrollDownButton",Yi=o.forwardRef((e,s)=>{const n=at(yn,e.__scopeSelect),r=or(yn,e.__scopeSelect),[a,i]=o.useState(!1),l=Q(s,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?t.jsx(Xi,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Yi.displayName=yn;var Xi=o.forwardRef((e,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=at("SelectScrollButton",n),l=o.useRef(null),c=Fs(n),d=o.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),qe(()=>{c().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),t.jsx(L.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:k(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:k(a.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:k(a.onPointerLeave,()=>{d()})})}),Dm="SelectSeparator",Zi=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return t.jsx(L.div,{"aria-hidden":!0,...r,ref:s})});Zi.displayName=Dm;var bn="SelectArrow",Am=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Ls(n),i=rt(bn,n),l=at(bn,n);return i.open&&l.position==="popper"?t.jsx(Hr,{...a,...r,ref:s}):null});Am.displayName=bn;var Om="SelectBubbleInput",Ji=o.forwardRef(({__scopeSelect:e,value:s,...n},r)=>{const a=o.useRef(null),i=Q(r,a),l=zn(s);return o.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&h){const f=new Event("change",{bubbles:!0});h.call(c,s),c.dispatchEvent(f)}},[l,s]),t.jsx(L.select,{...n,style:{...$c,...n.style},ref:i,defaultValue:s})});Ji.displayName=Om;function ec(e){return e===""||e===void 0}function tc(e){const s=Se(e),n=o.useRef(""),r=o.useRef(0),a=o.useCallback(l=>{const c=n.current+l;s(c),(function d(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),i=o.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function sc(e,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let l=Fm(e,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Fm(e,s){return e.map((n,r)=>e[(s+r)%e.length])}var Lm=ki,nc=Pi,$m=Ii,Um=Di,qm=Ai,rc=Oi,Km=Ui,ac=Bi,oc=zi,Bm=Vi,Hm=Gi,ic=Qi,cc=Yi,lc=Zi;const tt=Lm,st=$m,We=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(nc,{ref:r,className:T("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all duration-200",e),...n,children:[s,t.jsx(Um,{asChild:!0,children:t.jsx(In,{className:"h-4 w-4 opacity-50"})})]}));We.displayName=nc.displayName;const dc=o.forwardRef(({className:e,...s},n)=>t.jsx(ic,{ref:n,className:T("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(oa,{className:"h-4 w-4"})}));dc.displayName=ic.displayName;const uc=o.forwardRef(({className:e,...s},n)=>t.jsx(cc,{ref:n,className:T("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(In,{className:"h-4 w-4"})}));uc.displayName=cc.displayName;const Ge=o.forwardRef(({className:e,children:s,position:n="popper",...r},a)=>t.jsx(qm,{children:t.jsxs(rc,{ref:a,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[t.jsx(dc,{}),t.jsx(Km,{className:T("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(uc,{})]})}));Ge.displayName=rc.displayName;const zm=o.forwardRef(({className:e,...s},n)=>t.jsx(ac,{ref:n,className:T("px-2 py-1.5 text-sm font-semibold",e),...s}));zm.displayName=ac.displayName;const X=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(oc,{ref:r,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Hm,{children:t.jsx(Ve,{className:"h-4 w-4"})})}),t.jsx(Bm,{children:s})]}));X.displayName=oc.displayName;const Vm=o.forwardRef(({className:e,...s},n)=>t.jsx(lc,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...s}));Vm.displayName=lc.displayName;function Wm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(null),[u,h]=o.useState(""),[f,p]=o.useState(""),[x,v]=o.useState("user"),{data:m,isLoading:g,refetch:b}=Me({queryKey:["users"],queryFn:ss.list,enabled:e}),y=De({mutationFn:C=>ss.create(C),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),N(),a(!1),U({title:"User created"})},onError:C=>{U({title:"Failed to create user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),w=De({mutationFn:({id:C,data:F})=>ss.update(C,F),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),N(),l(null),U({title:"User updated"})},onError:C=>{U({title:"Failed to update user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),_=De({mutationFn:C=>ss.delete(C),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),d(null),U({title:"User deleted"})},onError:C=>{U({title:"Failed to delete user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),N=()=>{h(""),p(""),v("user")};o.useEffect(()=>{i?(h(i.username),p(""),v(i.role)):N()},[i]);const A=()=>{y.mutate({username:u,password:f,role:x})},S=()=>{if(!i)return;const C={};u!==i.username&&(C.username=u),f&&(C.password=f),x!==i.role&&(C.role=x),w.mutate({id:i.id,data:C})},P=C=>C==="admin"?t.jsxs(ee,{variant:"default",className:"gap-1",children:[t.jsx(zd,{className:"h-3 w-3"}),"Admin"]}):t.jsxs(ee,{variant:"secondary",className:"gap-1",children:[t.jsx(Sn,{className:"h-3 w-3"}),"User"]});return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(pe,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(un,{className:"h-5 w-5"}),"User Management"]}),t.jsx(ge,{children:"Manage dashboard users and their permissions."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(M,{onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(M,{variant:"outline",size:"icon",onClick:()=>b(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),t.jsx(Ke,{className:"h-64 rounded-md border",children:g?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Ne,{className:"h-6 w-6 animate-spin"})}):!m||m.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(un,{className:"h-8 w-8"}),t.jsx("p",{children:"No users"})]}):t.jsxs(Rt,{children:[t.jsx(kt,{children:t.jsxs(_e,{children:[t.jsx(Y,{children:"Username"}),t.jsx(Y,{children:"Role"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:m.map(C=>t.jsxs(_e,{children:[t.jsx(W,{className:"font-medium",children:C.username}),t.jsx(W,{children:P(C.role)}),t.jsx(W,{className:"text-sm text-muted-foreground",children:ze(C.created_at)}),t.jsx(W,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(C),children:t.jsx(Wd,{className:"h-4 w-4"})}),t.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(C),children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})]})})]},C.id))})]})})]})]})}),t.jsx(Ce,{open:r,onOpenChange:a,children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Create User"}),t.jsx(ge,{children:"Add a new dashboard user."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-username",children:"Username"}),t.jsx(he,{id:"create-username",placeholder:"johndoe",value:u,onChange:C=>h(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-password",children:"Password"}),t.jsx(he,{id:"create-password",type:"password",placeholder:"",value:f,onChange:C=>p(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-role",children:"Role"}),t.jsxs(tt,{value:x,onValueChange:C=>v(C),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"user",children:"User"}),t.jsx(X,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(M,{onClick:A,disabled:!u||!f||y.isPending,children:[y.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Ce,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Edit User"}),t.jsxs(ge,{children:['Update user "',i?.username,'".']})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-username",children:"Username"}),t.jsx(he,{id:"edit-username",value:u,onChange:C=>h(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-password",children:"Password (leave blank to keep)"}),t.jsx(he,{id:"edit-password",type:"password",placeholder:"",value:f,onChange:C=>p(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-role",children:"Role"}),t.jsxs(tt,{value:x,onValueChange:C=>v(C),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"user",children:"User"}),t.jsx(X,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),t.jsxs(M,{onClick:S,disabled:!u||w.isPending,children:[w.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})}),t.jsx(As,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete User"}),t.jsxs(Jt,{children:['Are you sure you want to delete "',c?.username,'"? This action cannot be undone.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>c&&_.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[_.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function Gm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(72),[c,d]=o.useState(null),[u,h]=o.useState(null),[f,p]=o.useState(!1),{data:x,isLoading:v,refetch:m}=Me({queryKey:["invitations"],queryFn:Hs.list,enabled:e}),g=De({mutationFn:S=>Hs.create(S),onSuccess:S=>{n.invalidateQueries({queryKey:["invitations"]}),h(S),U({title:"Invitation code created"})},onError:S=>{U({title:"Failed to create invitation code",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),b=De({mutationFn:S=>Hs.revoke(S),onSuccess:()=>{n.invalidateQueries({queryKey:["invitations"]}),d(null),U({title:"Invitation code revoked"})},onError:S=>{U({title:"Failed to revoke invitation code",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),y=()=>{g.mutate(i)},w=async()=>{u?.code&&(await navigator.clipboard.writeText(u.code),p(!0),setTimeout(()=>p(!1),2e3))},_=()=>{h(null),a(!1),p(!1)},N=S=>{switch(S){case"active":return t.jsxs(ee,{variant:"default",className:"gap-1 bg-green-600",children:[t.jsx(Ut,{className:"h-3 w-3"}),"Active"]});case"used":return t.jsxs(ee,{variant:"secondary",className:"gap-1",children:[t.jsx(us,{className:"h-3 w-3"}),"Used"]});case"revoked":return t.jsxs(ee,{variant:"destructive",className:"gap-1",children:[t.jsx($t,{className:"h-3 w-3"}),"Revoked"]});default:return t.jsx(ee,{variant:"outline",children:S})}},A=S=>new Date(S)<new Date;return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(pe,{className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),"Invitation Codes"]}),t.jsx(ge,{children:"Create and manage invitation codes for user registration."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(M,{onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Code"]}),t.jsx(M,{variant:"outline",size:"icon",onClick:()=>m(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),t.jsx(Ke,{className:"h-80 rounded-md border",children:v?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(Ne,{className:"h-6 w-6 animate-spin"})}):!x||x.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(nn,{className:"h-8 w-8"}),t.jsx("p",{children:"No invitation codes"})]}):t.jsxs(Rt,{children:[t.jsx(kt,{children:t.jsxs(_e,{children:[t.jsx(Y,{children:"ID"}),t.jsx(Y,{children:"Status"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{children:"Expires"}),t.jsx(Y,{children:"Used By"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:x.map(S=>t.jsxs(_e,{children:[t.jsxs(W,{className:"font-mono text-xs",children:[S.id.slice(0,8),"..."]}),t.jsx(W,{children:S.status==="active"&&A(S.expires_at)?t.jsxs(ee,{variant:"outline",className:"gap-1",children:[t.jsx($t,{className:"h-3 w-3"}),"Expired"]}):N(S.status)}),t.jsx(W,{className:"text-sm text-muted-foreground",children:ze(S.created_at)}),t.jsx(W,{className:"text-sm text-muted-foreground",children:ze(S.expires_at)}),t.jsx(W,{className:"font-mono text-xs text-muted-foreground",children:S.used_by?`${S.used_by.slice(0,8)}...`:"-"}),t.jsx(W,{className:"text-right",children:S.status==="active"&&!A(S.expires_at)&&t.jsx(M,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(S),children:t.jsx(Al,{className:"h-4 w-4 text-destructive"})})})]},S.id))})]})})]})]})}),t.jsx(Ce,{open:r&&!u,onOpenChange:S=>!S&&a(!1),children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Create Invitation Code"}),t.jsx(ge,{children:"Generate a new invitation code for user registration."})]}),t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"expires-in",children:"Expires In"}),t.jsxs(tt,{value:String(i),onValueChange:S=>l(Number(S)),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"24",children:"24 hours (1 day)"}),t.jsx(X,{value:"48",children:"48 hours (2 days)"}),t.jsx(X,{value:"72",children:"72 hours (3 days)"}),t.jsx(X,{value:"168",children:"168 hours (1 week)"}),t.jsx(X,{value:"720",children:"720 hours (30 days)"})]})]})]})}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(M,{onClick:y,disabled:g.isPending,children:[g.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Ce,{open:!!u,onOpenChange:_,children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2 text-green-600",children:[t.jsx(us,{className:"h-5 w-5"}),"Invitation Code Created"]}),t.jsx(ge,{children:"Copy this code and share it with the user. This code will only be shown once."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Invitation Code"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("code",{className:"flex-1 rounded-md bg-muted px-4 py-3 font-mono text-sm break-all",children:u?.code}),t.jsx(M,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:f?t.jsx(Ve,{className:"h-4 w-4 text-green-600"}):t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:t.jsxs("p",{children:["Expires: ",u&&new Date(u.expires_at).toLocaleString()]})})]}),t.jsx(Ae,{children:t.jsx(M,{onClick:_,children:"Done"})})]})}),t.jsx(As,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Revoke Invitation Code"}),t.jsx(Jt,{children:"Are you sure you want to revoke this invitation code? It will no longer be usable for registration."})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>c&&b.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[b.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoke"]})]})]})})]})}function Qm({user:e,isConnected:s=!0,lastRefreshed:n,fetchTimeMs:r}){const{logout:a}=Tn(),{theme:i,toggleTheme:l}=au(),[c,d]=o.useState(!1),[u,h]=o.useState(!1),[f,p]=o.useState(!1),[x,v]=o.useState(!1),m=()=>{v(!0),window.location.reload()};return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/80 backdrop-blur-xl",children:t.jsxs("div",{className:"mx-auto flex h-16 max-w-[1600px] items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10 glow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-display text-lg font-semibold tracking-tight",children:"LLM Load Balancer"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{id:"connection-status",className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),"Connection: ",s?"Online":"Offline"]}),n&&t.jsxs("span",{id:"last-refreshed",children:["Last updated: ",n.toLocaleTimeString()]}),!n&&t.jsx("span",{id:"last-refreshed",children:"Last updated: --:--:--"}),r!=null&&t.jsxs("span",{id:"refresh-metrics",children:["Fetch time: ",r,"ms"]}),r==null&&t.jsx("span",{id:"refresh-metrics",children:"Fetch time: --ms"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(M,{id:"api-keys-button",variant:"outline",size:"sm",onClick:()=>d(!0),className:"hidden sm:inline-flex",children:[t.jsx(ms,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(M,{id:"refresh-button",variant:"ghost",size:"icon",onClick:m,disabled:x,children:t.jsx(nt,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),t.jsx(M,{id:"theme-toggle",variant:"ghost",size:"icon",onClick:l,children:i==="dark"?t.jsx(Qd,{className:"h-4 w-4"}):t.jsx(Pd,{className:"h-4 w-4"})}),t.jsxs(yf,{children:[t.jsx(bf,{asChild:!0,children:t.jsx(M,{variant:"ghost",size:"icon",className:"relative",children:t.jsx(Sn,{className:"h-4 w-4"})})}),t.jsxs(bo,{align:"end",className:"w-56",children:[t.jsx(jo,{children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:e?.username}),t.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e?.role})]})}),t.jsx(ds,{}),t.jsxs(Ot,{onClick:()=>d(!0),className:"sm:hidden",children:[t.jsx(ms,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(ds,{className:"sm:hidden"}),e?.role==="admin"&&t.jsxs(t.Fragment,{children:[t.jsxs(Ot,{onClick:()=>h(!0),children:[t.jsx(un,{className:"mr-2 h-4 w-4"}),"Manage Users"]}),t.jsxs(Ot,{onClick:()=>p(!0),children:[t.jsx(nn,{className:"mr-2 h-4 w-4"}),"Invitation Codes"]}),t.jsx(ds,{})]}),t.jsxs(Ot,{onClick:a,className:"text-destructive",children:[t.jsx(Ed,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]})]})}),t.jsx(xm,{open:c,onOpenChange:d}),t.jsx(Wm,{open:u,onOpenChange:h}),t.jsx(Gm,{open:f,onOpenChange:p})]})}const Or={primary:"bg-primary/10 group-hover:bg-primary/20","chart-1":"bg-chart-1/10 group-hover:bg-chart-1/20","chart-2":"bg-chart-2/10 group-hover:bg-chart-2/20","chart-3":"bg-chart-3/10 group-hover:bg-chart-3/20","chart-4":"bg-chart-4/10 group-hover:bg-chart-4/20","chart-5":"bg-chart-5/10 group-hover:bg-chart-5/20",success:"bg-success/10 group-hover:bg-success/20",warning:"bg-warning/10 group-hover:bg-warning/20",destructive:"bg-destructive/10 group-hover:bg-destructive/20"};function Ym({title:e,value:s,subtitle:n,icon:r,accentColor:a="primary",isLoading:i,delay:l=0,dataStat:c}){return t.jsx(ct,{className:"stat-card group overflow-hidden animate-fade-up",style:{animationDelay:`${l}ms`},"data-stat":c,children:t.jsx(lt,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i?t.jsx("div",{className:"h-8 w-24 shimmer rounded"}):t.jsx("p",{className:"text-3xl font-bold tracking-tight",children:s}),n&&!i&&t.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg transition-colors ${Or[a]||Or.primary}`,children:r})]})})})}function Xm({stats:e,isLoading:s}){const n=[{title:"Total Nodes",value:e?ue(e.total_nodes):"",subtitle:e?`${e.online_nodes} online, ${e.pending_nodes} pending, ${e.registering_nodes} registering, ${e.offline_nodes} offline`:void 0,icon:t.jsx(qt,{className:"h-5 w-5 text-primary"}),accentColor:"primary",dataStat:"total-nodes"},{title:"Total Requests",value:e?ue(e.total_requests):"",subtitle:e?`${ue(e.successful_requests)} successful`:void 0,icon:t.jsx(Pl,{className:"h-5 w-5 text-chart-2"}),accentColor:"chart-2",dataStat:"total-requests"},{title:"Total Tokens",value:e?ue(e.total_tokens):"",subtitle:e?`In: ${ue(e.total_input_tokens)} / Out: ${ue(e.total_output_tokens)}`:void 0,icon:t.jsx(ws,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"total-tokens"},{title:"Active Requests",value:e?ue(e.total_active_requests):"",icon:t.jsx(_n,{className:"h-5 w-5 text-chart-1"}),accentColor:"chart-1",dataStat:"active-requests"},{title:"Queued Requests",value:e?ue(e.queued_requests):"",icon:t.jsx(yd,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"queued-requests"},{title:"Success Rate",value:e&&e.total_requests>0?zs(e.successful_requests/e.total_requests*100):"",subtitle:e?`${ue(e.failed_requests)} failed`:void 0,icon:e&&e.failed_requests>0?t.jsx($t,{className:"h-5 w-5 text-destructive"}):t.jsx(us,{className:"h-5 w-5 text-success"}),accentColor:e&&e.failed_requests>0?"destructive":"success",dataStat:"success-rate"},{title:"Avg Response Time",value:e?sn(e.average_response_time_ms):"",icon:t.jsx(Ut,{className:"h-5 w-5 text-warning"}),accentColor:"warning",dataStat:"average-response-time-ms"},{title:"Avg GPU Usage",value:e?zs(e.average_gpu_usage):"",icon:t.jsx(su,{className:"h-5 w-5 text-chart-3"}),accentColor:"chart-3",dataStat:"average-gpu-usage"},{title:"Avg GPU Memory",value:e?zs(e.average_gpu_memory_usage):"",icon:t.jsx(xd,{className:"h-5 w-5 text-chart-4"}),accentColor:"chart-4",dataStat:"average-gpu-memory-usage"}];return t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:n.map((r,a)=>t.jsx(Ym,{...r,isLoading:s,delay:a*50},r.title))})}const ir=o.forwardRef(({className:e,...s},n)=>t.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:n,...s}));ir.displayName="Textarea";var Zm="Separator",Fr="horizontal",Jm=["horizontal","vertical"],hc=o.forwardRef((e,s)=>{const{decorative:n,orientation:r=Fr,...a}=e,i=ep(r)?r:Fr,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Uc.div,{"data-orientation":i,...c,...a,ref:s})});hc.displayName=Zm;function ep(e){return Jm.includes(e)}var fc=hc;const it=o.forwardRef(({className:e,orientation:s="horizontal",decorative:n=!0,...r},a)=>t.jsx(fc,{ref:a,decorative:n,orientation:s,className:T("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));it.displayName=fc.displayName;const mc=o.forwardRef(({className:e,value:s=0,...n},r)=>{const a=Math.min(100,Math.max(0,s));return t.jsx("div",{ref:r,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,className:T("relative h-2 w-full overflow-hidden rounded-full bg-muted",e),...n,children:t.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-a}%)`}})})});mc.displayName="Progress";function tp({endpoint:e,open:s,onOpenChange:n}){const r=Qe(),[a,i]=o.useState(""),[l,c]=o.useState("idle"),[d,u]=o.useState(0),[h,f]=o.useState(""),[p,x]=o.useState(""),v=o.useRef(null);o.useEffect(()=>{s||(i(""),c("idle"),u(0),f(""),x(""),v.current&&(clearInterval(v.current),v.current=null))},[s]),o.useEffect(()=>()=>{v.current&&clearInterval(v.current)},[]);const m=De({mutationFn:w=>we.downloadModel(e.id,w),onSuccess:()=>{c("downloading"),u(0),f("Starting download..."),g()},onError:w=>{c("error"),x(w instanceof Error?w.message:"Download failed"),U({title:"Download Failed",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),g=()=>{v.current&&clearInterval(v.current);const w=async()=>{if(e)try{const _=await we.getDownloadProgress(e.id,a);_.status==="completed"?(c("completed"),u(100),f("Download completed"),v.current&&(clearInterval(v.current),v.current=null),r.invalidateQueries({queryKey:["endpoint-models",e.id]}),r.invalidateQueries({queryKey:["dashboard-endpoints"]}),U({title:"Download Completed",description:`Model ${a} has been downloaded successfully`})):_.status==="error"?(c("error"),x(_.error||"Download failed"),f(""),v.current&&(clearInterval(v.current),v.current=null)):_.status==="downloading"&&(u(_.progress||0),f(_.downloaded_bytes&&_.total_bytes?`${Lr(_.downloaded_bytes)} / ${Lr(_.total_bytes)}`:"Downloading..."))}catch{}};w(),v.current=window.setInterval(w,2e3)},b=()=>{if(!a.trim()){U({title:"Model name required",description:"Please enter a model name",variant:"destructive"});return}x(""),m.mutate({model:a.trim()})},y=()=>{if(l==="downloading"){U({title:"Download in progress",description:"Please wait for the download to complete"});return}n(!1)};return!e||e.endpoint_type!=="xllm"?null:t.jsx(Ce,{open:s,onOpenChange:y,children:t.jsxs(pe,{className:"sm:max-w-md",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(An,{className:"h-5 w-5"}),"Download Model"]}),t.jsxs(ge,{children:["Download a model to ",e.name]})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[l==="idle"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"model-name",children:"Model Name"}),t.jsx(he,{id:"model-name",placeholder:"e.g., llama-3.1-8b-instruct",value:a,onChange:w=>i(w.target.value),disabled:m.isPending}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the model name as recognized by xLLM"})]}),l==="downloading"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:"h-4 w-4 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium",children:["Downloading ",a]})]}),t.jsx(mc,{value:d,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:h})]}),l==="completed"&&t.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[t.jsx(Xl,{className:"h-12 w-12 text-green-500"}),t.jsx("p",{className:"text-sm font-medium",children:"Download Completed"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[a," is now available"]})]}),l==="error"&&t.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[t.jsx($t,{className:"h-12 w-12 text-destructive"}),t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Download Failed"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:p})]})]}),t.jsxs(Ae,{children:[(l==="idle"||l==="error")&&t.jsxs(t.Fragment,{children:[t.jsx(M,{variant:"outline",onClick:y,children:"Cancel"}),t.jsxs(M,{onClick:b,disabled:!a.trim()||m.isPending,children:[m.isPending&&t.jsx(Ne,{className:"mr-2 h-4 w-4 animate-spin"}),"Download"]})]}),l==="completed"&&t.jsx(M,{onClick:y,children:"Close"}),l==="downloading"&&t.jsx("p",{className:"text-xs text-muted-foreground",children:"Download in progress..."})]})]})})}function Lr(e){if(e===0)return"0 B";const s=1024,n=["B","KB","MB","GB","TB"],r=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,r)).toFixed(2))+" "+n[r]}function sp(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function np(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function rp(e){switch(e){case"xllm":return"xLLM";case"ollama":return"Ollama";case"vllm":return"vLLM";case"openai_compatible":return"OpenAI Compatible";case"unknown":return"Unknown";default:return"-"}}function ap(e){switch(e){case"xllm":return"default";case"ollama":case"vllm":return"secondary";default:return"outline"}}function op({endpoint:e,open:s,onOpenChange:n}){const r=Qe(),[a,i]=o.useState(e?.name||""),[l,c]=o.useState(e?.notes||""),[d,u]=o.useState(e?.health_check_interval_secs?.toString()||"30"),[h,f]=o.useState(e?.inference_timeout_secs?.toString()||"120"),[p,x]=o.useState(!1);o.useEffect(()=>{e&&(i(e.name||""),c(e.notes||""),u(e.health_check_interval_secs?.toString()||"30"),f(e.inference_timeout_secs?.toString()||"120"))},[e]);const{data:v,isLoading:m}=Me({queryKey:["endpoint-models",e?.id],queryFn:()=>we.getModels(e.id),enabled:!!e?.id&&s}),g=()=>{e&&(window.location.hash=`playground/${e.id}`,n(!1))},b=De({mutationFn:N=>we.update(e.id,N),onSuccess:()=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),U({title:"Update Complete",description:"Endpoint settings updated"})},onError:N=>{U({title:"Update Failed",description:String(N),variant:"destructive"})}}),y=De({mutationFn:()=>we.test(e.id),onSuccess:N=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),U({title:N.success?"Connection Successful":"Connection Failed",description:N.message||(N.latency_ms?`Latency: ${N.latency_ms}ms`:""),variant:N.success?"default":"destructive"})},onError:N=>{U({title:"Connection Test Failed",description:String(N),variant:"destructive"})}}),w=De({mutationFn:()=>we.sync(e.id),onSuccess:N=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),U({title:"Sync Complete",description:`Synced ${N.synced_models} models`})},onError:N=>{U({title:"Sync Failed",description:String(N),variant:"destructive"})}}),_=()=>{b.mutate({name:a!==e?.name?a:void 0,notes:l!==e?.notes?l:void 0,health_check_interval_secs:parseInt(d)!==e?.health_check_interval_secs?parseInt(d):void 0,inference_timeout_secs:parseInt(h)!==e?.inference_timeout_secs?parseInt(h):void 0})};return e?t.jsxs(Ce,{open:s,onOpenChange:n,children:[t.jsxs(pe,{className:"max-w-2xl",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),e.name]}),t.jsx(ge,{children:e.base_url})]}),t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ee,{variant:sp(e.status),children:np(e.status)}),t.jsx(ee,{variant:ap(e.endpoint_type),children:rp(e.endpoint_type)}),e.supports_responses_api&&t.jsx(ee,{variant:"outline",children:"Responses API"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Models: ",e.model_count]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(M,{variant:"outline",size:"sm",onClick:()=>y.mutate(),disabled:y.isPending,children:[t.jsx(la,{className:"h-4 w-4 mr-1"}),"Test Connection"]}),t.jsxs(M,{variant:"outline",size:"sm",onClick:()=>w.mutate(),disabled:w.isPending||e.status!=="online",children:[t.jsx(nt,{className:`h-4 w-4 mr-1 ${w.isPending?"animate-spin":""}`}),"Sync Models"]})]})]}),t.jsx(it,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),t.jsx("span",{className:"ml-2",children:e.latency_ms!=null?`${e.latency_ms}ms`:"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Registered:"}),t.jsx("span",{className:"ml-2",children:ze(e.registered_at)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Seen:"}),t.jsx("span",{className:"ml-2",children:e.last_seen?ze(e.last_seen):"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Error Count:"}),t.jsx("span",{className:"ml-2",children:e.error_count})]})]}),e.last_error&&t.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[t.jsx(ia,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Last Error"})]}),t.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:e.last_error})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(J,{className:"flex items-center gap-2",children:[t.jsx($l,{className:"h-4 w-4"}),"Models (",v?.models?.length||0,")"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.endpoint_type==="xllm"&&t.jsxs(M,{variant:"outline",size:"sm",onClick:()=>x(!0),disabled:e.status!=="online",children:[t.jsx(An,{className:"h-4 w-4 mr-1"}),"Download Model"]}),t.jsxs(M,{variant:"default",size:"sm",onClick:g,disabled:e.status!=="online"||!v?.models?.length,children:[t.jsx(ws,{className:"h-4 w-4 mr-1"}),"Open Playground"]})]})]}),t.jsx(Ke,{className:"h-32 rounded-md border",children:t.jsx("div",{className:"p-3 space-y-2",children:m?t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(Ne,{className:"h-4 w-4 animate-spin text-muted-foreground"}),t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading models..."})]}):v?.models?.length?v.models.map(N=>t.jsxs("div",{className:"flex items-center justify-between text-sm py-1.5 px-2 rounded hover:bg-muted/50",children:[t.jsx("span",{className:"font-mono text-xs truncate flex-1",title:N.model_id,children:N.model_id}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[N.max_tokens&&t.jsxs("span",{className:"text-xs text-muted-foreground",children:[(N.max_tokens/1024).toFixed(0),"K ctx"]}),N.capabilities&&N.capabilities.length>0&&t.jsx("div",{className:"flex gap-1",children:N.capabilities.slice(0,2).map(A=>t.jsx(ee,{variant:"outline",className:"text-xs",children:A},A))})]})]},N.model_id)):t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models available"})})})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"name",children:"Display Name"}),t.jsx(he,{id:"name",value:a,onChange:N=>i(N.target.value),placeholder:"Endpoint name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{htmlFor:"healthCheckInterval",children:[t.jsx(Ut,{className:"h-4 w-4 inline mr-1"}),"Health Check Interval (sec)"]}),t.jsx(he,{id:"healthCheckInterval",type:"number",min:"5",max:"3600",value:d,onChange:N=>u(N.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{htmlFor:"inferenceTimeout",children:[t.jsx(Ut,{className:"h-4 w-4 inline mr-1"}),"Inference Timeout (sec)"]}),t.jsx(he,{id:"inferenceTimeout",type:"number",min:"10",max:"600",value:h,onChange:N=>f(N.target.value)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"notes",children:"Notes"}),t.jsx(ir,{id:"notes",value:l,onChange:N=>c(N.target.value),placeholder:"Notes about this endpoint...",rows:3})]})]})]}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>n(!1),children:"Close"}),t.jsxs(M,{onClick:_,disabled:b.isPending,children:[t.jsx(Od,{className:"h-4 w-4 mr-1"}),b.isPending?"Saving...":"Save"]})]})]}),t.jsx(tp,{endpoint:e,open:p,onOpenChange:x})]}):null}const It=10;function ip(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function cp(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function lp(e){switch(e){case"xllm":return"xLLM";case"ollama":return"Ollama";case"vllm":return"vLLM";case"openai_compatible":return"OpenAI";case"unknown":return"Unknown";default:return e}}function dp(e){switch(e){case"xllm":return"default";case"ollama":return"secondary";case"vllm":return"secondary";case"openai_compatible":return"outline";case"unknown":return"outline";default:return"outline"}}function up({endpoints:e,isLoading:s}){const n=Qe(),[r,a]=o.useState(""),[i,l]=o.useState("all"),[c,d]=o.useState("all"),[u,h]=o.useState("status"),[f,p]=o.useState("desc"),[x,v]=o.useState(1),[m,g]=o.useState(null),[b,y]=o.useState(null),[w,_]=o.useState(!1),[N,A]=o.useState(null),[S,P]=o.useState(null),[C,F]=o.useState(!1),[$,G]=o.useState(!1),[R,H]=o.useState(null),[O,B]=o.useState({name:"",base_url:"",api_key:"",notes:""}),re=async()=>{if(!(!O.name||!O.base_url)){G(!0),H(null);try{await we.create({name:O.name,base_url:O.base_url,api_key:O.api_key||void 0,notes:O.notes||void 0}),await n.invalidateQueries({queryKey:["dashboard-endpoints"]}),F(!1),B({name:"",base_url:"",api_key:"",notes:""})}catch(j){console.error("Failed to create endpoint:",j),H(j instanceof Error?j.message:"Failed to create endpoint")}finally{G(!1)}}},ae=async()=>{if(b){_(!0);try{await we.delete(b.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(j){console.error("Failed to delete endpoint:",j)}finally{_(!1),y(null)}}},I=async j=>{A(j.id);try{await we.test(j.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(q){console.error("Failed to test endpoint:",q)}finally{A(null)}},be=async j=>{P(j.id);try{await we.sync(j.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(q){console.error("Failed to sync endpoint:",q)}finally{P(null)}},oe=o.useMemo(()=>e.filter(j=>{const q=j.name.toLowerCase().includes(r.toLowerCase())||j.base_url.toLowerCase().includes(r.toLowerCase()),Z=i==="all"||j.status===i,z=c==="all"||j.endpoint_type===c;return q&&Z&&z}),[e,r,i,c]),le=o.useMemo(()=>[...oe].sort((j,q)=>{let Z=0;switch(u){case"name":Z=j.name.localeCompare(q.name);break;case"status":{const z={online:0,pending:1,offline:2,error:3};Z=z[j.status]-z[q.status];break}case"latency_ms":Z=(j.latency_ms??1/0)-(q.latency_ms??1/0);break;case"model_count":Z=j.model_count-q.model_count;break;case"registered_at":Z=new Date(j.registered_at).getTime()-new Date(q.registered_at).getTime();break}return f==="asc"?Z:-Z}),[oe,u,f]),Re=o.useMemo(()=>{const j=(x-1)*It;return le.slice(j,j+It)},[le,x]),de=Math.ceil(le.length/It),je=j=>{u===j?p(f==="asc"?"desc":"asc"):(h(j),p("desc"))},ie=({field:j})=>u!==j?null:f==="asc"?t.jsx(oa,{className:"ml-1 h-4 w-4 inline"}):t.jsx(In,{className:"ml-1 h-4 w-4 inline"});return s&&e.length===0?t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),"Endpoints"]})}),t.jsx(lt,{children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),"Endpoints",t.jsx(ee,{variant:"secondary",className:"ml-2",children:oe.length})]}),t.jsxs(M,{onClick:()=>F(!0),children:[t.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),t.jsxs(lt,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ld,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(he,{placeholder:"Search by name or URL...",value:r,onChange:j=>{a(j.target.value),v(1)},className:"pl-10"})]}),t.jsxs(tt,{value:i,onValueChange:j=>{l(j),v(1)},children:[t.jsx(We,{className:"w-[140px]",children:t.jsx(st,{placeholder:"Status"})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All Status"}),t.jsx(X,{value:"online",children:"Online"}),t.jsx(X,{value:"pending",children:"Pending"}),t.jsx(X,{value:"offline",children:"Offline"}),t.jsx(X,{value:"error",children:"Error"})]})]}),t.jsxs(tt,{value:c,onValueChange:j=>{d(j),v(1)},children:[t.jsx(We,{className:"w-[140px]",children:t.jsx(st,{placeholder:"Type"})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All Types"}),t.jsx(X,{value:"xllm",children:"xLLM"}),t.jsx(X,{value:"ollama",children:"Ollama"}),t.jsx(X,{value:"vllm",children:"vLLM"}),t.jsx(X,{value:"openai_compatible",children:"OpenAI"}),t.jsx(X,{value:"unknown",children:"Unknown"})]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Rt,{children:[t.jsx(kt,{children:t.jsxs(_e,{children:[t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>je("name"),children:["Name",t.jsx(ie,{field:"name"})]}),t.jsx(Y,{children:"URL"}),t.jsx(Y,{children:"Type"}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>je("status"),children:["Status",t.jsx(ie,{field:"status"})]}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>je("latency_ms"),children:["Latency",t.jsx(ie,{field:"latency_ms"})]}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>je("model_count"),children:["Models",t.jsx(ie,{field:"model_count"})]}),t.jsx(Y,{children:"Last Seen"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:Re.length===0?t.jsx(_e,{children:t.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:r||i!=="all"?"No endpoints match the filter criteria":"No endpoints registered"})}):Re.map(j=>t.jsxs(_e,{children:[t.jsx(W,{className:"font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:j.name}),j.supports_responses_api&&t.jsx(ee,{variant:"outline",className:"text-xs",children:"Responses API"})]})}),t.jsx(W,{children:t.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:j.base_url})}),t.jsx(W,{children:t.jsx(ee,{variant:dp(j.endpoint_type),children:lp(j.endpoint_type)})}),t.jsxs(W,{children:[t.jsx(ee,{variant:ip(j.status),children:cp(j.status)}),j.last_error&&t.jsxs("span",{className:"ml-2 text-xs text-destructive",children:["(",j.error_count," errors)"]})]}),t.jsx(W,{className:"text-right",children:j.latency_ms!=null?`${j.latency_ms}ms`:"-"}),t.jsx(W,{className:"text-right",children:j.model_count}),t.jsx(W,{children:j.last_seen?ze(j.last_seen):"-"}),t.jsx(W,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>g(j),title:"Details",children:t.jsx(Nd,{className:"h-4 w-4"})}),t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>I(j),disabled:N===j.id,title:"Test Connection",children:t.jsx(la,{className:T("h-4 w-4",N===j.id&&"animate-pulse")})}),t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>be(j),disabled:S===j.id||j.status!=="online",title:"Sync Models",children:t.jsx(nt,{className:T("h-4 w-4",S===j.id&&"animate-spin")})}),t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>y(j),title:"Delete",children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})]})})]},j.id))})]})}),de>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(x-1)*It+1," -"," ",Math.min(x*It,le.length)," of ",le.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(j=>Math.max(1,j-1)),disabled:x===1,children:t.jsx(aa,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm",children:[x," / ",de]}),t.jsx(M,{variant:"outline",size:"sm",onClick:()=>v(j=>Math.min(de,j+1)),disabled:x===de,children:t.jsx(Dn,{className:"h-4 w-4"})})]})]})]})]}),m&&t.jsx(op,{endpoint:m,open:!!m,onOpenChange:j=>!j&&g(null)}),t.jsx(As,{open:!!b,onOpenChange:j=>!j&&y(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete Endpoint?"}),t.jsxs(Jt,{children:['This will delete "',b?.name,'". This action cannot be undone. Models associated with this endpoint will no longer be available.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{disabled:w,children:"Cancel"}),t.jsx(es,{onClick:ae,disabled:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:w?"Deleting...":"Delete"})]})]})}),t.jsx(Ce,{open:C,onOpenChange:j=>{j||(H(null),B({name:"",base_url:"",api_key:"",notes:""})),F(j)},children:t.jsxs(pe,{className:"sm:max-w-[500px]",children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Add New Endpoint"}),t.jsx(ge,{children:"Register a new inference service endpoint (Ollama, vLLM, etc.)"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-name",children:"Name *"}),t.jsx(he,{id:"endpoint-name",placeholder:"e.g., Production Ollama",value:O.name,onChange:j=>B({...O,name:j.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-url",children:"Base URL *"}),t.jsx(he,{id:"endpoint-url",placeholder:"e.g., http://localhost:11434",value:O.base_url,onChange:j=>B({...O,base_url:j.target.value})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The base URL of the OpenAI-compatible API endpoint"})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-api-key",children:"API Key (optional)"}),t.jsx(he,{id:"endpoint-api-key",type:"password",placeholder:"sk-...",value:O.api_key,onChange:j=>B({...O,api_key:j.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-notes",children:"Notes (optional)"}),t.jsx(he,{id:"endpoint-notes",placeholder:"Description or notes about this endpoint",value:O.notes,onChange:j=>B({...O,notes:j.target.value})})]}),R&&t.jsx("p",{className:"text-sm text-destructive",children:R})]}),t.jsxs(Ae,{children:[t.jsx(M,{variant:"outline",onClick:()=>F(!1),disabled:$,children:"Cancel"}),t.jsx(M,{onClick:re,disabled:$||!O.name||!O.base_url,children:$?"Creating...":"Create Endpoint"})]})]})})]})}var $s="Tabs",[hp]=Be($s,[Ss]),pc=Ss(),[fp,cr]=hp($s),xc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...u}=e,h=zt(c),[f,p]=et({prop:r,onChange:a,defaultProp:i??"",caller:$s});return t.jsx(fp,{scope:n,baseId:Ue(),value:f,onValueChange:p,orientation:l,dir:h,activationMode:d,children:t.jsx(L.div,{dir:h,"data-orientation":l,...u,ref:s})})});xc.displayName=$s;var vc="TabsList",gc=o.forwardRef((e,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=cr(vc,n),l=pc(n);return t.jsx(xa,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx(L.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});gc.displayName=vc;var yc="TabsTrigger",bc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,l=cr(yc,n),c=pc(n),d=Nc(l.baseId,r),u=Cc(l.baseId,r),h=r===l.value;return t.jsx(va,{asChild:!0,...c,focusable:!a,active:h,children:t.jsx(L.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:k(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?l.onValueChange(r):f.preventDefault()}),onKeyDown:k(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(r)}),onFocus:k(e.onFocus,()=>{const f=l.activationMode!=="manual";!h&&!a&&f&&l.onValueChange(r)})})})});bc.displayName=yc;var jc="TabsContent",wc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...l}=e,c=cr(jc,n),d=Nc(c.baseId,r),u=Cc(c.baseId,r),h=r===c.value,f=o.useRef(h);return o.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Ee,{present:a||h,children:({present:p})=>t.jsx(L.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:u,tabIndex:0,...l,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});wc.displayName=jc;function Nc(e,s){return`${e}-trigger-${s}`}function Cc(e,s){return`${e}-content-${s}`}var mp=xc,Sc=gc,_c=bc,Ec=wc;const lr=mp,Us=o.forwardRef(({className:e,...s},n)=>t.jsx(Sc,{ref:n,className:T("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));Us.displayName=Sc.displayName;const Le=o.forwardRef(({className:e,...s},n)=>t.jsx(_c,{ref:n,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Le.displayName=_c.displayName;const $e=o.forwardRef(({className:e,...s},n)=>t.jsx(Ec,{ref:n,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));$e.displayName=Ec.displayName;const pp=[25,50,100];function xp({history:e,isLoading:s}){const[n,r]=o.useState(25),[a,i]=o.useState(1),[l,c]=o.useState(null),[d,u]=o.useState(null),h=Math.ceil(e.length/n),f=e.slice((a-1)*n,a*n),p=async(x,v)=>{try{await navigator.clipboard.writeText(x),u(v),setTimeout(()=>u(null),2e3),U({title:"Copied to clipboard"})}catch{U({title:"Failed to copy",variant:"destructive"})}};return s?t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5"}),"Request History"]})}),t.jsx(lt,{children:t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,v)=>t.jsx("div",{className:"h-12 shimmer rounded"},v))})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(ct,{children:[t.jsx(Nt,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5"}),"Request History",t.jsx(ee,{variant:"secondary",className:"ml-2",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),t.jsxs(tt,{value:n.toString(),onValueChange:x=>{r(Number(x)),i(1)},children:[t.jsx(We,{id:"history-per-page",className:"w-20",children:t.jsx(st,{})}),t.jsx(Ge,{children:pp.map(x=>t.jsx(X,{value:x.toString(),children:x},x))})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]})}),t.jsxs(lt,{className:"px-0",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Rt,{children:[t.jsx(kt,{children:t.jsxs(_e,{children:[t.jsx(Y,{children:"Time"}),t.jsx(Y,{children:"Model"}),t.jsx(Y,{children:"Node"}),t.jsx(Y,{children:"Status"}),t.jsx(Y,{children:"Duration"}),t.jsx(Y,{children:"Tokens"})]})}),t.jsx(Mt,{id:"request-history-tbody",children:f.length===0?t.jsx(_e,{children:t.jsx(W,{colSpan:6,className:"h-32 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t.jsx(Dt,{className:"h-8 w-8"}),t.jsx("p",{children:"No request history"})]})})}):f.map(x=>t.jsxs(_e,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>c(x),children:[t.jsx(W,{className:"font-mono text-xs",children:ze(x.timestamp)}),t.jsx(W,{children:t.jsx(ee,{variant:"secondary",children:x.model})}),t.jsx(W,{className:"text-sm",children:x.node_name||x.node_id?.slice(0,8)||""}),t.jsx(W,{children:t.jsxs(ee,{variant:x.status==="success"?"online":"destructive",className:"gap-1",children:[x.status==="success"?t.jsx(us,{className:"h-3 w-3"}):t.jsx($t,{className:"h-3 w-3"}),x.status]})}),t.jsx(W,{children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Ut,{className:"h-3 w-3 text-muted-foreground"}),sn(x.duration_ms)]})}),t.jsx(W,{className:"text-sm",children:x.total_tokens?.toLocaleString()||""})]},x.request_id))})]})}),h>1&&t.jsxs("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(a-1)*n+1," to"," ",Math.min(a*n,e.length)," of ",e.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(M,{id:"history-page-prev",variant:"outline",size:"sm",onClick:()=>i(x=>Math.max(1,x-1)),disabled:a===1,children:t.jsx(aa,{className:"h-4 w-4"})}),t.jsxs("span",{id:"history-page-info",className:"text-sm",children:["Page ",a," of ",h]}),t.jsx(M,{id:"history-page-next",variant:"outline",size:"sm",onClick:()=>i(x=>Math.min(h,x+1)),disabled:a===h,children:t.jsx(Dn,{className:"h-4 w-4"})})]})]})]})]}),t.jsx(Ce,{open:!!l,onOpenChange:()=>c(null),children:t.jsxs(pe,{id:"request-modal",className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(xe,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(Dt,{className:"h-5 w-5"}),"Request Details"]}),t.jsxs(ge,{children:["Request ID: ",t.jsx("code",{className:"text-xs",children:l?.request_id})]})]}),l&&t.jsxs(lr,{defaultValue:"overview",className:"mt-4",children:[t.jsxs(Us,{className:"grid w-full grid-cols-3",children:[t.jsx(Le,{value:"overview",children:"Overview"}),t.jsx(Le,{value:"request",children:"Request"}),t.jsx(Le,{value:"response",children:"Response"})]}),t.jsxs($e,{value:"overview",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),t.jsx(ee,{variant:"secondary",children:l.model})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsx(ee,{variant:l.status==="success"?"online":"destructive",children:l.status})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Node"}),t.jsx("p",{className:"text-sm",children:l.node_name||l.node_id||""})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),t.jsx("p",{className:"text-sm",children:sn(l.duration_ms)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Timestamp"}),t.jsx("p",{className:"text-sm",children:new Date(l.timestamp).toLocaleString()})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),t.jsx("p",{className:"text-sm",children:l.total_tokens?.toLocaleString()||""})]})]}),l.error&&t.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error"}),t.jsx("p",{className:"mt-1 text-sm",children:l.error})]})]}),t.jsx($e,{value:"request",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.request_body,null,2),"request"),children:d==="request"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.request_body,null,2)||"No request body"})})]})}),t.jsx($e,{value:"response",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.response_body,null,2),"response"),children:d==="response"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.response_body,null,2)||"No response body"})})]})})]})]})})]})}var qs="Switch",[vp]=Be(qs),[gp,yp]=vp(qs),Rc=o.forwardRef((e,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:u,form:h,...f}=e,[p,x]=o.useState(null),v=Q(s,w=>x(w)),m=o.useRef(!1),g=p?h||!!p.closest("form"):!0,[b,y]=et({prop:a,defaultProp:i??!1,onChange:u,caller:qs});return t.jsxs(gp,{scope:n,checked:b,disabled:c,children:[t.jsx(L.button,{type:"button",role:"switch","aria-checked":b,"aria-required":l,"data-state":Tc(b),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:v,onClick:k(e.onClick,w=>{y(_=>!_),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&t.jsx(Pc,{control:p,bubbles:!m.current,name:r,value:d,checked:b,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});Rc.displayName=qs;var kc="SwitchThumb",Mc=o.forwardRef((e,s)=>{const{__scopeSwitch:n,...r}=e,a=yp(kc,n);return t.jsx(L.span,{"data-state":Tc(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});Mc.displayName=kc;var bp="SwitchBubbleInput",Pc=o.forwardRef(({__scopeSwitch:e,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=o.useRef(null),c=Q(l,i),d=zn(n),u=zr(s);return o.useEffect(()=>{const h=l.current;if(!h)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const v=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(v)}},[d,n,r]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Pc.displayName=bp;function Tc(e){return e?"checked":"unchecked"}var Ic=Rc,jp=Mc;const dr=o.forwardRef(({className:e,...s},n)=>t.jsx(Ic,{className:T("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:n,children:t.jsx(jp,{className:T("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));dr.displayName=Ic.displayName;function wp(){const[e,s]=o.useState("all"),[n,r]=o.useState(!0),a=o.useRef(null),{data:i,refetch:l,isRefetching:c}=Me({queryKey:["router-logs"],queryFn:()=>bt.getRouterLogs({limit:200}),refetchInterval:5e3}),u=i?.entries?.filter(v=>e==="all"?!0:v.level.toLowerCase()===e);o.useEffect(()=>{if(n&&a.current){const v=a.current.querySelector("[data-radix-scroll-area-viewport]");v&&(v.scrollTop=v.scrollHeight)}},[u,n]);const h=()=>{l()},f=()=>{U({title:"Log clearing is handled on the server side"})},p=()=>{if(!u||u.length===0){U({title:"No logs to download",variant:"destructive"});return}const v=u.map(y=>`[${y.timestamp}] [${y.level}] ${y.target?`[${y.target}] `:""}${y.message||""}`).join(`
`),m=new Blob([v],{type:"text/plain"}),g=URL.createObjectURL(m),b=document.createElement("a");b.href=g,b.download=`logs-llmlb-${new Date().toISOString().slice(0,10)}.txt`,b.click(),URL.revokeObjectURL(g),U({title:"Logs downloaded"})},x=v=>{const m=v.toLowerCase();return m==="error"?"text-destructive":m==="warn"||m==="warning"?"text-warning":m==="info"?"text-primary":m==="debug"?"text-muted-foreground":"text-foreground"};return t.jsxs(ct,{children:[t.jsx(Nt,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(ca,{className:"h-5 w-5"}),"Log Viewer",u&&t.jsx(ee,{variant:"secondary",className:"ml-2",children:u.length})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border rounded-md bg-muted/30",children:[t.jsx(qt,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"LLM Load Balancer"})]}),t.jsxs(tt,{value:e,onValueChange:v=>s(v),children:[t.jsx(We,{className:"w-28",children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All"}),t.jsx(X,{value:"error",children:"Error"}),t.jsx(X,{value:"warn",children:"Warn"}),t.jsx(X,{value:"info",children:"Info"}),t.jsx(X,{value:"debug",children:"Debug"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dr,{id:"auto-scroll",checked:n,onCheckedChange:r}),t.jsx(J,{htmlFor:"auto-scroll",className:"text-sm",children:"Auto-scroll"})]})]})]})}),t.jsxs(lt,{children:[t.jsxs("div",{className:"mb-4 flex gap-2",children:[t.jsxs(M,{id:"logs-router-refresh",variant:"outline",size:"sm",onClick:h,disabled:c,children:[t.jsx(nt,{className:T("mr-2 h-4 w-4",c&&"animate-spin")}),"Refresh"]}),t.jsxs(M,{variant:"outline",size:"sm",onClick:p,children:[t.jsx(An,{className:"mr-2 h-4 w-4"}),"Download"]}),t.jsxs(M,{variant:"outline",size:"sm",onClick:f,children:[t.jsx(Ht,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),t.jsx(Ke,{className:"h-96 rounded-md border bg-muted/30",ref:a,children:t.jsx("div",{id:"logs-router-list",className:"p-4 font-mono text-xs space-y-0.5",children:!u||u.length===0?t.jsx("div",{className:"flex h-32 items-center justify-center text-muted-foreground",children:"No logs available"}):u.map((v,m)=>t.jsxs("div",{className:"flex gap-2 py-0.5 hover:bg-muted/50 rounded px-1 -mx-1",children:[t.jsx("span",{className:"text-muted-foreground shrink-0",children:new Date(v.timestamp).toLocaleTimeString()}),t.jsx("span",{className:T("uppercase w-12 shrink-0 font-semibold",x(v.level)),children:v.level}),v.target&&t.jsxs("span",{className:"text-muted-foreground shrink-0",children:["[",v.target,"]"]}),t.jsx("span",{className:"break-all",children:v.message||""})]},m))})})]})]})}function Np(){const{data:e,isLoading:s}=Me({queryKey:["token-stats-daily"],queryFn:()=>bt.getDailyTokenStats(7)}),{data:n,isLoading:r}=Me({queryKey:["token-stats-monthly"],queryFn:()=>bt.getMonthlyTokenStats(6)});return t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-5 w-5"}),"Token Statistics"]})}),t.jsx(lt,{children:t.jsxs(lr,{defaultValue:"daily",className:"space-y-4",children:[t.jsxs(Us,{children:[t.jsxs(Le,{value:"daily",className:"gap-2",children:[t.jsx(Zd,{className:"h-4 w-4"}),"Daily"]}),t.jsxs(Le,{value:"monthly",className:"gap-2",children:[t.jsx(ql,{className:"h-4 w-4"}),"Monthly"]})]}),t.jsx($e,{value:"daily",children:s?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):e&&e.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Date"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),e.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.date}),t.jsx("div",{className:"text-right",children:ue(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:ue(a.total_tokens)})]},a.date))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No daily statistics available"})}),t.jsx($e,{value:"monthly",children:r?t.jsx("div",{className:"space-y-2",children:[...Array(3)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):n&&n.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Month"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),n.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.month}),t.jsx("div",{className:"text-right",children:ue(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:ue(a.total_tokens)})]},a.month))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No monthly statistics available"})})]})})]})}function Cp(){const{user:e}=Tn(),{isConnected:s}=ru(),[n,r]=o.useState(null),[a,i]=o.useState(null),l=o.useRef(null),c=s?1e4:5e3,d=o.useCallback(async()=>{l.current=performance.now();const y=await bt.getOverview(),w=performance.now();return i(Math.round(w-(l.current||w))),r(new Date),y},[]),{data:u,isLoading:h,error:f,refetch:p}=Me({queryKey:["dashboard-overview"],queryFn:d,refetchInterval:c}),{data:x,isLoading:v}=Me({queryKey:["request-responses"],queryFn:()=>bt.getRequestResponses({limit:100}),refetchInterval:c}),{data:m,isLoading:g}=Me({queryKey:["dashboard-endpoints"],queryFn:()=>bt.getEndpoints(),refetchInterval:c}),b=o.useMemo(()=>x?.records?x.records.map(y=>({request_id:y.id,timestamp:y.timestamp,model:y.model,node_id:y.node_id,node_name:y.node_machine_name,status:y.status.type,duration_ms:y.duration_ms,error:y.status.type==="error"?y.status.message:void 0,request_body:y.request_body,response_body:y.response_body})):[],[x]);return f?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:t.jsx(ia,{className:"h-8 w-8 text-destructive"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Failed to load dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:f instanceof Error?f.message:"An error occurred"})]}),t.jsx("button",{onClick:()=>p(),className:"text-sm text-primary hover:underline",children:"Try again"})]})}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"fixed inset-0 bg-grid opacity-20 pointer-events-none"}),t.jsx(Qm,{user:e,isConnected:!f,lastRefreshed:n,fetchTimeMs:a}),t.jsxs("main",{className:"relative mx-auto max-w-[1600px] px-4 py-6 sm:px-6 lg:px-8",children:[t.jsx("section",{className:"mb-8",children:t.jsx(Xm,{stats:u?.stats,isLoading:h})}),t.jsxs(lr,{defaultValue:"endpoints",className:"space-y-6",children:[t.jsxs(Us,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[t.jsxs(Le,{value:"endpoints",className:"gap-2",children:[t.jsx(md,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Endpoints"})]}),t.jsxs(Le,{value:"statistics",className:"gap-2",children:[t.jsx(Bl,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Statistics"})]}),t.jsxs(Le,{value:"history",className:"gap-2",children:[t.jsx(Dt,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"History"})]}),t.jsxs(Le,{value:"logs",className:"gap-2",children:[t.jsx(ca,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Logs"})]})]}),t.jsx($e,{value:"endpoints",className:"animate-fade-in",children:t.jsx(up,{endpoints:m||[],isLoading:g})}),t.jsx($e,{value:"statistics",className:"animate-fade-in",children:t.jsx(Np,{})}),t.jsx($e,{value:"history",className:"animate-fade-in",children:t.jsx(xp,{history:b,isLoading:v})}),t.jsx($e,{value:"logs",className:"animate-fade-in",children:t.jsx(wp,{})})]})]})]})}function Sp({endpointId:e,onBack:s}){const[n,r]=o.useState([]),[a,i]=o.useState(""),[l,c]=o.useState(!1),[d,u]=o.useState(!1),[h,f]=o.useState(!1),[p,x]=o.useState(!1),[v,m]=o.useState(""),[g,b]=o.useState(""),[y,w]=o.useState(!0),[_,N]=o.useState(.7),[A,S]=o.useState(16384),P=o.useRef(null),C=o.useRef(null),F=o.useRef(null),$=o.useRef(null),G=o.useRef(null),[R,H]=o.useState([]),{data:O,isLoading:B}=Me({queryKey:["endpoint",e],queryFn:()=>we.get(e)}),{data:re,isLoading:ae,error:I}=Me({queryKey:["endpoint-models",e],queryFn:()=>we.getModels(e),retry:!1});o.useEffect(()=>{if(I){let E="Failed to fetch model list";I instanceof qc&&(E=I.message),U({title:"Error",description:E,variant:"destructive"})}},[I]),o.useEffect(()=>{re?.models&&!v&&re.models.length>0&&m(re.models[0].model_id)},[re,v]),o.useEffect(()=>{P.current?.scrollIntoView({behavior:"smooth"})},[n]);const be=()=>{r([]),H([]),U({title:"Chat cleared"})},oe=async(E,K)=>{if(E){if(E.size>4*1024*1024){U({title:"File too large",description:"Maximum size is 4MB",variant:"destructive"});return}try{const V=new FileReader;V.onload=te=>{const se=te.target?.result,ne={type:K,name:E.name,data:se,mimeType:E.type};H(fe=>[...fe,ne]),U({title:`${K==="image"?"Image":"Audio"} attached`})},V.readAsDataURL(E)}catch{U({title:"Failed to read file",variant:"destructive"})}}},le=E=>{H(K=>K.filter((V,te)=>te!==E))},Re=E=>{const K=/(data:image\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(png|jpg|jpeg|gif|webp))/gi,V=/(data:audio\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(mp3|wav|ogg|m4a))/gi,te=E.match(K)||[],se=E.match(V)||[];return{imageMatches:te,audioMatches:se}},de=async()=>{if(!a.trim()&&R.length===0||!v||l)return;const E={role:"user",content:a.trim(),attachments:R.length>0?R:void 0},K=[...n,E];r(K),i(""),H([]),c(!0),C.current=new AbortController;try{const V=se=>{if(!se.attachments||se.attachments.length===0)return{role:se.role,content:se.content};const ne=[];return se.content.trim()&&ne.push({type:"text",text:se.content}),se.attachments.forEach(fe=>{if(fe.type==="image")ne.push({type:"image_url",image_url:{url:fe.data}});else if(fe.type==="audio"){const Tt=fe.data.startsWith("data:")?fe.data.split(",")[1]:fe.data;ne.push({type:"input_audio",input_audio:{data:Tt,format:"wav"}})}}),{role:se.role,content:ne}},te=g?[{role:"system",content:g},...K.map(V)]:K.map(V);if(y){let se="";r(ne=>[...ne,{role:"assistant",content:""}]),await we.chatCompletions(e,{model:v,messages:te,stream:!0,temperature:_,max_tokens:A},ne=>{se+=ne,r(fe=>{const Tt=[...fe];return Tt[Tt.length-1]={role:"assistant",content:se},Tt})})}else{const ne={role:"assistant",content:(await we.chatCompletions(e,{model:v,messages:te,stream:!1,temperature:_,max_tokens:A}))?.choices?.[0]?.message?.content||""};r(fe=>[...fe,ne])}}catch(V){V.name!=="AbortError"&&(U({title:"Failed to send message",description:V instanceof Error?V.message:"Unknown error",variant:"destructive"}),r(n))}finally{c(!1),C.current=null,F.current?.focus()}},je=()=>{C.current?.abort(),c(!1)},ie=()=>{const E=g?[{role:"system",content:g},...n]:n;return z?`curl -X POST '${Z}/v1/chat/completions' \\
  -H 'Content-Type: application/json' \\
  -d '${JSON.stringify({model:v,messages:E,stream:y,temperature:_,max_tokens:A},null,2)}'`:"# Error: endpoint base_url is not configured. Please set it in the dashboard."},j=async E=>{try{await navigator.clipboard.writeText(E),x(!0),setTimeout(()=>x(!1),2e3),U({title:"Copied to clipboard"})}catch{U({title:"Failed to copy",variant:"destructive"})}},q=re?.models||[],Z=O?.base_url?.replace(/\/$/,"")||"",z=Z.length>0;return B?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(Ne,{className:"h-8 w-8 animate-spin text-primary"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading endpoint..."})]})}):t.jsxs("div",{className:"flex h-screen bg-background",children:[t.jsxs("div",{className:"w-64 border-r flex flex-col",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(_n,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-semibold text-sm truncate",title:O?.name,children:O?.name||"Endpoint"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Playground"})]})]})}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"URL:"})," ",t.jsx("span",{className:"truncate block",title:O?.base_url,children:z?O?.base_url:""})]}),!z&&t.jsx("div",{className:"text-xs text-destructive",children:"base_url "}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Status:"})," ",t.jsx(ee,{variant:O?.status==="online"?"default":"secondary",className:"text-xs",children:O?.status})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Models:"})," ",q.length]})]}),t.jsx(it,{}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs(M,{variant:"outline",className:"w-full justify-start",onClick:s,children:[t.jsx(Il,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),t.jsxs(M,{variant:"ghost",className:"w-full justify-start",onClick:()=>u(!0),children:[t.jsx(Bd,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"p-3 border-t",children:t.jsxs(M,{variant:"outline",size:"sm",className:"w-full",onClick:be,children:[t.jsx(Ht,{className:"mr-2 h-4 w-4"}),"Clear Chat"]})})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(tt,{value:v,onValueChange:m,children:[t.jsx(We,{className:"w-64",children:t.jsx(st,{placeholder:"Select a model"})}),t.jsx(Ge,{children:ae?t.jsx(X,{value:"__loading__",disabled:!0,children:"Loading models..."}):q.length===0?t.jsx(X,{value:"__no_models__",disabled:!0,children:"No models available"}):q.map(E=>t.jsx(X,{value:E.model_id,children:E.model_id},E.model_id))})]}),t.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[t.jsx(Jl,{className:T("h-3 w-3",O?.status==="online"?"text-green-500":"text-yellow-500")}),O?.status==="online"?"Online":O?.status]}),y&&t.jsx(ee,{variant:"secondary",className:"text-xs",children:"Streaming"})]}),t.jsxs(M,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[t.jsx(ad,{className:"mr-2 h-4 w-4"}),"cURL"]})]}),t.jsx(Ke,{className:"flex-1 p-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[t.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),t.jsx("h2",{className:"text-lg font-medium",children:"Start a conversation"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a model and send a message to get started."})]}):n.map((E,K)=>t.jsxs("div",{className:T("flex gap-3",E.role==="user"?"justify-end":""),children:[E.role==="assistant"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:t.jsx(Fl,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{className:T("rounded-lg px-4 py-3 max-w-[80%] space-y-2",E.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:[E.content&&t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:E.content}),E.attachments&&E.attachments.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:E.attachments.map((V,te)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:[V.type==="image"&&t.jsx("img",{src:V.data,alt:V.name,className:"w-full h-32 object-cover rounded-sm"}),V.type==="audio"&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[t.jsx(Nr,{className:"h-6 w-6"}),t.jsx("audio",{src:V.data,controls:!0,className:"w-full max-w-[120px]"})]})]},te))}),E.role==="assistant"&&(()=>{const{imageMatches:V,audioMatches:te}=Re(E.content);return t.jsxs(t.Fragment,{children:[V.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:V.map((se,ne)=>t.jsx("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:t.jsx("img",{src:se,alt:`assistant-image-${ne}`,className:"w-full h-32 object-cover rounded-sm"})},ne))}),te.length>0&&t.jsx("div",{className:"space-y-2 mt-2",children:te.map((se,ne)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-2 flex flex-col items-center justify-center gap-2",children:[t.jsx(Nr,{className:"h-4 w-4"}),t.jsx("audio",{src:se,controls:!0,className:"w-full max-w-[200px]"})]},ne))})]})})()]}),E.role==="user"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:t.jsx(Sn,{className:"h-4 w-4"})})]},K)),t.jsx("div",{ref:P})]})}),t.jsx("div",{className:"border-t p-4 bg-gradient-to-b from-background via-background to-muted/5",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[R.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-muted/40 border border-muted-foreground/10",children:R.map((E,K)=>t.jsxs("div",{className:"relative group inline-block rounded-md overflow-hidden bg-background border border-border",children:[E.type==="image"&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:E.data,alt:E.name,className:"h-16 w-16 object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:t.jsx("button",{onClick:()=>le(K),className:"text-white bg-destructive rounded-full p-1 hover:bg-destructive/80",children:t.jsx(tn,{className:"h-3 w-3"})})})]}),E.type==="audio"&&t.jsxs("div",{className:"h-16 w-16 flex flex-col items-center justify-center bg-muted gap-1",children:[t.jsx(wr,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("button",{onClick:()=>le(K),className:"absolute -top-2 -right-2 text-white bg-destructive rounded-full p-0.5 hover:bg-destructive/80",children:t.jsx(tn,{className:"h-3 w-3"})})]})]},K))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:$,type:"file",accept:"image/*",className:"hidden",onChange:E=>E.target.files?.[0]&&oe(E.target.files[0],"image")}),t.jsx("input",{ref:G,type:"file",accept:"audio/*",className:"hidden",onChange:E=>E.target.files?.[0]&&oe(E.target.files[0],"audio")}),t.jsx(M,{variant:"outline",size:"icon",onClick:()=>$.current?.click(),title:"Attach image",className:"shrink-0",children:t.jsx(jd,{className:"h-4 w-4"})}),t.jsx(M,{variant:"outline",size:"icon",onClick:()=>G.current?.click(),title:"Attach audio",className:"shrink-0",children:t.jsx(wr,{className:"h-4 w-4"})}),t.jsx(he,{ref:F,placeholder:"Type a message or attach files...",value:a,onChange:E=>i(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&!E.nativeEvent.isComposing&&(E.preventDefault(),de())},onPaste:E=>{const K=E.clipboardData?.files;if(K)for(const V of Array.from(K)){const te=V.type.startsWith("audio/")?"audio":V.type.startsWith("image/")?"image":null;te&&oe(V,te)}},disabled:l,className:"flex-1"}),l?t.jsxs(M,{variant:"destructive",onClick:je,className:"shrink-0",children:[t.jsx(nt,{className:"mr-2 h-4 w-4 animate-spin"}),"Stop"]}):t.jsxs(M,{onClick:de,disabled:!a.trim()&&R.length===0||!v,className:"shrink-0",children:[t.jsx(Ud,{className:"mr-2 h-4 w-4"}),"Send"]})]})]})})]}),t.jsx(Ce,{open:d,onOpenChange:u,children:t.jsxs(pe,{children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"Settings"}),t.jsx(ge,{children:"Configure your chat preferences."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"System Prompt"}),t.jsx(ir,{placeholder:"You are a helpful assistant...",value:g,onChange:E=>b(E.target.value),rows:3})]}),t.jsx(it,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(J,{children:"Streaming"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses as they're generated"})]}),t.jsx(dr,{checked:y,onCheckedChange:w})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{children:["Temperature: ",_]}),t.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:_,onChange:E=>N(parseFloat(E.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Max Tokens"}),t.jsx(he,{type:"number",value:A,onChange:E=>S(parseInt(E.target.value)||2048),min:1,max:32e3})]})]}),t.jsx(Ae,{children:t.jsx(M,{onClick:()=>u(!1),children:"Done"})})]})}),t.jsx(Ce,{open:h,onOpenChange:f,children:t.jsxs(pe,{className:"max-w-2xl",children:[t.jsxs(xe,{children:[t.jsx(ve,{children:"cURL Command"}),t.jsx(ge,{children:"Copy this command to replicate the API call."})]}),t.jsxs("div",{className:"relative",children:[t.jsx(M,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>j(ie()),disabled:!z,children:p?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border bg-muted",children:t.jsx("pre",{className:"p-4 text-xs font-mono",children:ie()})})]}),t.jsx(Ae,{children:t.jsx(M,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})})]})}function $r(){const e=window.location.hash.slice(1);if(e.startsWith("playground/")){const s=e.slice(11);if(s)return{type:"playground",endpointId:s}}return{type:"dashboard"}}function _p(){const{isLoading:e,isLoggedIn:s}=Tn(),[n,r]=o.useState($r),a=o.useCallback(()=>{window.location.hash="",r({type:"dashboard"})},[]);if(o.useEffect(()=>{const i=()=>{r($r())};return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]),o.useEffect(()=>{!e&&!s&&(window.location.href="/dashboard/login.html")},[e,s]),e)return t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20"}),t.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-spin rounded-full border-4 border-transparent border-t-primary"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});switch(n.type){case"playground":return t.jsx(Sp,{endpointId:n.endpointId,onBack:a});case"dashboard":default:return t.jsx(Cp,{})}}const Ep=new ml({defaultOptions:{queries:{staleTime:5e3,refetchInterval:5e3,retry:1}}});Kc.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(pl,{client:Ep,children:t.jsx(El,{children:t.jsxs(Bc,{children:[t.jsx(_p,{}),t.jsx(Hc,{})]})})})}));
