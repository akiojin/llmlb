var Ha=e=>{throw TypeError(e)};var cn=(e,s,r)=>s.has(e)||Ha("Cannot "+r);var x=(e,s,r)=>(cn(e,s,"read from private field"),r?r.call(e):s.get(e)),$=(e,s,r)=>s.has(e)?Ha("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),P=(e,s,r,n)=>(cn(e,s,"write to private field"),n?n.call(e,r):s.set(e,r),r),B=(e,s,r)=>(cn(e,s,"access private method"),r);var xr=(e,s,r,n)=>({set _(a){P(e,s,a,r)},get _(){return x(e,s,n)}});import{r as o,j as t,i as Po,a as ln,b as _d,R as Md,u as it,c as q,g as Pd,d as Oe,e as Z,P as H,f as dt,h as Yn,k as I,l as Dt,m as Lr,n as To,o as Ue,p as Xn,A as Io,q as Zn,D as Jn,C as Ao,s as Td,t as Do,v as Oo,w as U,x as Fo,y as Id,z as Ad,X as wn,B as Dd,E as Lo,F,G as gt,L as ie,I as we,H as G,J as dn,K as Uo,V as Od,U as ea,M as vr,N as un,O as ta,Q as je,S as hn,T as Nn,W as Zt,Y as Jt,Z as Fd,_ as st,$ as _s,a0 as Ms,a1 as ms,a2 as Ld,a3 as Ud,a4 as $d,a5 as qd}from"./index-D-Vzw5_s.js";import{T as Cn,C as Rr}from"./ticket-BPMCPZjy.js";var As=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kd={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Nt,Qn,bo,Hd=(bo=class{constructor(){$(this,Nt,Kd);$(this,Qn,!1)}setTimeoutProvider(e){P(this,Nt,e)}setTimeout(e,s){return x(this,Nt).setTimeout(e,s)}clearTimeout(e){x(this,Nt).clearTimeout(e)}setInterval(e,s){return x(this,Nt).setInterval(e,s)}clearInterval(e){x(this,Nt).clearInterval(e)}},Nt=new WeakMap,Qn=new WeakMap,bo),Kt=new Hd;function Bd(e){setTimeout(e,0)}var es=typeof window>"u"||"Deno"in globalThis;function Se(){}function zd(e,s){return typeof e=="function"?e(s):e}function Sn(e){return typeof e=="number"&&e>=0&&e!==1/0}function $o(e,s){return Math.max(e+(s||0)-Date.now(),0)}function It(e,s){return typeof e=="function"?e(s):e}function Ke(e,s){return typeof e=="function"?e(s):e}function Ba(e,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:c}=e;if(l){if(n){if(s.queryHash!==sa(l,s.options))return!1}else if(!Vs(s.queryKey,l))return!1}if(r!=="all"){const d=s.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||a&&a!==s.state.fetchStatus||i&&!i(s))}function za(e,s){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!s.options.mutationKey)return!1;if(r){if(ts(s.options.mutationKey)!==ts(i))return!1}else if(!Vs(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function sa(e,s){return((s==null?void 0:s.queryKeyHashFn)||ts)(e)}function ts(e){return JSON.stringify(e,(s,r)=>En(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Vs(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>Vs(e[r],s[r])):!1}var Vd=Object.prototype.hasOwnProperty;function qo(e,s){if(e===s)return e;const r=Va(e)&&Va(s);if(!r&&!(En(e)&&En(s)))return s;const a=(r?e:Object.keys(e)).length,i=r?s:Object.keys(s),l=i.length,c=r?new Array(l):{};let d=0;for(let h=0;h<l;h++){const f=r?h:i[h],u=e[f],p=s[f];if(u===p){c[f]=u,(r?h<a:Vd.call(e,f))&&d++;continue}if(u===null||p===null||typeof u!="object"||typeof p!="object"){c[f]=p;continue}const v=qo(u,p);c[f]=v,v===u&&d++}return a===l&&d===a?e:c}function kr(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function Va(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function En(e){if(!Wa(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Wa(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Wa(e){return Object.prototype.toString.call(e)==="[object Object]"}function Wd(e){return new Promise(s=>{Kt.setTimeout(s,e)})}function Rn(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?qo(e,s):s}function Gd(e,s,r=0){const n=[...e,s];return r&&n.length>r?n.slice(1):n}function Qd(e,s,r=0){const n=[s,...e];return r&&n.length>r?n.slice(0,-1):n}var ra=Symbol();function Ko(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===ra?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function na(e,s){return typeof e=="function"?e(...s):!!e}function Yd(e,s,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=s()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Ht,Ct,vs,jo,Xd=(jo=class extends As{constructor(){super();$(this,Ht);$(this,Ct);$(this,vs);P(this,vs,s=>{if(!es&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Ct)||this.setEventListener(x(this,vs))}onUnsubscribe(){var s;this.hasListeners()||((s=x(this,Ct))==null||s.call(this),P(this,Ct,void 0))}setEventListener(s){var r;P(this,vs,s),(r=x(this,Ct))==null||r.call(this),P(this,Ct,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){x(this,Ht)!==s&&(P(this,Ht,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof x(this,Ht)=="boolean"?x(this,Ht):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Ht=new WeakMap,Ct=new WeakMap,vs=new WeakMap,jo),aa=new Xd;function kn(){let e,s;const r=new Promise((a,i)=>{e=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}var Zd=Bd;function Jd(){let e=[],s=0,r=c=>{c()},n=c=>{c()},a=Zd;const i=c=>{s?e.push(c):a(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;s++;try{d=c()}finally{s--,s||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var ge=Jd(),gs,St,ys,wo,eu=(wo=class extends As{constructor(){super();$(this,gs,!0);$(this,St);$(this,ys);P(this,ys,s=>{if(!es&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,St)||this.setEventListener(x(this,ys))}onUnsubscribe(){var s;this.hasListeners()||((s=x(this,St))==null||s.call(this),P(this,St,void 0))}setEventListener(s){var r;P(this,ys,s),(r=x(this,St))==null||r.call(this),P(this,St,s(this.setOnline.bind(this)))}setOnline(s){x(this,gs)!==s&&(P(this,gs,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return x(this,gs)}},gs=new WeakMap,St=new WeakMap,ys=new WeakMap,wo),_r=new eu;function tu(e){return Math.min(1e3*2**e,3e4)}function Ho(e){return(e??"online")==="online"?_r.isOnline():!0}var _n=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Bo(e){let s=!1,r=0,n;const a=kn(),i=()=>a.status!=="pending",l=m=>{var g;if(!i()){const j=new _n(m);p(j),(g=e.onCancel)==null||g.call(e,j)}},c=()=>{s=!0},d=()=>{s=!1},h=()=>aa.isFocused()&&(e.networkMode==="always"||_r.isOnline())&&e.canRun(),f=()=>Ho(e.networkMode)&&e.canRun(),u=m=>{i()||(n==null||n(),a.resolve(m))},p=m=>{i()||(n==null||n(),a.reject(m))},v=()=>new Promise(m=>{var g;n=j=>{(i()||h())&&m(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(u).catch(j=>{var D;if(i())return;const b=e.retry??(es?0:3),w=e.retryDelay??tu,N=typeof w=="function"?w(r,j):w,M=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,j);if(s||!M){p(j);return}r++,(D=e.onFail)==null||D.call(e,r,j),Wd(N).then(()=>h()?void 0:v()).then(()=>{s?p(j):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?y():v().then(y),a)}}var Bt,No,zo=(No=class{constructor(){$(this,Bt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sn(this.gcTime)&&P(this,Bt,Kt.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(es?1/0:300*1e3))}clearGcTimeout(){x(this,Bt)&&(Kt.clearTimeout(x(this,Bt)),P(this,Bt,void 0))}},Bt=new WeakMap,No),zt,bs,qe,Vt,ye,Xs,Wt,Ge,ht,Co,su=(Co=class extends zo{constructor(s){super();$(this,Ge);$(this,zt);$(this,bs);$(this,qe);$(this,Vt);$(this,ye);$(this,Xs);$(this,Wt);P(this,Wt,!1),P(this,Xs,s.defaultOptions),this.setOptions(s.options),this.observers=[],P(this,Vt,s.client),P(this,qe,x(this,Vt).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,P(this,zt,Qa(this.options)),this.state=s.state??x(this,zt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=x(this,ye))==null?void 0:s.promise}setOptions(s){if(this.options={...x(this,Xs),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Qa(this.options);r.data!==void 0&&(this.setState(Ga(r.data,r.dataUpdatedAt)),P(this,zt,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,qe).remove(this)}setData(s,r){const n=Rn(this.state.data,s,this.options);return B(this,Ge,ht).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){B(this,Ge,ht).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=x(this,ye))==null?void 0:n.promise;return(a=x(this,ye))==null||a.cancel(s),r?r.then(Se).catch(Se):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,zt))}isActive(){return this.observers.some(s=>Ke(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ra||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>It(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!$o(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=x(this,ye))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=x(this,ye))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),x(this,qe).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(x(this,ye)&&(x(this,Wt)?x(this,ye).cancel({revert:!0}):x(this,ye).cancelRetry()),this.scheduleGc()),x(this,qe).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||B(this,Ge,ht).call(this,{type:"invalidate"})}async fetch(s,r){var d,h,f,u,p,v,y,m,g,j,b,w;if(this.state.fetchStatus!=="idle"&&((d=x(this,ye))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,ye))return x(this,ye).continueRetry(),x(this,ye).promise}if(s&&this.setOptions(s),!this.options.queryFn){const N=this.observers.find(M=>M.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(P(this,Wt,!0),n.signal)})},i=()=>{const N=Ko(this.options,r),D=(()=>{const R={client:x(this,Vt),queryKey:this.queryKey,meta:this.meta};return a(R),R})();return P(this,Wt,!1),this.options.persister?this.options.persister(N,D,this):N(D)},c=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:x(this,Vt),state:this.state,fetchFn:i};return a(N),N})();(h=this.options.behavior)==null||h.onFetch(c,this),P(this,bs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&B(this,Ge,ht).call(this,{type:"fetch",meta:(u=c.fetchOptions)==null?void 0:u.meta}),P(this,ye,Bo({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof _n&&N.revert&&this.setState({...x(this,bs),fetchStatus:"idle"}),n.abort()},onFail:(N,M)=>{B(this,Ge,ht).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{B(this,Ge,ht).call(this,{type:"pause"})},onContinue:()=>{B(this,Ge,ht).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await x(this,ye).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(v=(p=x(this,qe).config).onSuccess)==null||v.call(p,N,this),(m=(y=x(this,qe).config).onSettled)==null||m.call(y,N,this.state.error,this),N}catch(N){if(N instanceof _n){if(N.silent)return x(this,ye).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw B(this,Ge,ht).call(this,{type:"error",error:N}),(j=(g=x(this,qe).config).onError)==null||j.call(g,N,this),(w=(b=x(this,qe).config).onSettled)==null||w.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},zt=new WeakMap,bs=new WeakMap,qe=new WeakMap,Vt=new WeakMap,ye=new WeakMap,Xs=new WeakMap,Wt=new WeakMap,Ge=new WeakSet,ht=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Vo(n.data,this.options),fetchMeta:s.meta??null};case"success":const a={...n,...Ga(s.data,s.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return P(this,bs,s.manual?a:void 0),a;case"error":const i=s.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),ge.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,qe).notify({query:this,type:"updated",action:s})})},Co);function Vo(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ho(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ga(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Qa(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var _e,W,Zs,Ne,Gt,js,ft,Et,Js,ws,Ns,Qt,Yt,Rt,Cs,te,Ks,Mn,Pn,Tn,In,An,Dn,On,Wo,So,ru=(So=class extends As{constructor(s,r){super();$(this,te);$(this,_e);$(this,W);$(this,Zs);$(this,Ne);$(this,Gt);$(this,js);$(this,ft);$(this,Et);$(this,Js);$(this,ws);$(this,Ns);$(this,Qt);$(this,Yt);$(this,Rt);$(this,Cs,new Set);this.options=r,P(this,_e,s),P(this,Et,null),P(this,ft,kn()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,W).addObserver(this),Ya(x(this,W),this.options)?B(this,te,Ks).call(this):this.updateResult(),B(this,te,In).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fn(x(this,W),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fn(x(this,W),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,te,An).call(this),B(this,te,Dn).call(this),x(this,W).removeObserver(this)}setOptions(s){const r=this.options,n=x(this,W);if(this.options=x(this,_e).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ke(this.options.enabled,x(this,W))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");B(this,te,On).call(this),x(this,W).setOptions(this.options),r._defaulted&&!kr(this.options,r)&&x(this,_e).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,W),observer:this});const a=this.hasListeners();a&&Xa(x(this,W),n,this.options,r)&&B(this,te,Ks).call(this),this.updateResult(),a&&(x(this,W)!==n||Ke(this.options.enabled,x(this,W))!==Ke(r.enabled,x(this,W))||It(this.options.staleTime,x(this,W))!==It(r.staleTime,x(this,W)))&&B(this,te,Mn).call(this);const i=B(this,te,Pn).call(this);a&&(x(this,W)!==n||Ke(this.options.enabled,x(this,W))!==Ke(r.enabled,x(this,W))||i!==x(this,Rt))&&B(this,te,Tn).call(this,i)}getOptimisticResult(s){const r=x(this,_e).getQueryCache().build(x(this,_e),s),n=this.createResult(r,s);return au(this,n)&&(P(this,Ne,n),P(this,js,this.options),P(this,Gt,x(this,W).state)),n}getCurrentResult(){return x(this,Ne)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&x(this,ft).status==="pending"&&x(this,ft).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(s){x(this,Cs).add(s)}getCurrentQuery(){return x(this,W)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=x(this,_e).defaultQueryOptions(s),n=x(this,_e).getQueryCache().build(x(this,_e),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return B(this,te,Ks).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,Ne)))}createResult(s,r){var E;const n=x(this,W),a=this.options,i=x(this,Ne),l=x(this,Gt),c=x(this,js),h=s!==n?s.state:x(this,Zs),{state:f}=s;let u={...f},p=!1,v;if(r._optimisticResults){const T=this.hasListeners(),L=!T&&Ya(s,r),z=T&&Xa(s,n,r,a);(L||z)&&(u={...u,...Vo(f.data,s.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:g}=u;v=u.data;let j=!1;if(r.placeholderData!==void 0&&v===void 0&&g==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(T=i.data,j=!0):T=typeof r.placeholderData=="function"?r.placeholderData((E=x(this,Ns))==null?void 0:E.state.data,x(this,Ns)):r.placeholderData,T!==void 0&&(g="success",v=Rn(i==null?void 0:i.data,T,r),p=!0)}if(r.select&&v!==void 0&&!j)if(i&&v===(l==null?void 0:l.data)&&r.select===x(this,Js))v=x(this,ws);else try{P(this,Js,r.select),v=r.select(v),v=Rn(i==null?void 0:i.data,v,r),P(this,ws,v),P(this,Et,null)}catch(T){P(this,Et,T)}x(this,Et)&&(y=x(this,Et),v=x(this,ws),m=Date.now(),g="error");const b=u.fetchStatus==="fetching",w=g==="pending",N=g==="error",M=w&&b,D=v!==void 0,S={status:g,fetchStatus:u.fetchStatus,isPending:w,isSuccess:g==="success",isError:N,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>h.dataUpdateCount||u.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:N&&!D,isPaused:u.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&D,isStale:oa(s,r),refetch:this.refetch,promise:x(this,ft),isEnabled:Ke(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const T=k=>{S.status==="error"?k.reject(S.error):S.data!==void 0&&k.resolve(S.data)},L=()=>{const k=P(this,ft,S.promise=kn());T(k)},z=x(this,ft);switch(z.status){case"pending":s.queryHash===n.queryHash&&T(z);break;case"fulfilled":(S.status==="error"||S.data!==z.value)&&L();break;case"rejected":(S.status!=="error"||S.error!==z.reason)&&L();break}}return S}updateResult(){const s=x(this,Ne),r=this.createResult(x(this,W),this.options);if(P(this,Gt,x(this,W).state),P(this,js,this.options),x(this,Gt).data!==void 0&&P(this,Ns,x(this,W)),kr(r,s))return;P(this,Ne,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!x(this,Cs).size)return!0;const l=new Set(i??x(this,Cs));return this.options.throwOnError&&l.add("error"),Object.keys(x(this,Ne)).some(c=>{const d=c;return x(this,Ne)[d]!==s[d]&&l.has(d)})};B(this,te,Wo).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,te,In).call(this)}},_e=new WeakMap,W=new WeakMap,Zs=new WeakMap,Ne=new WeakMap,Gt=new WeakMap,js=new WeakMap,ft=new WeakMap,Et=new WeakMap,Js=new WeakMap,ws=new WeakMap,Ns=new WeakMap,Qt=new WeakMap,Yt=new WeakMap,Rt=new WeakMap,Cs=new WeakMap,te=new WeakSet,Ks=function(s){B(this,te,On).call(this);let r=x(this,W).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Se)),r},Mn=function(){B(this,te,An).call(this);const s=It(this.options.staleTime,x(this,W));if(es||x(this,Ne).isStale||!Sn(s))return;const n=$o(x(this,Ne).dataUpdatedAt,s)+1;P(this,Qt,Kt.setTimeout(()=>{x(this,Ne).isStale||this.updateResult()},n))},Pn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,W)):this.options.refetchInterval)??!1},Tn=function(s){B(this,te,Dn).call(this),P(this,Rt,s),!(es||Ke(this.options.enabled,x(this,W))===!1||!Sn(x(this,Rt))||x(this,Rt)===0)&&P(this,Yt,Kt.setInterval(()=>{(this.options.refetchIntervalInBackground||aa.isFocused())&&B(this,te,Ks).call(this)},x(this,Rt)))},In=function(){B(this,te,Mn).call(this),B(this,te,Tn).call(this,B(this,te,Pn).call(this))},An=function(){x(this,Qt)&&(Kt.clearTimeout(x(this,Qt)),P(this,Qt,void 0))},Dn=function(){x(this,Yt)&&(Kt.clearInterval(x(this,Yt)),P(this,Yt,void 0))},On=function(){const s=x(this,_e).getQueryCache().build(x(this,_e),this.options);if(s===x(this,W))return;const r=x(this,W);P(this,W,s),P(this,Zs,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Wo=function(s){ge.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(x(this,Ne))}),x(this,_e).getQueryCache().notify({query:x(this,W),type:"observerResultsUpdated"})})},So);function nu(e,s){return Ke(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function Ya(e,s){return nu(e,s)||e.state.data!==void 0&&Fn(e,s,s.refetchOnMount)}function Fn(e,s,r){if(Ke(s.enabled,e)!==!1&&It(s.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&oa(e,s)}return!1}function Xa(e,s,r,n){return(e!==s||Ke(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&oa(e,r)}function oa(e,s){return Ke(s.enabled,e)!==!1&&e.isStaleByTime(It(s.staleTime,e))}function au(e,s){return!kr(e.getCurrentResult(),s)}function Za(e){return{onFetch:(s,r)=>{var f,u,p,v,y;const n=s.options,a=(p=(u=(f=s.fetchOptions)==null?void 0:f.meta)==null?void 0:u.fetchMore)==null?void 0:p.direction,i=((v=s.state.data)==null?void 0:v.pages)||[],l=((y=s.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=w=>{Yd(w,()=>s.signal,()=>m=!0)},j=Ko(s.options,s.fetchOptions),b=async(w,N,M)=>{if(m)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const R=(()=>{const L={client:s.client,queryKey:s.queryKey,pageParam:N,direction:M?"backward":"forward",meta:s.options.meta};return g(L),L})(),S=await j(R),{maxPages:E}=s.options,T=M?Qd:Gd;return{pages:T(w.pages,S,E),pageParams:T(w.pageParams,N,E)}};if(a&&i.length){const w=a==="backward",N=w?ou:Ja,M={pages:i,pageParams:l},D=N(n,M);c=await b(M,D,w)}else{const w=e??i.length;do{const N=d===0?l[0]??n.initialPageParam:Ja(n,c);if(d>0&&N==null)break;c=await b(c,N),d++}while(d<w)}return c};s.options.persister?s.fetchFn=()=>{var m,g;return(g=(m=s.options).persister)==null?void 0:g.call(m,h,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=h}}}function Ja(e,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?e.getNextPageParam(s[n],s,r[n],r):void 0}function ou(e,{pages:s,pageParams:r}){var n;return s.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,s[0],s,r[0],r):void 0}var er,Ze,Ce,Xt,Je,jt,Eo,iu=(Eo=class extends zo{constructor(s){super();$(this,Je);$(this,er);$(this,Ze);$(this,Ce);$(this,Xt);P(this,er,s.client),this.mutationId=s.mutationId,P(this,Ce,s.mutationCache),P(this,Ze,[]),this.state=s.state||Go(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){x(this,Ze).includes(s)||(x(this,Ze).push(s),this.clearGcTimeout(),x(this,Ce).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){P(this,Ze,x(this,Ze).filter(r=>r!==s)),this.scheduleGc(),x(this,Ce).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){x(this,Ze).length||(this.state.status==="pending"?this.scheduleGc():x(this,Ce).remove(this))}continue(){var s;return((s=x(this,Xt))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,c,d,h,f,u,p,v,y,m,g,j,b,w,N,M,D,R,S,E;const r=()=>{B(this,Je,jt).call(this,{type:"continue"})},n={client:x(this,er),meta:this.options.meta,mutationKey:this.options.mutationKey};P(this,Xt,Bo({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,L)=>{B(this,Je,jt).call(this,{type:"failed",failureCount:T,error:L})},onPause:()=>{B(this,Je,jt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Ce).canRun(this)}));const a=this.state.status==="pending",i=!x(this,Xt).canStart();try{if(a)r();else{B(this,Je,jt).call(this,{type:"pending",variables:s,isPaused:i}),await((c=(l=x(this,Ce).config).onMutate)==null?void 0:c.call(l,s,this,n));const L=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,s,n));L!==this.state.context&&B(this,Je,jt).call(this,{type:"pending",context:L,variables:s,isPaused:i})}const T=await x(this,Xt).start();return await((u=(f=x(this,Ce).config).onSuccess)==null?void 0:u.call(f,T,s,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,T,s,this.state.context,n)),await((m=(y=x(this,Ce).config).onSettled)==null?void 0:m.call(y,T,null,this.state.variables,this.state.context,this,n)),await((j=(g=this.options).onSettled)==null?void 0:j.call(g,T,null,s,this.state.context,n)),B(this,Je,jt).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(b=x(this,Ce).config).onError)==null?void 0:w.call(b,T,s,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((M=(N=this.options).onError)==null?void 0:M.call(N,T,s,this.state.context,n))}catch(L){Promise.reject(L)}try{await((R=(D=x(this,Ce).config).onSettled)==null?void 0:R.call(D,void 0,T,this.state.variables,this.state.context,this,n))}catch(L){Promise.reject(L)}try{await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,T,s,this.state.context,n))}catch(L){Promise.reject(L)}throw B(this,Je,jt).call(this,{type:"error",error:T}),T}finally{x(this,Ce).runNext(this)}}},er=new WeakMap,Ze=new WeakMap,Ce=new WeakMap,Xt=new WeakMap,Je=new WeakSet,jt=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ge.batch(()=>{x(this,Ze).forEach(n=>{n.onMutationUpdate(s)}),x(this,Ce).notify({mutation:this,type:"updated",action:s})})},Eo);function Go(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var mt,Qe,tr,Ro,cu=(Ro=class extends As{constructor(s={}){super();$(this,mt);$(this,Qe);$(this,tr);this.config=s,P(this,mt,new Set),P(this,Qe,new Map),P(this,tr,0)}build(s,r,n){const a=new iu({client:s,mutationCache:this,mutationId:++xr(this,tr)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){x(this,mt).add(s);const r=gr(s);if(typeof r=="string"){const n=x(this,Qe).get(r);n?n.push(s):x(this,Qe).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(x(this,mt).delete(s)){const r=gr(s);if(typeof r=="string"){const n=x(this,Qe).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&x(this,Qe).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=gr(s);if(typeof r=="string"){const n=x(this,Qe).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=gr(s);if(typeof r=="string"){const a=(n=x(this,Qe).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{x(this,mt).forEach(s=>{this.notify({type:"removed",mutation:s})}),x(this,mt).clear(),x(this,Qe).clear()})}getAll(){return Array.from(x(this,mt))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>za(r,n))}findAll(s={}){return this.getAll().filter(r=>za(s,r))}notify(s){ge.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return ge.batch(()=>Promise.all(s.map(r=>r.continue().catch(Se))))}},mt=new WeakMap,Qe=new WeakMap,tr=new WeakMap,Ro);function gr(e){var s;return(s=e.options.scope)==null?void 0:s.id}var pt,kt,Me,xt,vt,Nr,Ln,ko,lu=(ko=class extends As{constructor(r,n){super();$(this,vt);$(this,pt);$(this,kt);$(this,Me);$(this,xt);P(this,pt,r),this.setOptions(n),this.bindMethods(),B(this,vt,Nr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=x(this,pt).defaultMutationOptions(r),kr(this.options,n)||x(this,pt).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,Me),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&ts(n.mutationKey)!==ts(this.options.mutationKey)?this.reset():((a=x(this,Me))==null?void 0:a.state.status)==="pending"&&x(this,Me).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=x(this,Me))==null||r.removeObserver(this)}onMutationUpdate(r){B(this,vt,Nr).call(this),B(this,vt,Ln).call(this,r)}getCurrentResult(){return x(this,kt)}reset(){var r;(r=x(this,Me))==null||r.removeObserver(this),P(this,Me,void 0),B(this,vt,Nr).call(this),B(this,vt,Ln).call(this)}mutate(r,n){var a;return P(this,xt,n),(a=x(this,Me))==null||a.removeObserver(this),P(this,Me,x(this,pt).getMutationCache().build(x(this,pt),this.options)),x(this,Me).addObserver(this),x(this,Me).execute(r)}},pt=new WeakMap,kt=new WeakMap,Me=new WeakMap,xt=new WeakMap,vt=new WeakSet,Nr=function(){var n;const r=((n=x(this,Me))==null?void 0:n.state)??Go();P(this,kt,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Ln=function(r){ge.batch(()=>{var n,a,i,l,c,d,h,f;if(x(this,xt)&&this.hasListeners()){const u=x(this,kt).variables,p=x(this,kt).context,v={client:x(this,pt),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=x(this,xt)).onSuccess)==null||a.call(n,r.data,u,p,v)}catch(y){Promise.reject(y)}try{(l=(i=x(this,xt)).onSettled)==null||l.call(i,r.data,null,u,p,v)}catch(y){Promise.reject(y)}}else if((r==null?void 0:r.type)==="error"){try{(d=(c=x(this,xt)).onError)==null||d.call(c,r.error,u,p,v)}catch(y){Promise.reject(y)}try{(f=(h=x(this,xt)).onSettled)==null||f.call(h,void 0,r.error,u,p,v)}catch(y){Promise.reject(y)}}}this.listeners.forEach(u=>{u(x(this,kt))})})},ko),et,_o,du=(_o=class extends As{constructor(s={}){super();$(this,et);this.config=s,P(this,et,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??sa(a,r);let l=this.get(i);return l||(l=new su({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){x(this,et).has(s.queryHash)||(x(this,et).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=x(this,et).get(s.queryHash);r&&(s.destroy(),r===s&&x(this,et).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ge.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return x(this,et).get(s)}getAll(){return[...x(this,et).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Ba(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>Ba(s,n)):r}notify(s){ge.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},et=new WeakMap,_o),fe,_t,Mt,Ss,Es,Pt,Rs,ks,Mo,uu=(Mo=class{constructor(e={}){$(this,fe);$(this,_t);$(this,Mt);$(this,Ss);$(this,Es);$(this,Pt);$(this,Rs);$(this,ks);P(this,fe,e.queryCache||new du),P(this,_t,e.mutationCache||new cu),P(this,Mt,e.defaultOptions||{}),P(this,Ss,new Map),P(this,Es,new Map),P(this,Pt,0)}mount(){xr(this,Pt)._++,x(this,Pt)===1&&(P(this,Rs,aa.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,fe).onFocus())})),P(this,ks,_r.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,fe).onOnline())})))}unmount(){var e,s;xr(this,Pt)._--,x(this,Pt)===0&&((e=x(this,Rs))==null||e.call(this),P(this,Rs,void 0),(s=x(this,ks))==null||s.call(this),P(this,ks,void 0))}isFetching(e){return x(this,fe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,_t).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=x(this,fe).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=x(this,fe).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(It(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(e){return x(this,fe).findAll(e).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(e,s,r){const n=this.defaultQueryOptions({queryKey:e}),a=x(this,fe).get(n.queryHash),i=a==null?void 0:a.state.data,l=zd(s,i);if(l!==void 0)return x(this,fe).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,s,r){return ge.batch(()=>x(this,fe).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=x(this,fe).get(s.queryHash))==null?void 0:r.state}removeQueries(e){const s=x(this,fe);ge.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=x(this,fe);return ge.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},n=ge.batch(()=>x(this,fe).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Se).catch(Se)}invalidateQueries(e,s={}){return ge.batch(()=>(x(this,fe).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=ge.batch(()=>x(this,fe).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Se)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Se)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=x(this,fe).build(this,s);return r.isStaleByTime(It(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Se).catch(Se)}fetchInfiniteQuery(e){return e.behavior=Za(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Se).catch(Se)}ensureInfiniteQueryData(e){return e.behavior=Za(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return _r.isOnline()?x(this,_t).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,fe)}getMutationCache(){return x(this,_t)}getDefaultOptions(){return x(this,Mt)}setDefaultOptions(e){P(this,Mt,e)}setQueryDefaults(e,s){x(this,Ss).set(ts(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...x(this,Ss).values()],r={};return s.forEach(n=>{Vs(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,s){x(this,Es).set(ts(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...x(this,Es).values()],r={};return s.forEach(n=>{Vs(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...x(this,Mt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=sa(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===ra&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,Mt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,fe).clear(),x(this,_t).clear()}},fe=new WeakMap,_t=new WeakMap,Mt=new WeakMap,Ss=new WeakMap,Es=new WeakMap,Pt=new WeakMap,Rs=new WeakMap,ks=new WeakMap,Mo),Qo=o.createContext(void 0),Lt=e=>{const s=o.useContext(Qo);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},hu=({client:e,children:s})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Qo.Provider,{value:e,children:s})),Yo=o.createContext(!1),fu=()=>o.useContext(Yo);Yo.Provider;function mu(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var pu=o.createContext(mu()),xu=()=>o.useContext(pu),vu=(e,s,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?na(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(s.isReset()||(e.retryOnMount=!1))},gu=e=>{o.useEffect(()=>{e.clearReset()},[e])},yu=({result:e,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||na(r,[e.error,n])),bu=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ju=(e,s)=>e.isLoading&&e.isFetching&&!s,wu=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,eo=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function Nu(e,s,r){var p,v,y,m;const n=fu(),a=xu(),i=Lt(),l=i.defaultQueryOptions(e);(v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",bu(l),vu(l,a,c),gu(a);const d=!i.getQueryCache().get(l.queryHash),[h]=o.useState(()=>new s(i,l)),f=h.getOptimisticResult(l),u=!n&&e.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(g=>{const j=u?h.subscribe(ge.batchCalls(g)):Se;return h.updateResult(),j},[h,u]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),o.useEffect(()=>{h.setOptions(l)},[l,h]),wu(l,f))throw eo(l,h,a);if(yu({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw f.error;if((m=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||m.call(y,l,f),l.experimental_prefetchInRender&&!es&&ju(f,n)){const g=d?eo(l,h,a):c==null?void 0:c.promise;g==null||g.catch(Se).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?f:h.trackResult(f)}function Be(e,s){return Nu(e,ru)}function at(e,s){const r=Lt(),[n]=o.useState(()=>new lu(r,e));o.useEffect(()=>{n.setOptions(e)},[n,e]);const a=o.useSyncExternalStore(o.useCallback(l=>n.subscribe(ge.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=o.useCallback((l,c)=>{n.mutate(l,c).catch(Se)},[n]);if(a.error&&na(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Xo=o.createContext(null);function Cu({children:e}){const[s,r]=o.useState(null),[n,a]=o.useState(!0),i=o.useCallback(async()=>{if(!Po()){r(null),a(!1);return}try{const d=await ln.me();r(d)}catch{_d(),r(null)}finally{a(!1)}},[]),l=o.useCallback(async(d,h)=>{await ln.login(d,h),await i()},[i]),c=o.useCallback(async()=>{await ln.logout(),r(null),window.location.href="/dashboard/login.html"},[]);return o.useEffect(()=>{i()},[i]),t.jsx(Xo.Provider,{value:{user:s,isLoading:n,isLoggedIn:!!s,login:l,logout:c,checkAuth:i},children:e})}function ia(){const e=o.useContext(Xo);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var Su=Md[" useId ".trim().toString()]||(()=>{}),Eu=0;function ot(e){const[s,r]=o.useState(Su());return it(()=>{r(n=>n??String(Eu++))},[e]),s?`radix-${s}`:""}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=q("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=q("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=q("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=q("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=q("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=q("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=q("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=q("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=q("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=q("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=q("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=q("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=q("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=q("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=q("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=q("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=q("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=q("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=q("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=q("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=q("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=q("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=q("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=q("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=q("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=q("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=q("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hu=q("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=q("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=q("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=q("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=q("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=q("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=q("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=q("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=q("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=q("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=q("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=q("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qu=q("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=q("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=q("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=q("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=q("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=q("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=q("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eh=q("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=q("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=q("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=q("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function sh(e={}){const{onMessage:s,onConnect:r,onDisconnect:n,reconnectInterval:a=3e3}=e,i=Lt(),l=o.useRef(null),c=o.useRef(null),[d,h]=o.useState(!1),[f,u]=o.useState(null),p=o.useCallback(()=>{const y=Pd();if(!y){console.warn("No JWT token available for WebSocket connection"),c.current=setTimeout(p,a);return}const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/dashboard?token=${encodeURIComponent(y)}`;try{const j=new WebSocket(g);l.current=j,j.onopen=()=>{h(!0),r==null||r()},j.onmessage=b=>{try{const w=JSON.parse(b.data);switch(u(w),s==null||s(w),w.type){case"NodeRegistered":case"NodeRemoved":case"NodeStatusChanged":i.invalidateQueries({queryKey:["dashboard-overview"]}),i.invalidateQueries({queryKey:["request-responses"]});break;case"MetricsUpdated":i.invalidateQueries({queryKey:["dashboard-overview"]});break}}catch(w){console.error("Failed to parse WebSocket message:",w)}},j.onclose=()=>{h(!1),n==null||n(),l.current=null,c.current&&clearTimeout(c.current),c.current=setTimeout(p,a)},j.onerror=b=>{console.error("WebSocket error:",b),j.close()}}catch(j){console.error("Failed to create WebSocket:",j),c.current=setTimeout(p,a)}},[s,r,n,a,i]),v=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),l.current&&(l.current.close(),l.current=null),h(!1)},[]);return o.useEffect(()=>(p(),()=>{v()}),[p,v]),{isConnected:d,lastEvent:f,reconnect:p,disconnect:v}}function rh(){const{isConnected:e,lastEvent:s,reconnect:r}=sh({onConnect:()=>{console.log("Dashboard WebSocket connected")},onDisconnect:()=>{console.log("Dashboard WebSocket disconnected")}});return{isConnected:e,lastEvent:s,reconnect:r}}const fn="llmlb-theme";function nh(){const[e,s]=o.useState(()=>{if(typeof window>"u")return"dark";const n=localStorage.getItem(fn);return n==="light"||n==="dark"?n:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});o.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem(fn,e)},[e]),o.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),a=i=>{localStorage.getItem(fn)||s(i.matches?"dark":"light")};return n.addEventListener("change",a),()=>n.removeEventListener("change",a)},[]);const r=o.useCallback(()=>{s(n=>n==="dark"?"light":"dark")},[]);return{theme:e,setTheme:s,toggleTheme:r}}var ah=o.createContext(void 0);function rr(e){const s=o.useContext(ah);return e||s||"ltr"}var mn=0;function da(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ro()),document.body.insertAdjacentElement("beforeend",e[1]??ro()),mn++,()=>{mn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),mn--}},[])}function ro(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var pn="focusScope.autoFocusOnMount",xn="focusScope.autoFocusOnUnmount",no={bubbles:!1,cancelable:!0},oh="FocusScope",$r=o.forwardRef((e,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[c,d]=o.useState(null),h=Oe(a),f=Oe(i),u=o.useRef(null),p=Z(s,m=>d(m)),v=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let m=function(w){if(v.paused||!c)return;const N=w.target;c.contains(N)?u.current=N:wt(u.current,{select:!0})},g=function(w){if(v.paused||!c)return;const N=w.relatedTarget;N!==null&&(c.contains(N)||wt(u.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&wt(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,c,v.paused]),o.useEffect(()=>{if(c){oo.add(v);const m=document.activeElement;if(!c.contains(m)){const j=new CustomEvent(pn,no);c.addEventListener(pn,h),c.dispatchEvent(j),j.defaultPrevented||(ih(hh(ri(c)),{select:!0}),document.activeElement===m&&wt(c))}return()=>{c.removeEventListener(pn,h),setTimeout(()=>{const j=new CustomEvent(xn,no);c.addEventListener(xn,f),c.dispatchEvent(j),j.defaultPrevented||wt(m??document.body,{select:!0}),c.removeEventListener(xn,f),oo.remove(v)},0)}}},[c,h,f,v]);const y=o.useCallback(m=>{if(!r&&!n||v.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,j=document.activeElement;if(g&&j){const b=m.currentTarget,[w,N]=ch(b);w&&N?!m.shiftKey&&j===N?(m.preventDefault(),r&&wt(w,{select:!0})):m.shiftKey&&j===w&&(m.preventDefault(),r&&wt(N,{select:!0})):j===b&&m.preventDefault()}},[r,n,v.paused]);return t.jsx(H.div,{tabIndex:-1,...l,ref:p,onKeyDown:y})});$r.displayName=oh;function ih(e,{select:s=!1}={}){const r=document.activeElement;for(const n of e)if(wt(n,{select:s}),document.activeElement!==r)return}function ch(e){const s=ri(e),r=ao(s,e),n=ao(s.reverse(),e);return[r,n]}function ri(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function ao(e,s){for(const r of e)if(!lh(r,{upTo:s}))return r}function lh(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dh(e){return e instanceof HTMLInputElement&&"select"in e}function wt(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&dh(e)&&s&&e.select()}}var oo=uh();function uh(){let e=[];return{add(s){const r=e[0];s!==r&&(r==null||r.pause()),e=io(e,s),e.unshift(s)},remove(s){var r;e=io(e,s),(r=e[0])==null||r.resume()}}}function io(e,s){const r=[...e],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function hh(e){return e.filter(s=>s.tagName!=="A")}var vn="rovingFocusGroup.onEntryFocus",fh={bubbles:!1,cancelable:!0},nr="RovingFocusGroup",[$n,ni,mh]=Yn(nr),[ph,qr]=dt(nr,[mh]),[xh,vh]=ph(nr),ai=o.forwardRef((e,s)=>t.jsx($n.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx($n.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(gh,{...e,ref:s})})}));ai.displayName=nr;var gh=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...u}=e,p=o.useRef(null),v=Z(s,p),y=rr(i),[m,g]=Dt({prop:l,defaultProp:c??null,onChange:d,caller:nr}),[j,b]=o.useState(!1),w=Oe(h),N=ni(r),M=o.useRef(!1),[D,R]=o.useState(0);return o.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(vn,w),()=>S.removeEventListener(vn,w)},[w]),t.jsx(xh,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:o.useCallback(S=>g(S),[g]),onItemShiftTab:o.useCallback(()=>b(!0),[]),onFocusableItemAdd:o.useCallback(()=>R(S=>S+1),[]),onFocusableItemRemove:o.useCallback(()=>R(S=>S-1),[]),children:t.jsx(H.div,{tabIndex:j||D===0?-1:0,"data-orientation":n,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{M.current=!0}),onFocus:I(e.onFocus,S=>{const E=!M.current;if(S.target===S.currentTarget&&E&&!j){const T=new CustomEvent(vn,fh);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const L=N().filter(Y=>Y.focusable),z=L.find(Y=>Y.active),k=L.find(Y=>Y.id===m),se=[z,k,...L].filter(Boolean).map(Y=>Y.ref.current);ci(se,f)}}M.current=!1}),onBlur:I(e.onBlur,()=>b(!1))})})}),oi="RovingFocusGroupItem",ii=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:l,...c}=e,d=ot(),h=i||d,f=vh(oi,r),u=f.currentTabStopId===h,p=ni(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:m}=f;return o.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),t.jsx($n.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:t.jsx(H.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...c,ref:s,onMouseDown:I(e.onMouseDown,g=>{n?f.onItemFocus(h):g.preventDefault()}),onFocus:I(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:I(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const j=jh(g,f.orientation,f.dir);if(j!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")w.reverse();else if(j==="prev"||j==="next"){j==="prev"&&w.reverse();const N=w.indexOf(g.currentTarget);w=f.loop?wh(w,N+1):w.slice(N+1)}setTimeout(()=>ci(w))}}),children:typeof l=="function"?l({isCurrentTabStop:u,hasTabStop:m!=null}):l})})});ii.displayName=oi;var yh={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bh(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function jh(e,s,r){const n=bh(e.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return yh[n]}function ci(e,s=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function wh(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var li=ai,di=ii,Nh=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},ds=new WeakMap,yr=new WeakMap,br={},gn=0,ui=function(e){return e&&(e.host||ui(e.parentNode))},Ch=function(e,s){return s.map(function(r){if(e.contains(r))return r;var n=ui(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Sh=function(e,s,r,n){var a=Ch(s,Array.isArray(e)?e:[e]);br[r]||(br[r]=new WeakMap);var i=br[r],l=[],c=new Set,d=new Set(a),h=function(u){!u||c.has(u)||(c.add(u),h(u.parentNode))};a.forEach(h);var f=function(u){!u||d.has(u)||Array.prototype.forEach.call(u.children,function(p){if(c.has(p))f(p);else try{var v=p.getAttribute(n),y=v!==null&&v!=="false",m=(ds.get(p)||0)+1,g=(i.get(p)||0)+1;ds.set(p,m),i.set(p,g),l.push(p),m===1&&y&&yr.set(p,!0),g===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return f(s),c.clear(),gn++,function(){l.forEach(function(u){var p=ds.get(u)-1,v=i.get(u)-1;ds.set(u,p),i.set(u,v),p||(yr.has(u)||u.removeAttribute(n),yr.delete(u)),v||u.removeAttribute(r)}),gn--,gn||(ds=new WeakMap,ds=new WeakMap,yr=new WeakMap,br={})}},ua=function(e,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Nh(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Sh(n,a,r,"aria-hidden")):function(){return null}},tt=function(){return tt=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},tt.apply(this,arguments)};function hi(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function Eh(e,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return e.concat(i||Array.prototype.slice.call(s))}var Cr="right-scroll-bar-position",Sr="width-before-scroll-bar",Rh="with-scroll-bars-hidden",kh="--removed-body-scroll-bar-size";function yn(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function _h(e,s){var r=o.useState(function(){return{value:e,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var Mh=typeof window<"u"?o.useLayoutEffect:o.useEffect,co=new WeakMap;function Ph(e,s){var r=_h(null,function(n){return e.forEach(function(a){return yn(a,n)})});return Mh(function(){var n=co.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(c){i.has(c)||yn(c,null)}),i.forEach(function(c){a.has(c)||yn(c,l)})}co.set(r,e)},[e]),r}function Th(e){return e}function Ih(e,s){s===void 0&&(s=Th);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=s(i,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(i),l=r}var d=function(){var f=l;l=[],f.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),r}}}};return a}function Ah(e){e===void 0&&(e={});var s=Ih(null);return s.options=tt({async:!0,ssr:!1},e),s}var fi=function(e){var s=e.sideCar,r=hi(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return o.createElement(n,tt({},r))};fi.isSideCarExport=!0;function Dh(e,s){return e.useMedium(s),fi}var mi=Ah(),bn=function(){},Kr=o.forwardRef(function(e,s){var r=o.useRef(null),n=o.useState({onScrollCapture:bn,onWheelCapture:bn,onTouchMoveCapture:bn}),a=n[0],i=n[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,u=e.shards,p=e.sideCar,v=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,j=e.as,b=j===void 0?"div":j,w=e.gapMode,N=hi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,D=Ph([r,s]),R=tt(tt({},N),a);return o.createElement(o.Fragment,null,f&&o.createElement(M,{sideCar:mi,removeScrollBar:h,shards:u,noRelative:v,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:w}),l?o.cloneElement(o.Children.only(c),tt(tt({},R),{ref:D})):o.createElement(b,tt({},R,{className:d,ref:D}),c))});Kr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kr.classNames={fullWidth:Sr,zeroRight:Cr};var Oh=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fh(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=Oh();return s&&e.setAttribute("nonce",s),e}function Lh(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function Uh(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var $h=function(){var e=0,s=null;return{add:function(r){e==0&&(s=Fh())&&(Lh(s,r),Uh(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},qh=function(){var e=$h();return function(s,r){o.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&r])}},pi=function(){var e=qh(),s=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return s},Kh={left:0,top:0,right:0,gap:0},jn=function(e){return parseInt(e||"",10)||0},Hh=function(e){var s=window.getComputedStyle(document.body),r=s[e==="padding"?"paddingLeft":"marginLeft"],n=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[jn(r),jn(n),jn(a)]},Bh=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Kh;var s=Hh(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},zh=pi(),ps="data-scroll-locked",Vh=function(e,s,r,n){var a=e.left,i=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Rh,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(ps,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cr,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Sr,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Cr," .").concat(Cr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Sr," .").concat(Sr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ps,`] {
    `).concat(kh,": ").concat(c,`px;
  }
`)},lo=function(){var e=parseInt(document.body.getAttribute(ps)||"0",10);return isFinite(e)?e:0},Wh=function(){o.useEffect(function(){return document.body.setAttribute(ps,(lo()+1).toString()),function(){var e=lo()-1;e<=0?document.body.removeAttribute(ps):document.body.setAttribute(ps,e.toString())}},[])},Gh=function(e){var s=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Wh();var i=o.useMemo(function(){return Bh(a)},[a]);return o.createElement(zh,{styles:Vh(i,!s,a,r?"":"!important")})},qn=!1;if(typeof window<"u")try{var jr=Object.defineProperty({},"passive",{get:function(){return qn=!0,!0}});window.addEventListener("test",jr,jr),window.removeEventListener("test",jr,jr)}catch{qn=!1}var us=qn?{passive:!1}:!1,Qh=function(e){return e.tagName==="TEXTAREA"},xi=function(e,s){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!Qh(e)&&r[s]==="visible")},Yh=function(e){return xi(e,"overflowY")},Xh=function(e){return xi(e,"overflowX")},uo=function(e,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=vi(e,n);if(a){var i=gi(e,n),l=i[1],c=i[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Zh=function(e){var s=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[s,r,n]},Jh=function(e){var s=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[s,r,n]},vi=function(e,s){return e==="v"?Yh(s):Xh(s)},gi=function(e,s){return e==="v"?Zh(s):Jh(s)},ef=function(e,s){return e==="h"&&s==="rtl"?-1:1},tf=function(e,s,r,n,a){var i=ef(e,window.getComputedStyle(s).direction),l=i*n,c=r.target,d=s.contains(c),h=!1,f=l>0,u=0,p=0;do{if(!c)break;var v=gi(e,c),y=v[0],m=v[1],g=v[2],j=m-g-i*y;(y||j)&&vi(e,c)&&(u+=j,p+=y);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&c!==document.body||d&&(s.contains(c)||s===c));return(f&&Math.abs(u)<1||!f&&Math.abs(p)<1)&&(h=!0),h},wr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ho=function(e){return[e.deltaX,e.deltaY]},fo=function(e){return e&&"current"in e?e.current:e},sf=function(e,s){return e[0]===s[0]&&e[1]===s[1]},rf=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},nf=0,hs=[];function af(e){var s=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),a=o.useState(nf++)[0],i=o.useState(pi)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=Eh([e.lockRef.current],(e.shards||[]).map(fo),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!l.current.allowPinchZoom;var j=wr(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-j[0],N="deltaY"in m?m.deltaY:b[1]-j[1],M,D=m.target,R=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in m&&R==="h"&&D.type==="range")return!1;var S=window.getSelection(),E=S&&S.anchorNode,T=E?E===D||E.contains(D):!1;if(T)return!1;var L=uo(R,D);if(!L)return!0;if(L?M=R:(M=R==="v"?"h":"v",L=uo(R,D)),!L)return!1;if(!n.current&&"changedTouches"in m&&(w||N)&&(n.current=M),!M)return!0;var z=n.current||M;return tf(z,g,m,z==="h"?w:N)},[]),d=o.useCallback(function(m){var g=m;if(!(!hs.length||hs[hs.length-1]!==i)){var j="deltaY"in g?ho(g):wr(g),b=s.current.filter(function(M){return M.name===g.type&&(M.target===g.target||g.target===M.shadowParent)&&sf(M.delta,j)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(l.current.shards||[]).map(fo).filter(Boolean).filter(function(M){return M.contains(g.target)}),N=w.length>0?c(g,w[0]):!l.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),h=o.useCallback(function(m,g,j,b){var w={name:m,delta:g,target:j,should:b,shadowParent:of(j)};s.current.push(w),setTimeout(function(){s.current=s.current.filter(function(N){return N!==w})},1)},[]),f=o.useCallback(function(m){r.current=wr(m),n.current=void 0},[]),u=o.useCallback(function(m){h(m.type,ho(m),m.target,c(m,e.lockRef.current))},[]),p=o.useCallback(function(m){h(m.type,wr(m),m.target,c(m,e.lockRef.current))},[]);o.useEffect(function(){return hs.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",d,us),document.addEventListener("touchmove",d,us),document.addEventListener("touchstart",f,us),function(){hs=hs.filter(function(m){return m!==i}),document.removeEventListener("wheel",d,us),document.removeEventListener("touchmove",d,us),document.removeEventListener("touchstart",f,us)}},[]);var v=e.removeScrollBar,y=e.inert;return o.createElement(o.Fragment,null,y?o.createElement(i,{styles:rf(a)}):null,v?o.createElement(Gh,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function of(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const cf=Dh(mi,af);var Hr=o.forwardRef(function(e,s){return o.createElement(Kr,tt({},e,{ref:s,sideCar:cf}))});Hr.classNames=Kr.classNames;var Kn=["Enter"," "],lf=["ArrowDown","PageUp","Home"],yi=["ArrowUp","PageDown","End"],df=[...lf,...yi],uf={ltr:[...Kn,"ArrowRight"],rtl:[...Kn,"ArrowLeft"]},hf={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ar="Menu",[Qs,ff,mf]=Yn(ar),[is,bi]=dt(ar,[mf,Lr,qr]),Br=Lr(),ji=qr(),[pf,cs]=is(ar),[xf,or]=is(ar),wi=e=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=e,c=Br(s),[d,h]=o.useState(null),f=o.useRef(!1),u=Oe(i),p=rr(a);return o.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),t.jsx(Do,{...c,children:t.jsx(pf,{scope:s,open:r,onOpenChange:u,content:d,onContentChange:h,children:t.jsx(xf,{scope:s,onClose:o.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:p,modal:l,children:n})})})};wi.displayName=ar;var vf="MenuAnchor",ha=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e,a=Br(r);return t.jsx(Io,{...a,...n,ref:s})});ha.displayName=vf;var fa="MenuPortal",[gf,Ni]=is(fa,{forceMount:void 0}),Ci=e=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=e,i=cs(fa,s);return t.jsx(gf,{scope:s,forceMount:r,children:t.jsx(Ue,{present:r||i.open,children:t.jsx(Xn,{asChild:!0,container:a,children:n})})})};Ci.displayName=fa;var ze="MenuContent",[yf,ma]=is(ze),Si=o.forwardRef((e,s)=>{const r=Ni(ze,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=cs(ze,e.__scopeMenu),l=or(ze,e.__scopeMenu);return t.jsx(Qs.Provider,{scope:e.__scopeMenu,children:t.jsx(Ue,{present:n||i.open,children:t.jsx(Qs.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(bf,{...a,ref:s}):t.jsx(jf,{...a,ref:s})})})})}),bf=o.forwardRef((e,s)=>{const r=cs(ze,e.__scopeMenu),n=o.useRef(null),a=Z(s,n);return o.useEffect(()=>{const i=n.current;if(i)return ua(i)},[]),t.jsx(pa,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:I(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jf=o.forwardRef((e,s)=>{const r=cs(ze,e.__scopeMenu);return t.jsx(pa,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),wf=Zn("MenuContent.ScrollLock"),pa=o.forwardRef((e,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,disableOutsideScroll:y,...m}=e,g=cs(ze,r),j=or(ze,r),b=Br(r),w=ji(r),N=ff(r),[M,D]=o.useState(null),R=o.useRef(null),S=Z(s,R,g.onContentChange),E=o.useRef(0),T=o.useRef(""),L=o.useRef(0),z=o.useRef(null),k=o.useRef("right"),Q=o.useRef(0),se=y?Hr:o.Fragment,Y=y?{as:wf,allowPinchZoom:!0}:void 0,K=A=>{var O,J;const le=T.current+A,he=N().filter(oe=>!oe.disabled),xe=document.activeElement,Re=(O=he.find(oe=>oe.ref.current===xe))==null?void 0:O.textValue,ve=he.map(oe=>oe.textValue),_=Af(ve,le,Re),ce=(J=he.find(oe=>oe.textValue===_))==null?void 0:J.ref.current;(function oe(ne){T.current=ne,window.clearTimeout(E.current),ne!==""&&(E.current=window.setTimeout(()=>oe(""),1e3))})(le),ce&&setTimeout(()=>ce.focus())};o.useEffect(()=>()=>window.clearTimeout(E.current),[]),da();const pe=o.useCallback(A=>{var he,xe;return k.current===((he=z.current)==null?void 0:he.side)&&Of(A,(xe=z.current)==null?void 0:xe.area)},[]);return t.jsx(yf,{scope:r,searchRef:T,onItemEnter:o.useCallback(A=>{pe(A)&&A.preventDefault()},[pe]),onItemLeave:o.useCallback(A=>{var le;pe(A)||((le=R.current)==null||le.focus(),D(null))},[pe]),onTriggerLeave:o.useCallback(A=>{pe(A)&&A.preventDefault()},[pe]),pointerGraceTimerRef:L,onPointerGraceIntentChange:o.useCallback(A=>{z.current=A},[]),children:t.jsx(se,{...Y,children:t.jsx($r,{asChild:!0,trapped:a,onMountAutoFocus:I(i,A=>{var le;A.preventDefault(),(le=R.current)==null||le.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Jn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,children:t.jsx(li,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:D,onEntryFocus:I(d,A=>{j.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Ao,{role:"menu","aria-orientation":"vertical","data-state":qi(g.open),"data-radix-menu-content":"",dir:j.dir,...b,...m,ref:S,style:{outline:"none",...m.style},onKeyDown:I(m.onKeyDown,A=>{const he=A.target.closest("[data-radix-menu-content]")===A.currentTarget,xe=A.ctrlKey||A.altKey||A.metaKey,Re=A.key.length===1;he&&(A.key==="Tab"&&A.preventDefault(),!xe&&Re&&K(A.key));const ve=R.current;if(A.target!==ve||!df.includes(A.key))return;A.preventDefault();const ce=N().filter(O=>!O.disabled).map(O=>O.ref.current);yi.includes(A.key)&&ce.reverse(),Tf(ce)}),onBlur:I(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:I(e.onPointerMove,Ys(A=>{const le=A.target,he=Q.current!==A.clientX;if(A.currentTarget.contains(le)&&he){const xe=A.clientX>Q.current?"right":"left";k.current=xe,Q.current=A.clientX}}))})})})})})})});Si.displayName=ze;var Nf="MenuGroup",xa=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(H.div,{role:"group",...n,ref:s})});xa.displayName=Nf;var Cf="MenuLabel",Ei=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(H.div,{...n,ref:s})});Ei.displayName=Cf;var Tr="MenuItem",mo="menu.itemSelect",zr=o.forwardRef((e,s)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=o.useRef(null),l=or(Tr,e.__scopeMenu),c=ma(Tr,e.__scopeMenu),d=Z(s,i),h=o.useRef(!1),f=()=>{const u=i.current;if(!r&&u){const p=new CustomEvent(mo,{bubbles:!0,cancelable:!0});u.addEventListener(mo,v=>n==null?void 0:n(v),{once:!0}),Td(u,p),p.defaultPrevented?h.current=!1:l.onClose()}};return t.jsx(Ri,{...a,ref:d,disabled:r,onClick:I(e.onClick,f),onPointerDown:u=>{var p;(p=e.onPointerDown)==null||p.call(e,u),h.current=!0},onPointerUp:I(e.onPointerUp,u=>{var p;h.current||(p=u.currentTarget)==null||p.click()}),onKeyDown:I(e.onKeyDown,u=>{const p=c.searchRef.current!=="";r||p&&u.key===" "||Kn.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});zr.displayName=Tr;var Ri=o.forwardRef((e,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,l=ma(Tr,r),c=ji(r),d=o.useRef(null),h=Z(s,d),[f,u]=o.useState(!1),[p,v]=o.useState("");return o.useEffect(()=>{const y=d.current;y&&v((y.textContent??"").trim())},[i.children]),t.jsx(Qs.ItemSlot,{scope:r,disabled:n,textValue:a??p,children:t.jsx(di,{asChild:!0,...c,focusable:!n,children:t.jsx(H.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:I(e.onPointerMove,Ys(y=>{n?l.onItemLeave(y):(l.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:I(e.onPointerLeave,Ys(y=>l.onItemLeave(y))),onFocus:I(e.onFocus,()=>u(!0)),onBlur:I(e.onBlur,()=>u(!1))})})})}),Sf="MenuCheckboxItem",ki=o.forwardRef((e,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return t.jsx(Ii,{scope:e.__scopeMenu,checked:r,children:t.jsx(zr,{role:"menuitemcheckbox","aria-checked":Ir(r)?"mixed":r,...a,ref:s,"data-state":ga(r),onSelect:I(a.onSelect,()=>n==null?void 0:n(Ir(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ki.displayName=Sf;var _i="MenuRadioGroup",[Ef,Rf]=is(_i,{value:void 0,onValueChange:()=>{}}),Mi=o.forwardRef((e,s)=>{const{value:r,onValueChange:n,...a}=e,i=Oe(n);return t.jsx(Ef,{scope:e.__scopeMenu,value:r,onValueChange:i,children:t.jsx(xa,{...a,ref:s})})});Mi.displayName=_i;var Pi="MenuRadioItem",Ti=o.forwardRef((e,s)=>{const{value:r,...n}=e,a=Rf(Pi,e.__scopeMenu),i=r===a.value;return t.jsx(Ii,{scope:e.__scopeMenu,checked:i,children:t.jsx(zr,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":ga(i),onSelect:I(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});Ti.displayName=Pi;var va="MenuItemIndicator",[Ii,kf]=is(va,{checked:!1}),Ai=o.forwardRef((e,s)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=kf(va,r);return t.jsx(Ue,{present:n||Ir(i.checked)||i.checked===!0,children:t.jsx(H.span,{...a,ref:s,"data-state":ga(i.checked)})})});Ai.displayName=va;var _f="MenuSeparator",Di=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(H.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});Di.displayName=_f;var Mf="MenuArrow",Oi=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e,a=Br(r);return t.jsx(Oo,{...a,...n,ref:s})});Oi.displayName=Mf;var Pf="MenuSub",[kx,Fi]=is(Pf),Bs="MenuSubTrigger",Li=o.forwardRef((e,s)=>{const r=cs(Bs,e.__scopeMenu),n=or(Bs,e.__scopeMenu),a=Fi(Bs,e.__scopeMenu),i=ma(Bs,e.__scopeMenu),l=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:e.__scopeMenu},f=o.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return o.useEffect(()=>f,[f]),o.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),d(null)}},[c,d]),t.jsx(ha,{asChild:!0,...h,children:t.jsx(Ri,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":qi(r.open),...e,ref:To(s,a.onTriggerChange),onClick:u=>{var p;(p=e.onClick)==null||p.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:I(e.onPointerMove,Ys(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:I(e.onPointerLeave,Ys(u=>{var v,y;f();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const m=(y=r.content)==null?void 0:y.dataset.side,g=m==="right",j=g?-5:5,b=p[g?"left":"right"],w=p[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+j,y:u.clientY},{x:b,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:b,y:p.bottom}],side:m}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:I(e.onKeyDown,u=>{var v;const p=i.searchRef.current!=="";e.disabled||p&&u.key===" "||uf[n.dir].includes(u.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),u.preventDefault())})})})});Li.displayName=Bs;var Ui="MenuSubContent",$i=o.forwardRef((e,s)=>{const r=Ni(ze,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=cs(ze,e.__scopeMenu),l=or(ze,e.__scopeMenu),c=Fi(Ui,e.__scopeMenu),d=o.useRef(null),h=Z(s,d);return t.jsx(Qs.Provider,{scope:e.__scopeMenu,children:t.jsx(Ue,{present:n||i.open,children:t.jsx(Qs.Slot,{scope:e.__scopeMenu,children:t.jsx(pa,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var u;l.isUsingKeyboardRef.current&&((u=d.current)==null||u.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:I(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:I(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:I(e.onKeyDown,f=>{var v;const u=f.currentTarget.contains(f.target),p=hf[l.dir].includes(f.key);u&&p&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),f.preventDefault())})})})})})});$i.displayName=Ui;function qi(e){return e?"open":"closed"}function Ir(e){return e==="indeterminate"}function ga(e){return Ir(e)?"indeterminate":e?"checked":"unchecked"}function Tf(e){const s=document.activeElement;for(const r of e)if(r===s||(r.focus(),document.activeElement!==s))return}function If(e,s){return e.map((r,n)=>e[(s+n)%e.length])}function Af(e,s,r){const a=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=r?e.indexOf(r):-1;let l=If(e,Math.max(i,0));a.length===1&&(l=l.filter(h=>h!==r));const d=l.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function Df(e,s){const{x:r,y:n}=e;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],d=s[l],h=c.x,f=c.y,u=d.x,p=d.y;f>n!=p>n&&r<(u-h)*(n-f)/(p-f)+h&&(a=!a)}return a}function Of(e,s){if(!s)return!1;const r={x:e.clientX,y:e.clientY};return Df(r,s)}function Ys(e){return s=>s.pointerType==="mouse"?e(s):void 0}var Ff=wi,Lf=ha,Uf=Ci,$f=Si,qf=xa,Kf=Ei,Hf=zr,Bf=ki,zf=Mi,Vf=Ti,Wf=Ai,Gf=Di,Qf=Oi,Yf=Li,Xf=$i,Vr="DropdownMenu",[Zf]=dt(Vr,[bi]),Ee=bi(),[Jf,Ki]=Zf(Vr),Hi=e=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,d=Ee(s),h=o.useRef(null),[f,u]=Dt({prop:a,defaultProp:i??!1,onChange:l,caller:Vr});return t.jsx(Jf,{scope:s,triggerId:ot(),triggerRef:h,contentId:ot(),open:f,onOpenChange:u,onOpenToggle:o.useCallback(()=>u(p=>!p),[u]),modal:c,children:t.jsx(Ff,{...d,open:f,onOpenChange:u,dir:n,modal:c,children:r})})};Hi.displayName=Vr;var Bi="DropdownMenuTrigger",zi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=Ki(Bi,r),l=Ee(r);return t.jsx(Lf,{asChild:!0,...l,children:t.jsx(H.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:To(s,i.triggerRef),onPointerDown:I(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:I(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});zi.displayName=Bi;var em="DropdownMenuPortal",Vi=e=>{const{__scopeDropdownMenu:s,...r}=e,n=Ee(s);return t.jsx(Uf,{...n,...r})};Vi.displayName=em;var Wi="DropdownMenuContent",Gi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ki(Wi,r),i=Ee(r),l=o.useRef(!1);return t.jsx($f,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:I(e.onCloseAutoFocus,c=>{var d;l.current||(d=a.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:I(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!a.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Gi.displayName=Wi;var tm="DropdownMenuGroup",sm=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(qf,{...a,...n,ref:s})});sm.displayName=tm;var rm="DropdownMenuLabel",Qi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Kf,{...a,...n,ref:s})});Qi.displayName=rm;var nm="DropdownMenuItem",Yi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Hf,{...a,...n,ref:s})});Yi.displayName=nm;var am="DropdownMenuCheckboxItem",Xi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Bf,{...a,...n,ref:s})});Xi.displayName=am;var om="DropdownMenuRadioGroup",im=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(zf,{...a,...n,ref:s})});im.displayName=om;var cm="DropdownMenuRadioItem",Zi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Vf,{...a,...n,ref:s})});Zi.displayName=cm;var lm="DropdownMenuItemIndicator",Ji=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Wf,{...a,...n,ref:s})});Ji.displayName=lm;var dm="DropdownMenuSeparator",ec=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Gf,{...a,...n,ref:s})});ec.displayName=dm;var um="DropdownMenuArrow",hm=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Qf,{...a,...n,ref:s})});hm.displayName=um;var fm="DropdownMenuSubTrigger",tc=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Yf,{...a,...n,ref:s})});tc.displayName=fm;var mm="DropdownMenuSubContent",sc=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Ee(r);return t.jsx(Xf,{...a,...n,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});sc.displayName=mm;var pm=Hi,xm=zi,vm=Vi,rc=Gi,nc=Qi,ac=Yi,oc=Xi,ic=Zi,cc=Ji,lc=ec,dc=tc,uc=sc;const gm=pm,ym=xm,bm=o.forwardRef(({className:e,inset:s,children:r,...n},a)=>t.jsxs(dc,{ref:a,className:U("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...n,children:[r,t.jsx(la,{className:"ml-auto"})]}));bm.displayName=dc.displayName;const jm=o.forwardRef(({className:e,...s},r)=>t.jsx(uc,{ref:r,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));jm.displayName=uc.displayName;const hc=o.forwardRef(({className:e,sideOffset:s=4,...r},n)=>t.jsx(vm,{children:t.jsx(rc,{ref:n,sideOffset:s,className:U("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));hc.displayName=rc.displayName;const fs=o.forwardRef(({className:e,inset:s,...r},n)=>t.jsx(ac,{ref:n,className:U("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",e),...r}));fs.displayName=ac.displayName;const wm=o.forwardRef(({className:e,children:s,checked:r,...n},a)=>t.jsxs(oc,{ref:a,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(cc,{children:t.jsx(yt,{className:"h-4 w-4"})})}),s]}));wm.displayName=oc.displayName;const Nm=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(ic,{ref:n,className:U("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(cc,{children:t.jsx(Du,{className:"h-2 w-2 fill-current"})})}),s]}));Nm.displayName=ic.displayName;const fc=o.forwardRef(({className:e,inset:s,...r},n)=>t.jsx(nc,{ref:n,className:U("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...r}));fc.displayName=nc.displayName;const Er=o.forwardRef(({className:e,...s},r)=>t.jsx(lc,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...s}));Er.displayName=lc.displayName;function ya(e){const s=o.useRef({value:e,previous:e});return o.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Wr="Checkbox",[Cm]=dt(Wr),[Sm,ba]=Cm(Wr);function Em(e){const{__scopeCheckbox:s,checked:r,children:n,defaultChecked:a,disabled:i,form:l,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:u}=e,[p,v]=Dt({prop:r,defaultProp:a??!1,onChange:d,caller:Wr}),[y,m]=o.useState(null),[g,j]=o.useState(null),b=o.useRef(!1),w=y?!!l||!!y.closest("form"):!0,N={checked:p,disabled:i,setChecked:v,control:y,setControl:m,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:b,required:h,defaultChecked:At(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:j};return t.jsx(Sm,{scope:s,...N,children:Rm(u)?u(N):n})}var mc="CheckboxTrigger",pc=o.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...n},a)=>{const{control:i,value:l,disabled:c,checked:d,required:h,setControl:f,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:y}=ba(mc,e),m=Z(a,f),g=o.useRef(d);return o.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const b=()=>u(g.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[i,u]),t.jsx(H.button,{type:"button",role:"checkbox","aria-checked":At(d)?"mixed":d,"aria-required":h,"data-state":bc(d),"data-disabled":c?"":void 0,disabled:c,value:l,...n,ref:m,onKeyDown:I(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:I(r,j=>{u(b=>At(b)?!0:!b),y&&v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});pc.displayName=mc;var ja=o.forwardRef((e,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:h,form:f,...u}=e;return t.jsx(Em,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:l,onCheckedChange:h,name:n,form:f,value:d,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(pc,{...u,ref:s,__scopeCheckbox:r}),p&&t.jsx(yc,{__scopeCheckbox:r})]})})});ja.displayName=Wr;var xc="CheckboxIndicator",vc=o.forwardRef((e,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=ba(xc,r);return t.jsx(Ue,{present:n||At(i.checked)||i.checked===!0,children:t.jsx(H.span,{"data-state":bc(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});vc.displayName=xc;var gc="CheckboxBubbleInput",yc=o.forwardRef(({__scopeCheckbox:e,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:c,disabled:d,name:h,value:f,form:u,bubbleInput:p,setBubbleInput:v}=ba(gc,e),y=Z(r,v),m=ya(i),g=Fo(n);o.useEffect(()=>{const b=p;if(!b)return;const w=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(w,"checked").set,D=!a.current;if(m!==i&&M){const R=new Event("click",{bubbles:D});b.indeterminate=At(i),M.call(b,At(i)?!1:i),b.dispatchEvent(R)}},[p,m,i,a]);const j=o.useRef(At(i)?!1:i);return t.jsx(H.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:c,disabled:d,name:h,value:f,form:u,...s,tabIndex:-1,ref:y,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});yc.displayName=gc;function Rm(e){return typeof e=="function"}function At(e){return e==="indeterminate"}function bc(e){return At(e)?"indeterminate":e?"checked":"unchecked"}const jc=o.forwardRef(({className:e,...s},r)=>t.jsx(ja,{ref:r,className:U("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(vc,{className:U("flex items-center justify-center text-current"),children:t.jsx(yt,{className:"h-4 w-4"})})}));jc.displayName=ja.displayName;const km=Id("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning",online:"border-transparent bg-success/20 text-success",offline:"border-transparent bg-destructive/20 text-destructive",pending:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function de({className:e,variant:s,...r}){return t.jsx("div",{className:U(km({variant:s}),e),...r})}function Hn(e,[s,r]){return Math.min(r,Math.max(s,e))}function _m(e,s){return o.useReducer((r,n)=>s[r][n]??r,e)}var wa="ScrollArea",[wc]=dt(wa),[Mm,Ve]=wc(wa),Nc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[c,d]=o.useState(null),[h,f]=o.useState(null),[u,p]=o.useState(null),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(0),[w,N]=o.useState(0),[M,D]=o.useState(!1),[R,S]=o.useState(!1),E=Z(s,L=>d(L)),T=rr(a);return t.jsx(Mm,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:f,content:u,onContentChange:p,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:M,onScrollbarXEnabledChange:D,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:R,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:N,children:t.jsx(H.div,{dir:T,...l,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});Nc.displayName=wa;var Cc="ScrollAreaViewport",Sc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=Ve(Cc,r),c=o.useRef(null),d=Z(s,c,l.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(H.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});Sc.displayName=Cc;var ut="ScrollAreaScrollbar",Na=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Ve(ut,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,c=e.orientation==="horizontal";return o.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),a.type==="hover"?t.jsx(Pm,{...n,ref:s,forceMount:r}):a.type==="scroll"?t.jsx(Tm,{...n,ref:s,forceMount:r}):a.type==="auto"?t.jsx(Ec,{...n,ref:s,forceMount:r}):a.type==="always"?t.jsx(Ca,{...n,ref:s}):null});Na.displayName=ut;var Pm=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Ve(ut,e.__scopeScrollArea),[i,l]=o.useState(!1);return o.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),l(!0)},f=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Ue,{present:r||i,children:t.jsx(Ec,{"data-state":i?"visible":"hidden",...n,ref:s})})}),Tm=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Ve(ut,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Qr(()=>d("SCROLL_END"),100),[c,d]=_m("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,a.scrollHideDelay,d]),o.useEffect(()=>{const h=a.viewport,f=i?"scrollLeft":"scrollTop";if(h){let u=h[f];const p=()=>{const v=h[f];u!==v&&(d("SCROLL"),l()),u=v};return h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,i,d,l]),t.jsx(Ue,{present:r||c!=="hidden",children:t.jsx(Ca,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:I(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:I(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Ec=o.forwardRef((e,s)=>{const r=Ve(ut,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=o.useState(!1),c=e.orientation==="horizontal",d=Qr(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?h:f)}},10);return Is(r.viewport,d),Is(r.content,d),t.jsx(Ue,{present:n||i,children:t.jsx(Ca,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Ca=o.forwardRef((e,s)=>{const{orientation:r="vertical",...n}=e,a=Ve(ut,e.__scopeScrollArea),i=o.useRef(null),l=o.useRef(0),[c,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=Pc(c.viewport,c.content),f={...n,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:p=>l.current=p};function u(p,v){return Lm(p,l.current,c,v)}return r==="horizontal"?t.jsx(Im,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,v=po(p,c,a.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=u(p,a.dir))}}):r==="vertical"?t.jsx(Am,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,v=po(p,c);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=u(p))}}):null}),Im=o.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ve(ut,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),h=Z(s,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(kc,{"data-orientation":"horizontal",...a,ref:h,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gr(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),Ic(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Dr(l.paddingLeft),paddingEnd:Dr(l.paddingRight)}})}})}),Am=o.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ve(ut,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),h=Z(s,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(kc,{"data-orientation":"vertical",...a,ref:h,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gr(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),Ic(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Dr(l.paddingTop),paddingEnd:Dr(l.paddingBottom)}})}})}),[Dm,Rc]=wc(ut),kc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:u,...p}=e,v=Ve(ut,r),[y,m]=o.useState(null),g=Z(s,E=>m(E)),j=o.useRef(null),b=o.useRef(""),w=v.viewport,N=n.content-n.viewport,M=Oe(f),D=Oe(d),R=Qr(u,10);function S(E){if(j.current){const T=E.clientX-j.current.left,L=E.clientY-j.current.top;h({x:T,y:L})}}return o.useEffect(()=>{const E=T=>{const L=T.target;(y==null?void 0:y.contains(L))&&M(T,N)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[w,y,N,M]),o.useEffect(D,[n,D]),Is(y,R),Is(v.content,R),t.jsx(Dm,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Oe(i),onThumbPointerUp:Oe(l),onThumbPositionChange:D,onThumbPointerDown:Oe(c),children:t.jsx(H.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:I(e.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),j.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),S(E))}),onPointerMove:I(e.onPointerMove,S),onPointerUp:I(e.onPointerUp,E=>{const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=b.current,v.viewport&&(v.viewport.style.scrollBehavior=""),j.current=null})})})}),Ar="ScrollAreaThumb",_c=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Rc(Ar,e.__scopeScrollArea);return t.jsx(Ue,{present:r||a.hasThumb,children:t.jsx(Om,{ref:s,...n})})}),Om=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ve(Ar,r),l=Rc(Ar,r),{onThumbPositionChange:c}=l,d=Z(s,u=>l.onThumbChange(u)),h=o.useRef(void 0),f=Qr(()=>{h.current&&(h.current(),h.current=void 0)},100);return o.useEffect(()=>{const u=i.viewport;if(u){const p=()=>{if(f(),!h.current){const v=Um(u,c);h.current=v,c()}};return c(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,f,c]),t.jsx(H.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:I(e.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),y=u.clientX-v.left,m=u.clientY-v.top;l.onThumbPointerDown({x:y,y:m})}),onPointerUp:I(e.onPointerUp,l.onThumbPointerUp)})});_c.displayName=Ar;var Sa="ScrollAreaCorner",Mc=o.forwardRef((e,s)=>{const r=Ve(Sa,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?t.jsx(Fm,{...e,ref:s}):null});Mc.displayName=Sa;var Fm=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,...n}=e,a=Ve(Sa,r),[i,l]=o.useState(0),[c,d]=o.useState(0),h=!!(i&&c);return Is(a.scrollbarX,()=>{var u;const f=((u=a.scrollbarX)==null?void 0:u.offsetHeight)||0;a.onCornerHeightChange(f),d(f)}),Is(a.scrollbarY,()=>{var u;const f=((u=a.scrollbarY)==null?void 0:u.offsetWidth)||0;a.onCornerWidthChange(f),l(f)}),h?t.jsx(H.div,{...n,ref:s,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Dr(e){return e?parseInt(e,10):0}function Pc(e,s){const r=e/s;return isNaN(r)?0:r}function Gr(e){const s=Pc(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*s;return Math.max(n,18)}function Lm(e,s,r,n="ltr"){const a=Gr(r),i=a/2,l=s||i,c=a-l,d=r.scrollbar.paddingStart+l,h=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,u=n==="ltr"?[0,f]:[f*-1,0];return Tc([d,h],u)(e)}function po(e,s,r="ltr"){const n=Gr(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,c=i-n,d=r==="ltr"?[0,l]:[l*-1,0],h=Hn(e,d);return Tc([0,l],[0,c])(h)}function Tc(e,s){return r=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(e[1]-e[0]);return s[0]+n*(r-e[0])}}function Ic(e,s){return e>0&&e<s}var Um=(e,s=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,c=r.top!==i.top;(l||c)&&s(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Qr(e,s){const r=Oe(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function Is(e,s){const r=Oe(s);it(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var Ac=Nc,$m=Sc,qm=Mc;const ct=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Ac,{ref:n,className:U("relative overflow-hidden",e),...r,children:[t.jsx($m,{className:"h-full w-full rounded-[inherit]",children:s}),t.jsx(Dc,{}),t.jsx(qm,{})]}));ct.displayName=Ac.displayName;const Dc=o.forwardRef(({className:e,orientation:s="vertical",...r},n)=>t.jsx(Na,{ref:n,orientation:s,className:U("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:t.jsx(_c,{className:"relative flex-1 rounded-full bg-border"})}));Dc.displayName=Na.displayName;var Yr="Dialog",[Oc,Fc]=dt(Yr),[Km,Ye]=Oc(Yr),Lc=e=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),d=o.useRef(null),[h,f]=Dt({prop:n,defaultProp:a??!1,onChange:i,caller:Yr});return t.jsx(Km,{scope:s,triggerRef:c,contentRef:d,contentId:ot(),titleId:ot(),descriptionId:ot(),open:h,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(u=>!u),[f]),modal:l,children:r})};Lc.displayName=Yr;var Uc="DialogTrigger",$c=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ye(Uc,r),i=Z(s,a.triggerRef);return t.jsx(H.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ka(a.open),...n,ref:i,onClick:I(e.onClick,a.onOpenToggle)})});$c.displayName=Uc;var Ea="DialogPortal",[Hm,qc]=Oc(Ea,{forceMount:void 0}),Kc=e=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=e,i=Ye(Ea,s);return t.jsx(Hm,{scope:s,forceMount:r,children:o.Children.map(n,l=>t.jsx(Ue,{present:r||i.open,children:t.jsx(Xn,{asChild:!0,container:a,children:l})}))})};Kc.displayName=Ea;var Or="DialogOverlay",Hc=o.forwardRef((e,s)=>{const r=qc(Or,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ye(Or,e.__scopeDialog);return i.modal?t.jsx(Ue,{present:n||i.open,children:t.jsx(zm,{...a,ref:s})}):null});Hc.displayName=Or;var Bm=Zn("DialogOverlay.RemoveScroll"),zm=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ye(Or,r);return t.jsx(Hr,{as:Bm,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(H.div,{"data-state":ka(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),ss="DialogContent",Bc=o.forwardRef((e,s)=>{const r=qc(ss,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ye(ss,e.__scopeDialog);return t.jsx(Ue,{present:n||i.open,children:i.modal?t.jsx(Vm,{...a,ref:s}):t.jsx(Wm,{...a,ref:s})})});Bc.displayName=ss;var Vm=o.forwardRef((e,s)=>{const r=Ye(ss,e.__scopeDialog),n=o.useRef(null),a=Z(s,r.contentRef,n);return o.useEffect(()=>{const i=n.current;if(i)return ua(i)},[]),t.jsx(zc,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:I(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:I(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:I(e.onFocusOutside,i=>i.preventDefault())})}),Wm=o.forwardRef((e,s)=>{const r=Ye(ss,e.__scopeDialog),n=o.useRef(!1),a=o.useRef(!1);return t.jsx(zc,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zc=o.forwardRef((e,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,c=Ye(ss,r),d=o.useRef(null),h=Z(s,d);return da(),t.jsxs(t.Fragment,{children:[t.jsx($r,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(Jn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ka(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Qm,{titleId:c.titleId}),t.jsx(Xm,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Ra="DialogTitle",Vc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ye(Ra,r);return t.jsx(H.h2,{id:a.titleId,...n,ref:s})});Vc.displayName=Ra;var Wc="DialogDescription",Gc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ye(Wc,r);return t.jsx(H.p,{id:a.descriptionId,...n,ref:s})});Gc.displayName=Wc;var Qc="DialogClose",Yc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ye(Qc,r);return t.jsx(H.button,{type:"button",...n,ref:s,onClick:I(e.onClick,()=>a.onOpenChange(!1))})});Yc.displayName=Qc;function ka(e){return e?"open":"closed"}var Xc="DialogTitleWarning",[Gm,Zc]=Ad(Xc,{contentName:ss,titleName:Ra,docsSlug:"dialog"}),Qm=({titleId:e})=>{const s=Zc(Xc),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Ym="DialogDescriptionWarning",Xm=({contentRef:e,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Zc(Ym).contentName}}.`;return o.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,e,s]),null},Jc=Lc,Zm=$c,el=Kc,_a=Hc,Ma=Bc,Pa=Vc,Ta=Gc,Ia=Yc;const Fe=Jc,Jm=el,tl=o.forwardRef(({className:e,...s},r)=>t.jsx(_a,{ref:r,className:U("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));tl.displayName=_a.displayName;const Pe=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Jm,{children:[t.jsx(tl,{}),t.jsxs(Ma,{ref:n,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",e),...r,children:[s,t.jsxs(Ia,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(wn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pe.displayName=Ma.displayName;const Te=({className:e,...s})=>t.jsx("div",{className:U("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});Te.displayName="DialogHeader";const lt=({className:e,...s})=>t.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});lt.displayName="DialogFooter";const Ie=o.forwardRef(({className:e,...s},r)=>t.jsx(Pa,{ref:r,className:U("text-lg font-semibold leading-none tracking-tight",e),...s}));Ie.displayName=Pa.displayName;const Ae=o.forwardRef(({className:e,...s},r)=>t.jsx(Ta,{ref:r,className:U("text-sm text-muted-foreground",e),...s}));Ae.displayName=Ta.displayName;const Ds=o.forwardRef(({className:e,...s},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:U("w-full caption-bottom text-sm",e),...s})}));Ds.displayName="Table";const Os=o.forwardRef(({className:e,...s},r)=>t.jsx("thead",{ref:r,className:U("[&_tr]:border-b",e),...s}));Os.displayName="TableHeader";const Fs=o.forwardRef(({className:e,...s},r)=>t.jsx("tbody",{ref:r,className:U("[&_tr:last-child]:border-0",e),...s}));Fs.displayName="TableBody";const ep=o.forwardRef(({className:e,...s},r)=>t.jsx("tfoot",{ref:r,className:U("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));ep.displayName="TableFooter";const Le=o.forwardRef(({className:e,...s},r)=>t.jsx("tr",{ref:r,className:U("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Le.displayName="TableRow";const ee=o.forwardRef(({className:e,...s},r)=>t.jsx("th",{ref:r,className:U("h-11 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));ee.displayName="TableHead";const X=o.forwardRef(({className:e,...s},r)=>t.jsx("td",{ref:r,className:U("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));X.displayName="TableCell";const tp=o.forwardRef(({className:e,...s},r)=>t.jsx("caption",{ref:r,className:U("mt-4 text-sm text-muted-foreground",e),...s}));tp.displayName="TableCaption";var sl="AlertDialog",[sp]=dt(sl,[Fc]),bt=Fc(),rl=e=>{const{__scopeAlertDialog:s,...r}=e,n=bt(s);return t.jsx(Jc,{...n,...r,modal:!0})};rl.displayName=sl;var rp="AlertDialogTrigger",np=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=bt(r);return t.jsx(Zm,{...a,...n,ref:s})});np.displayName=rp;var ap="AlertDialogPortal",nl=e=>{const{__scopeAlertDialog:s,...r}=e,n=bt(s);return t.jsx(el,{...n,...r})};nl.displayName=ap;var op="AlertDialogOverlay",al=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=bt(r);return t.jsx(_a,{...a,...n,ref:s})});al.displayName=op;var xs="AlertDialogContent",[ip,cp]=sp(xs),lp=Dd("AlertDialogContent"),ol=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=bt(r),l=o.useRef(null),c=Z(s,l),d=o.useRef(null);return t.jsx(Gm,{contentName:xs,titleName:il,docsSlug:"alert-dialog",children:t.jsx(ip,{scope:r,cancelRef:d,children:t.jsxs(Ma,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:I(a.onOpenAutoFocus,h=>{var f;h.preventDefault(),(f=d.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[t.jsx(lp,{children:n}),t.jsx(up,{contentRef:l})]})})})});ol.displayName=xs;var il="AlertDialogTitle",cl=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=bt(r);return t.jsx(Pa,{...a,...n,ref:s})});cl.displayName=il;var ll="AlertDialogDescription",dl=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=bt(r);return t.jsx(Ta,{...a,...n,ref:s})});dl.displayName=ll;var dp="AlertDialogAction",ul=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=bt(r);return t.jsx(Ia,{...a,...n,ref:s})});ul.displayName=dp;var hl="AlertDialogCancel",fl=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=cp(hl,r),i=bt(r),l=Z(s,a);return t.jsx(Ia,{...i,...n,ref:l})});fl.displayName=hl;var up=({contentRef:e})=>{const s=`\`${xs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${xs}\` by passing a \`${ll}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${xs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},hp=rl,fp=nl,ml=al,pl=ol,xl=ul,vl=fl,gl=cl,yl=dl;const Xr=hp,mp=fp,bl=o.forwardRef(({className:e,...s},r)=>t.jsx(ml,{className:U("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:r}));bl.displayName=ml.displayName;const ir=o.forwardRef(({className:e,...s},r)=>t.jsxs(mp,{children:[t.jsx(bl,{}),t.jsx(pl,{ref:r,className:U("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));ir.displayName=pl.displayName;const cr=({className:e,...s})=>t.jsx("div",{className:U("flex flex-col space-y-2 text-center sm:text-left",e),...s});cr.displayName="AlertDialogHeader";const lr=({className:e,...s})=>t.jsx("div",{className:U("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});lr.displayName="AlertDialogFooter";const dr=o.forwardRef(({className:e,...s},r)=>t.jsx(gl,{ref:r,className:U("text-lg font-semibold",e),...s}));dr.displayName=gl.displayName;const ur=o.forwardRef(({className:e,...s},r)=>t.jsx(yl,{ref:r,className:U("text-sm text-muted-foreground",e),...s}));ur.displayName=yl.displayName;const hr=o.forwardRef(({className:e,...s},r)=>t.jsx(xl,{ref:r,className:U(Lo(),e),...s}));hr.displayName=xl.displayName;const fr=o.forwardRef(({className:e,...s},r)=>t.jsx(vl,{ref:r,className:U(Lo({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));fr.displayName=vl.displayName;function pp({open:e,onOpenChange:s}){const r=Lt(),[n,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(""),[h,f]=o.useState(""),[u,p]=o.useState(["api"]),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(null),{data:w,isLoading:N,refetch:M}=Be({queryKey:["api-keys"],queryFn:dn.list,enabled:e}),D=at({mutationFn:k=>dn.create(k),onSuccess:k=>{r.invalidateQueries({queryKey:["api-keys"]}),y(k.key),d(""),f(""),p(["api"]),G({title:"API key created"})},onError:k=>{G({title:"Failed to create API key",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}}),R=at({mutationFn:k=>dn.delete(k),onSuccess:()=>{r.invalidateQueries({queryKey:["api-keys"]}),l(null),G({title:"API key deleted"})},onError:k=>{G({title:"Failed to delete API key",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}});o.useEffect(()=>{e||(y(null),g(null))},[e]),o.useEffect(()=>{n||(d(""),f(""),p(["api"]))},[n]);const S=async(k,Q)=>{try{await navigator.clipboard.writeText(k),b(Q),setTimeout(()=>b(null),2e3),G({title:"Copied to clipboard"})}catch{G({title:"Failed to copy",variant:"destructive"})}},E=()=>{D.mutate({name:c,expires_at:h||void 0,scopes:u})},T=k=>k?new Date(k)<new Date:!1,L=(k,Q)=>{p(se=>Q?se.includes(k)?se:[...se,k]:se.filter(Y=>Y!==k))},z=[{value:"api",label:"api",description:"OpenAI-compatible API inference access"},{value:"endpoint",label:"endpoint",description:"Endpoint registration and sync"},{value:"admin",label:"admin",description:"Administrator (full access)"}];return t.jsxs(t.Fragment,{children:[t.jsx(Fe,{open:e,onOpenChange:s,children:t.jsxs(Pe,{id:"api-keys-modal",className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2",children:[t.jsx(Pr,{className:"h-5 w-5"}),"API Keys"]}),t.jsx(Ae,{children:"Manage your API keys for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(F,{id:"create-api-key",onClick:()=>a(!0),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Key"]}),t.jsx(F,{variant:"outline",size:"icon",onClick:()=>M(),children:t.jsx(Ut,{className:"h-4 w-4"})})]}),v&&t.jsxs("div",{className:"rounded-lg border border-success/50 bg-success/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-success mb-2",children:"API Key Created Successfully"}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Copy this key now. You won't be able to see it again."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-muted px-2 py-1 text-xs font-mono break-all",children:m==="created"?v:"".repeat(32)}),t.jsx(F,{variant:"ghost",size:"icon",onClick:()=>g(m==="created"?null:"created"),children:m==="created"?t.jsx(Lu,{className:"h-4 w-4"}):t.jsx(Uu,{className:"h-4 w-4"})}),t.jsx(F,{id:"copy-api-key",variant:"ghost",size:"icon",onClick:()=>S(v,"created"),children:j==="created"?t.jsx(yt,{className:"h-4 w-4"}):t.jsx(Ps,{className:"h-4 w-4"})})]})]}),t.jsx(ct,{className:"h-64 rounded-md border",children:N?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(He,{className:"h-6 w-6 animate-spin"})}):!w||w.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(Pr,{className:"h-8 w-8"}),t.jsx("p",{children:"No API keys"})]}):t.jsxs(Ds,{children:[t.jsx(Os,{children:t.jsxs(Le,{children:[t.jsx(ee,{children:"Name"}),t.jsx(ee,{children:"Scopes"}),t.jsx(ee,{children:"Key"}),t.jsx(ee,{children:"Created"}),t.jsx(ee,{children:"Expires"}),t.jsx(ee,{className:"text-right",children:"Actions"})]})}),t.jsx(Fs,{children:w.map(k=>t.jsxs(Le,{children:[t.jsx(X,{className:"font-medium",children:k.name}),t.jsx(X,{children:t.jsx("div",{className:"flex flex-wrap gap-1",children:k.scopes.map(Q=>t.jsx(de,{variant:"secondary",children:Q},Q))})}),t.jsx(X,{children:k.key_prefix?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-xs font-mono",children:[k.key_prefix,"..."]}),t.jsx(F,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>S(k.key_prefix,k.id),children:j===k.id?t.jsx(yt,{className:"h-3 w-3"}):t.jsx(Ps,{className:"h-3 w-3"})})]}):t.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.id.slice(0,8),"..."]})}),t.jsx(X,{className:"text-sm text-muted-foreground",children:gt(k.created_at)}),t.jsx(X,{children:k.expires_at?t.jsx(de,{variant:T(k.expires_at)?"destructive":"outline",children:T(k.expires_at)?"Expired":gt(k.expires_at)}):t.jsx(de,{variant:"secondary",children:"Never"})}),t.jsx(X,{className:"text-right",children:t.jsx(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(k),children:t.jsx(sr,{className:"h-4 w-4 text-destructive"})})})]},k.id))})]})})]})]})}),t.jsx(Fe,{open:n,onOpenChange:a,children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Create API Key"}),t.jsx(Ae,{children:"Create a new API key for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"api-key-name",children:"Name"}),t.jsx(we,{id:"api-key-name",placeholder:"My API Key",value:c,onChange:k=>d(k.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"key-expires",children:"Expires (optional)"}),t.jsx(we,{id:"key-expires",type:"datetime-local",value:h,onChange:k=>f(k.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{children:"Scopes"}),t.jsx("div",{className:"grid gap-2",children:z.map(k=>{const Q=`scope-${k.value.replace(/[^a-z0-9]/gi,"-")}`;return t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(jc,{id:Q,checked:u.includes(k.value),onCheckedChange:se=>L(k.value,!!se)}),t.jsxs("label",{htmlFor:Q,className:"flex flex-col gap-1 cursor-pointer",children:[t.jsx("span",{className:"font-mono text-xs",children:k.label}),t.jsx("span",{className:"text-xs text-muted-foreground",children:k.description})]})]},k.value)})})]})]}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(F,{onClick:E,disabled:!c||u.length===0||D.isPending,children:[D.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Xr,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(ir,{children:[t.jsxs(cr,{children:[t.jsx(dr,{children:"Delete API Key"}),t.jsxs(ur,{children:['Are you sure you want to delete "',i==null?void 0:i.name,'"? This action cannot be undone.']})]}),t.jsxs(lr,{children:[t.jsx(fr,{children:"Cancel"}),t.jsxs(hr,{onClick:()=>i&&R.mutate(i.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[R.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}var xp=[" ","Enter","ArrowUp","ArrowDown"],vp=[" ","Enter"],rs="Select",[Zr,Jr,gp]=Yn(rs),[Ls]=dt(rs,[gp,Lr]),en=Lr(),[yp,$t]=Ls(rs),[bp,jp]=Ls(rs),jl=e=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:u,disabled:p,required:v,form:y}=e,m=en(s),[g,j]=o.useState(null),[b,w]=o.useState(null),[N,M]=o.useState(!1),D=rr(h),[R,S]=Dt({prop:n,defaultProp:a??!1,onChange:i,caller:rs}),[E,T]=Dt({prop:l,defaultProp:c,onChange:d,caller:rs}),L=o.useRef(null),z=g?y||!!g.closest("form"):!0,[k,Q]=o.useState(new Set),se=Array.from(k).map(Y=>Y.props.value).join(";");return t.jsx(Do,{...m,children:t.jsxs(yp,{required:v,scope:s,trigger:g,onTriggerChange:j,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:M,contentId:ot(),value:E,onValueChange:T,open:R,onOpenChange:S,dir:D,triggerPointerDownPosRef:L,disabled:p,children:[t.jsx(Zr.Provider,{scope:s,children:t.jsx(bp,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(Y=>{Q(K=>new Set(K).add(Y))},[]),onNativeOptionRemove:o.useCallback(Y=>{Q(K=>{const pe=new Set(K);return pe.delete(Y),pe})},[]),children:r})}),z?t.jsxs(zl,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:u,value:E,onChange:Y=>T(Y.target.value),disabled:p,form:y,children:[E===void 0?t.jsx("option",{value:""}):null,Array.from(k)]},se):null]})})};jl.displayName=rs;var wl="SelectTrigger",Nl=o.forwardRef((e,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=en(r),l=$t(wl,r),c=l.disabled||n,d=Z(s,l.onTriggerChange),h=Jr(r),f=o.useRef("touch"),[u,p,v]=Wl(m=>{const g=h().filter(w=>!w.disabled),j=g.find(w=>w.value===l.value),b=Gl(g,m,j);b!==void 0&&l.onValueChange(b.value)}),y=m=>{c||(l.onOpenChange(!0),v()),m&&(l.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return t.jsx(Io,{asChild:!0,...i,children:t.jsx(H.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Vl(l.value)?"":void 0,...a,ref:d,onClick:I(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:I(a.onPointerDown,m=>{f.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:I(a.onKeyDown,m=>{const g=u.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&xp.includes(m.key)&&(y(),m.preventDefault())})})})});Nl.displayName=wl;var Cl="SelectValue",Sl=o.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...c}=e,d=$t(Cl,r),{onValueNodeHasChildrenChange:h}=d,f=i!==void 0,u=Z(s,d.onValueNodeChange);return it(()=>{h(f)},[h,f]),t.jsx(H.span,{...c,ref:u,style:{pointerEvents:"none"},children:Vl(d.value)?t.jsx(t.Fragment,{children:l}):i})});Sl.displayName=Cl;var wp="SelectIcon",El=o.forwardRef((e,s)=>{const{__scopeSelect:r,children:n,...a}=e;return t.jsx(H.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});El.displayName=wp;var Np="SelectPortal",Rl=e=>t.jsx(Xn,{asChild:!0,...e});Rl.displayName=Np;var ns="SelectContent",kl=o.forwardRef((e,s)=>{const r=$t(ns,e.__scopeSelect),[n,a]=o.useState();if(it(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Uo.createPortal(t.jsx(_l,{scope:e.__scopeSelect,children:t.jsx(Zr.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Ml,{...e,ref:s})});kl.displayName=ns;var We=10,[_l,qt]=Ls(ns),Cp="SelectContentImpl",Sp=Zn("SelectContent.RemoveScroll"),Ml=o.forwardRef((e,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:m,avoidCollisions:g,...j}=e,b=$t(ns,r),[w,N]=o.useState(null),[M,D]=o.useState(null),R=Z(s,O=>N(O)),[S,E]=o.useState(null),[T,L]=o.useState(null),z=Jr(r),[k,Q]=o.useState(!1),se=o.useRef(!1);o.useEffect(()=>{if(w)return ua(w)},[w]),da();const Y=o.useCallback(O=>{const[J,...oe]=z().map(C=>C.ref.current),[ne]=oe.slice(-1),re=document.activeElement;for(const C of O)if(C===re||(C==null||C.scrollIntoView({block:"nearest"}),C===J&&M&&(M.scrollTop=0),C===ne&&M&&(M.scrollTop=M.scrollHeight),C==null||C.focus(),document.activeElement!==re))return},[z,M]),K=o.useCallback(()=>Y([S,w]),[Y,S,w]);o.useEffect(()=>{k&&K()},[k,K]);const{onOpenChange:pe,triggerPointerDownPosRef:A}=b;o.useEffect(()=>{if(w){let O={x:0,y:0};const J=ne=>{var re,C;O={x:Math.abs(Math.round(ne.pageX)-(((re=A.current)==null?void 0:re.x)??0)),y:Math.abs(Math.round(ne.pageY)-(((C=A.current)==null?void 0:C.y)??0))}},oe=ne=>{O.x<=10&&O.y<=10?ne.preventDefault():w.contains(ne.target)||pe(!1),document.removeEventListener("pointermove",J),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",J),document.addEventListener("pointerup",oe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",J),document.removeEventListener("pointerup",oe,{capture:!0})}}},[w,pe,A]),o.useEffect(()=>{const O=()=>pe(!1);return window.addEventListener("blur",O),window.addEventListener("resize",O),()=>{window.removeEventListener("blur",O),window.removeEventListener("resize",O)}},[pe]);const[le,he]=Wl(O=>{const J=z().filter(re=>!re.disabled),oe=J.find(re=>re.ref.current===document.activeElement),ne=Gl(J,O,oe);ne&&setTimeout(()=>ne.ref.current.focus())}),xe=o.useCallback((O,J,oe)=>{const ne=!se.current&&!oe;(b.value!==void 0&&b.value===J||ne)&&(E(O),ne&&(se.current=!0))},[b.value]),Re=o.useCallback(()=>w==null?void 0:w.focus(),[w]),ve=o.useCallback((O,J,oe)=>{const ne=!se.current&&!oe;(b.value!==void 0&&b.value===J||ne)&&L(O)},[b.value]),_=n==="popper"?Bn:Pl,ce=_===Bn?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return t.jsx(_l,{scope:r,content:w,viewport:M,onViewportChange:D,itemRefCallback:xe,selectedItem:S,onItemLeave:Re,itemTextRefCallback:ve,focusSelectedItem:K,selectedItemText:T,position:n,isPositioned:k,searchRef:le,children:t.jsx(Hr,{as:Sp,allowPinchZoom:!0,children:t.jsx($r,{asChild:!0,trapped:b.open,onMountAutoFocus:O=>{O.preventDefault()},onUnmountAutoFocus:I(a,O=>{var J;(J=b.trigger)==null||J.focus({preventScroll:!0}),O.preventDefault()}),children:t.jsx(Jn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:O=>O.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:t.jsx(_,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:O=>O.preventDefault(),...j,...ce,onPlaced:()=>Q(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:I(j.onKeyDown,O=>{const J=O.ctrlKey||O.altKey||O.metaKey;if(O.key==="Tab"&&O.preventDefault(),!J&&O.key.length===1&&he(O.key),["ArrowUp","ArrowDown","Home","End"].includes(O.key)){let ne=z().filter(re=>!re.disabled).map(re=>re.ref.current);if(["ArrowUp","End"].includes(O.key)&&(ne=ne.slice().reverse()),["ArrowUp","ArrowDown"].includes(O.key)){const re=O.target,C=ne.indexOf(re);ne=ne.slice(C+1)}setTimeout(()=>Y(ne)),O.preventDefault()}})})})})})})});Ml.displayName=Cp;var Ep="SelectItemAlignedPosition",Pl=o.forwardRef((e,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=$t(ns,r),l=qt(ns,r),[c,d]=o.useState(null),[h,f]=o.useState(null),u=Z(s,R=>f(R)),p=Jr(r),v=o.useRef(!1),y=o.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:j,focusSelectedItem:b}=l,w=o.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&m&&g&&j){const R=i.trigger.getBoundingClientRect(),S=h.getBoundingClientRect(),E=i.valueNode.getBoundingClientRect(),T=j.getBoundingClientRect();if(i.dir!=="rtl"){const re=T.left-S.left,C=E.left-re,V=R.left-C,ae=R.width+V,me=Math.max(ae,S.width),be=window.innerWidth-We,De=Hn(C,[We,Math.max(We,be-me)]);c.style.minWidth=ae+"px",c.style.left=De+"px"}else{const re=S.right-T.right,C=window.innerWidth-E.right-re,V=window.innerWidth-R.right-C,ae=R.width+V,me=Math.max(ae,S.width),be=window.innerWidth-We,De=Hn(C,[We,Math.max(We,be-me)]);c.style.minWidth=ae+"px",c.style.right=De+"px"}const L=p(),z=window.innerHeight-We*2,k=m.scrollHeight,Q=window.getComputedStyle(h),se=parseInt(Q.borderTopWidth,10),Y=parseInt(Q.paddingTop,10),K=parseInt(Q.borderBottomWidth,10),pe=parseInt(Q.paddingBottom,10),A=se+Y+k+pe+K,le=Math.min(g.offsetHeight*5,A),he=window.getComputedStyle(m),xe=parseInt(he.paddingTop,10),Re=parseInt(he.paddingBottom,10),ve=R.top+R.height/2-We,_=z-ve,ce=g.offsetHeight/2,O=g.offsetTop+ce,J=se+Y+O,oe=A-J;if(J<=ve){const re=L.length>0&&g===L[L.length-1].ref.current;c.style.bottom="0px";const C=h.clientHeight-m.offsetTop-m.offsetHeight,V=Math.max(_,ce+(re?Re:0)+C+K),ae=J+V;c.style.height=ae+"px"}else{const re=L.length>0&&g===L[0].ref.current;c.style.top="0px";const V=Math.max(ve,se+m.offsetTop+(re?xe:0)+ce)+oe;c.style.height=V+"px",m.scrollTop=J-ve+m.offsetTop}c.style.margin=`${We}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=z+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,c,h,m,g,j,i.dir,n]);it(()=>w(),[w]);const[N,M]=o.useState();it(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const D=o.useCallback(R=>{R&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return t.jsx(kp,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:D,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:t.jsx(H.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Pl.displayName=Ep;var Rp="SelectPopperPosition",Bn=o.forwardRef((e,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=We,...i}=e,l=en(r);return t.jsx(Ao,{...l,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Bn.displayName=Rp;var[kp,Aa]=Ls(ns,{}),zn="SelectViewport",Tl=o.forwardRef((e,s)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=qt(zn,r),l=Aa(zn,r),c=Z(s,i.onViewportChange),d=o.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(Zr.Slot,{scope:r,children:t.jsx(H.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:I(a.onScroll,h=>{const f=h.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&u){const v=Math.abs(d.current-f.scrollTop);if(v>0){const y=window.innerHeight-We*2,m=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),j=Math.max(m,g);if(j<y){const b=j+v,w=Math.min(y,b),N=b-w;u.style.height=w+"px",u.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,u.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});Tl.displayName=zn;var Il="SelectGroup",[_p,Mp]=Ls(Il),Pp=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=ot();return t.jsx(_p,{scope:r,id:a,children:t.jsx(H.div,{role:"group","aria-labelledby":a,...n,ref:s})})});Pp.displayName=Il;var Al="SelectLabel",Dl=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=Mp(Al,r);return t.jsx(H.div,{id:a.id,...n,ref:s})});Dl.displayName=Al;var Fr="SelectItem",[Tp,Ol]=Ls(Fr),Fl=o.forwardRef((e,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=e,c=$t(Fr,r),d=qt(Fr,r),h=c.value===n,[f,u]=o.useState(i??""),[p,v]=o.useState(!1),y=Z(s,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,n,a)}),m=ot(),g=o.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Tp,{scope:r,value:n,disabled:a,textId:m,isSelected:h,onItemTextChange:o.useCallback(b=>{u(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:t.jsx(Zr.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:t.jsx(H.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":h&&p,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:y,onFocus:I(l.onFocus,()=>v(!0)),onBlur:I(l.onBlur,()=>v(!1)),onClick:I(l.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:I(l.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:I(l.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:I(l.onPointerMove,b=>{var w;g.current=b.pointerType,a?(w=d.onItemLeave)==null||w.call(d):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(l.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:I(l.onKeyDown,b=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(vp.includes(b.key)&&j(),b.key===" "&&b.preventDefault())})})})})});Fl.displayName=Fr;var zs="SelectItemText",Ll=o.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,l=$t(zs,r),c=qt(zs,r),d=Ol(zs,r),h=jp(zs,r),[f,u]=o.useState(null),p=Z(s,j=>u(j),d.onItemTextChange,j=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,j,d.value,d.disabled)}),v=f==null?void 0:f.textContent,y=o.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=h;return it(()=>(m(y),()=>g(y)),[m,g,y]),t.jsxs(t.Fragment,{children:[t.jsx(H.span,{id:d.textId,...i,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Uo.createPortal(i.children,l.valueNode):null]})});Ll.displayName=zs;var Ul="SelectItemIndicator",$l=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return Ol(Ul,r).isSelected?t.jsx(H.span,{"aria-hidden":!0,...n,ref:s}):null});$l.displayName=Ul;var Vn="SelectScrollUpButton",ql=o.forwardRef((e,s)=>{const r=qt(Vn,e.__scopeSelect),n=Aa(Vn,e.__scopeSelect),[a,i]=o.useState(!1),l=Z(s,n.onScrollButtonChange);return it(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(Hl,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});ql.displayName=Vn;var Wn="SelectScrollDownButton",Kl=o.forwardRef((e,s)=>{const r=qt(Wn,e.__scopeSelect),n=Aa(Wn,e.__scopeSelect),[a,i]=o.useState(!1),l=Z(s,n.onScrollButtonChange);return it(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(Hl,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Kl.displayName=Wn;var Hl=o.forwardRef((e,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=qt("SelectScrollButton",r),l=o.useRef(null),c=Jr(r),d=o.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),it(()=>{var f;const h=c().find(u=>u.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),t.jsx(H.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:I(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:I(a.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:I(a.onPointerLeave,()=>{d()})})}),Ip="SelectSeparator",Bl=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return t.jsx(H.div,{"aria-hidden":!0,...n,ref:s})});Bl.displayName=Ip;var Gn="SelectArrow",Ap=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=en(r),i=$t(Gn,r),l=qt(Gn,r);return i.open&&l.position==="popper"?t.jsx(Oo,{...a,...n,ref:s}):null});Ap.displayName=Gn;var Dp="SelectBubbleInput",zl=o.forwardRef(({__scopeSelect:e,value:s,...r},n)=>{const a=o.useRef(null),i=Z(n,a),l=ya(s);return o.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&f){const u=new Event("change",{bubbles:!0});f.call(c,s),c.dispatchEvent(u)}},[l,s]),t.jsx(H.select,{...r,style:{...Od,...r.style},ref:i,defaultValue:s})});zl.displayName=Dp;function Vl(e){return e===""||e===void 0}function Wl(e){const s=Oe(e),r=o.useRef(""),n=o.useRef(0),a=o.useCallback(l=>{const c=r.current+l;s(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),i=o.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Gl(e,s,r){const a=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=r?e.indexOf(r):-1;let l=Op(e,Math.max(i,0));a.length===1&&(l=l.filter(h=>h!==r));const d=l.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function Op(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var Fp=jl,Ql=Nl,Lp=Sl,Up=El,$p=Rl,Yl=kl,qp=Tl,Xl=Dl,Zl=Fl,Kp=Ll,Hp=$l,Jl=ql,ed=Kl,td=Bl;const as=Fp,os=Lp,Ot=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Ql,{ref:n,className:U("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all duration-200",e),...r,children:[s,t.jsx(Up,{asChild:!0,children:t.jsx(ca,{className:"h-4 w-4 opacity-50"})})]}));Ot.displayName=Ql.displayName;const sd=o.forwardRef(({className:e,...s},r)=>t.jsx(Jl,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(Jo,{className:"h-4 w-4"})}));sd.displayName=Jl.displayName;const rd=o.forwardRef(({className:e,...s},r)=>t.jsx(ed,{ref:r,className:U("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(ca,{className:"h-4 w-4"})}));rd.displayName=ed.displayName;const Ft=o.forwardRef(({className:e,children:s,position:r="popper",...n},a)=>t.jsx($p,{children:t.jsxs(Yl,{ref:a,className:U("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[t.jsx(sd,{}),t.jsx(qp,{className:U("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(rd,{})]})}));Ft.displayName=Yl.displayName;const Bp=o.forwardRef(({className:e,...s},r)=>t.jsx(Xl,{ref:r,className:U("px-2 py-1.5 text-sm font-semibold",e),...s}));Bp.displayName=Xl.displayName;const ue=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Zl,{ref:n,className:U("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Hp,{children:t.jsx(yt,{className:"h-4 w-4"})})}),t.jsx(Kp,{children:s})]}));ue.displayName=Zl.displayName;const zp=o.forwardRef(({className:e,...s},r)=>t.jsx(td,{ref:r,className:U("-mx-1 my-1 h-px bg-muted",e),...s}));zp.displayName=td.displayName;function Vp({open:e,onOpenChange:s}){const r=Lt(),[n,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(null),[h,f]=o.useState(""),[u,p]=o.useState(""),[v,y]=o.useState("user"),{data:m,isLoading:g,refetch:j}=Be({queryKey:["users"],queryFn:vr.list,enabled:e}),b=at({mutationFn:E=>vr.create(E),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),M(),a(!1),G({title:"User created"})},onError:E=>{G({title:"Failed to create user",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),w=at({mutationFn:({id:E,data:T})=>vr.update(E,T),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),M(),l(null),G({title:"User updated"})},onError:E=>{G({title:"Failed to update user",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),N=at({mutationFn:E=>vr.delete(E),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),d(null),G({title:"User deleted"})},onError:E=>{G({title:"Failed to delete user",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),M=()=>{f(""),p(""),y("user")};o.useEffect(()=>{i?(f(i.username),p(""),y(i.role)):M()},[i]);const D=()=>{b.mutate({username:h,password:u,role:v})},R=()=>{if(!i)return;const E={};h!==i.username&&(E.username=h),u&&(E.password=u),v!==i.role&&(E.role=v),w.mutate({id:i.id,data:E})},S=E=>E==="admin"?t.jsxs(de,{variant:"default",className:"gap-1",children:[t.jsx(Xu,{className:"h-3 w-3"}),"Admin"]}):t.jsxs(de,{variant:"secondary",className:"gap-1",children:[t.jsx(ea,{className:"h-3 w-3"}),"User"]});return t.jsxs(t.Fragment,{children:[t.jsx(Fe,{open:e,onOpenChange:s,children:t.jsxs(Pe,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2",children:[t.jsx(Un,{className:"h-5 w-5"}),"User Management"]}),t.jsx(Ae,{children:"Manage dashboard users and their permissions."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(F,{onClick:()=>a(!0),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(F,{variant:"outline",size:"icon",onClick:()=>j(),children:t.jsx(Ut,{className:"h-4 w-4"})})]}),t.jsx(ct,{className:"h-64 rounded-md border",children:g?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(He,{className:"h-6 w-6 animate-spin"})}):!m||m.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(Un,{className:"h-8 w-8"}),t.jsx("p",{children:"No users"})]}):t.jsxs(Ds,{children:[t.jsx(Os,{children:t.jsxs(Le,{children:[t.jsx(ee,{children:"Username"}),t.jsx(ee,{children:"Role"}),t.jsx(ee,{children:"Created"}),t.jsx(ee,{className:"text-right",children:"Actions"})]})}),t.jsx(Fs,{children:m.map(E=>t.jsxs(Le,{children:[t.jsx(X,{className:"font-medium",children:E.username}),t.jsx(X,{children:S(E.role)}),t.jsx(X,{className:"text-sm text-muted-foreground",children:gt(E.created_at)}),t.jsx(X,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(E),children:t.jsx(Zu,{className:"h-4 w-4"})}),t.jsx(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(E),children:t.jsx(sr,{className:"h-4 w-4 text-destructive"})})]})})]},E.id))})]})})]})]})}),t.jsx(Fe,{open:n,onOpenChange:a,children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Create User"}),t.jsx(Ae,{children:"Add a new dashboard user."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"create-username",children:"Username"}),t.jsx(we,{id:"create-username",placeholder:"johndoe",value:h,onChange:E=>f(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"create-password",children:"Password"}),t.jsx(we,{id:"create-password",type:"password",placeholder:"",value:u,onChange:E=>p(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"create-role",children:"Role"}),t.jsxs(as,{value:v,onValueChange:E=>y(E),children:[t.jsx(Ot,{children:t.jsx(os,{})}),t.jsxs(Ft,{children:[t.jsx(ue,{value:"user",children:"User"}),t.jsx(ue,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(F,{onClick:D,disabled:!h||!u||b.isPending,children:[b.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Fe,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Edit User"}),t.jsxs(Ae,{children:['Update user "',i==null?void 0:i.username,'".']})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"edit-username",children:"Username"}),t.jsx(we,{id:"edit-username",value:h,onChange:E=>f(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"edit-password",children:"Password (leave blank to keep)"}),t.jsx(we,{id:"edit-password",type:"password",placeholder:"",value:u,onChange:E=>p(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"edit-role",children:"Role"}),t.jsxs(as,{value:v,onValueChange:E=>y(E),children:[t.jsx(Ot,{children:t.jsx(os,{})}),t.jsxs(Ft,{children:[t.jsx(ue,{value:"user",children:"User"}),t.jsx(ue,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),t.jsxs(F,{onClick:R,disabled:!h||w.isPending,children:[w.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})}),t.jsx(Xr,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(ir,{children:[t.jsxs(cr,{children:[t.jsx(dr,{children:"Delete User"}),t.jsxs(ur,{children:['Are you sure you want to delete "',c==null?void 0:c.username,'"? This action cannot be undone.']})]}),t.jsxs(lr,{children:[t.jsx(fr,{children:"Cancel"}),t.jsxs(hr,{onClick:()=>c&&N.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[N.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function Wp({open:e,onOpenChange:s}){const r=Lt(),[n,a]=o.useState(!1),[i,l]=o.useState(72),[c,d]=o.useState(null),[h,f]=o.useState(null),[u,p]=o.useState(!1),{data:v,isLoading:y,refetch:m}=Be({queryKey:["invitations"],queryFn:un.list,enabled:e}),g=at({mutationFn:R=>un.create(R),onSuccess:R=>{r.invalidateQueries({queryKey:["invitations"]}),f(R),G({title:"Invitation code created"})},onError:R=>{G({title:"Failed to create invitation code",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}}),j=at({mutationFn:R=>un.revoke(R),onSuccess:()=>{r.invalidateQueries({queryKey:["invitations"]}),d(null),G({title:"Invitation code revoked"})},onError:R=>{G({title:"Failed to revoke invitation code",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}}),b=()=>{g.mutate(i)},w=async()=>{h!=null&&h.code&&(await navigator.clipboard.writeText(h.code),p(!0),setTimeout(()=>p(!1),2e3))},N=()=>{f(null),a(!1),p(!1)},M=R=>{switch(R){case"active":return t.jsxs(de,{variant:"default",className:"gap-1 bg-green-600",children:[t.jsx(Ws,{className:"h-3 w-3"}),"Active"]});case"used":return t.jsxs(de,{variant:"secondary",className:"gap-1",children:[t.jsx(Rr,{className:"h-3 w-3"}),"Used"]});case"revoked":return t.jsxs(de,{variant:"destructive",className:"gap-1",children:[t.jsx(Mr,{className:"h-3 w-3"}),"Revoked"]});default:return t.jsx(de,{variant:"outline",children:R})}},D=R=>new Date(R)<new Date;return t.jsxs(t.Fragment,{children:[t.jsx(Fe,{open:e,onOpenChange:s,children:t.jsxs(Pe,{className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2",children:[t.jsx(Cn,{className:"h-5 w-5"}),"Invitation Codes"]}),t.jsx(Ae,{children:"Create and manage invitation codes for user registration."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(F,{onClick:()=>a(!0),children:[t.jsx(Ur,{className:"mr-2 h-4 w-4"}),"Create Code"]}),t.jsx(F,{variant:"outline",size:"icon",onClick:()=>m(),children:t.jsx(Ut,{className:"h-4 w-4"})})]}),t.jsx(ct,{className:"h-80 rounded-md border",children:y?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(He,{className:"h-6 w-6 animate-spin"})}):!v||v.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(Cn,{className:"h-8 w-8"}),t.jsx("p",{children:"No invitation codes"})]}):t.jsxs(Ds,{children:[t.jsx(Os,{children:t.jsxs(Le,{children:[t.jsx(ee,{children:"ID"}),t.jsx(ee,{children:"Status"}),t.jsx(ee,{children:"Created"}),t.jsx(ee,{children:"Expires"}),t.jsx(ee,{children:"Used By"}),t.jsx(ee,{className:"text-right",children:"Actions"})]})}),t.jsx(Fs,{children:v.map(R=>t.jsxs(Le,{children:[t.jsxs(X,{className:"font-mono text-xs",children:[R.id.slice(0,8),"..."]}),t.jsx(X,{children:R.status==="active"&&D(R.expires_at)?t.jsxs(de,{variant:"outline",className:"gap-1",children:[t.jsx(Mr,{className:"h-3 w-3"}),"Expired"]}):M(R.status)}),t.jsx(X,{className:"text-sm text-muted-foreground",children:gt(R.created_at)}),t.jsx(X,{className:"text-sm text-muted-foreground",children:gt(R.expires_at)}),t.jsx(X,{className:"font-mono text-xs text-muted-foreground",children:R.used_by?`${R.used_by.slice(0,8)}...`:"-"}),t.jsx(X,{className:"text-right",children:R.status==="active"&&!D(R.expires_at)&&t.jsx(F,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(R),children:t.jsx(_u,{className:"h-4 w-4 text-destructive"})})})]},R.id))})]})})]})]})}),t.jsx(Fe,{open:n&&!h,onOpenChange:R=>!R&&a(!1),children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Create Invitation Code"}),t.jsx(Ae,{children:"Generate a new invitation code for user registration."})]}),t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"expires-in",children:"Expires In"}),t.jsxs(as,{value:String(i),onValueChange:R=>l(Number(R)),children:[t.jsx(Ot,{children:t.jsx(os,{})}),t.jsxs(Ft,{children:[t.jsx(ue,{value:"24",children:"24 hours (1 day)"}),t.jsx(ue,{value:"48",children:"48 hours (2 days)"}),t.jsx(ue,{value:"72",children:"72 hours (3 days)"}),t.jsx(ue,{value:"168",children:"168 hours (1 week)"}),t.jsx(ue,{value:"720",children:"720 hours (30 days)"})]})]})]})}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(F,{onClick:b,disabled:g.isPending,children:[g.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Fe,{open:!!h,onOpenChange:N,children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2 text-green-600",children:[t.jsx(Rr,{className:"h-5 w-5"}),"Invitation Code Created"]}),t.jsx(Ae,{children:"Copy this code and share it with the user. This code will only be shown once."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{children:"Invitation Code"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("code",{className:"flex-1 rounded-md bg-muted px-4 py-3 font-mono text-sm break-all",children:h==null?void 0:h.code}),t.jsx(F,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:u?t.jsx(yt,{className:"h-4 w-4 text-green-600"}):t.jsx(Ps,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:t.jsxs("p",{children:["Expires: ",h&&new Date(h.expires_at).toLocaleString()]})})]}),t.jsx(lt,{children:t.jsx(F,{onClick:N,children:"Done"})})]})}),t.jsx(Xr,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(ir,{children:[t.jsxs(cr,{children:[t.jsx(dr,{children:"Revoke Invitation Code"}),t.jsx(ur,{children:"Are you sure you want to revoke this invitation code? It will no longer be usable for registration."})]}),t.jsxs(lr,{children:[t.jsx(fr,{children:"Cancel"}),t.jsxs(hr,{onClick:()=>c&&j.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[j.isPending&&t.jsx(He,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoke"]})]})]})})]})}function Gp({user:e,isConnected:s=!0,lastRefreshed:r,fetchTimeMs:n}){const{logout:a}=ia(),{theme:i,toggleTheme:l}=nh(),[c,d]=o.useState(!1),[h,f]=o.useState(!1),[u,p]=o.useState(!1),[v,y]=o.useState(!1),m=()=>{y(!0),window.location.reload()},g=()=>{window.open("/dashboard/playground.html","_blank")};return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/80 backdrop-blur-xl",children:t.jsxs("div",{className:"mx-auto flex h-16 max-w-[1600px] items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10 glow-sm",children:t.jsx(ta,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-display text-lg font-semibold tracking-tight",children:"LLM Load Balancer"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{id:"connection-status",className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),"Connection: ",s?"Online":"Offline"]}),r&&t.jsxs("span",{id:"last-refreshed",children:["Last updated: ",r.toLocaleTimeString()]}),!r&&t.jsx("span",{id:"last-refreshed",children:"Last updated: --:--:--"}),n!=null&&t.jsxs("span",{id:"refresh-metrics",children:["Fetch time: ",n,"ms"]}),n==null&&t.jsx("span",{id:"refresh-metrics",children:"Fetch time: --ms"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(F,{id:"chat-open",variant:"outline",size:"sm",onClick:g,className:"hidden sm:inline-flex",children:[t.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Playground"]}),t.jsxs(F,{id:"api-keys-button",variant:"outline",size:"sm",onClick:()=>d(!0),className:"hidden sm:inline-flex",children:[t.jsx(Pr,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(F,{id:"refresh-button",variant:"ghost",size:"icon",onClick:m,disabled:v,children:t.jsx(Ut,{className:`h-4 w-4 ${v?"animate-spin":""}`})}),t.jsx(F,{id:"theme-toggle",variant:"ghost",size:"icon",onClick:l,children:i==="dark"?t.jsx(Ju,{className:"h-4 w-4"}):t.jsx(Vu,{className:"h-4 w-4"})}),t.jsxs(gm,{children:[t.jsx(ym,{asChild:!0,children:t.jsx(F,{variant:"ghost",size:"icon",className:"relative",children:t.jsx(ea,{className:"h-4 w-4"})})}),t.jsxs(hc,{align:"end",className:"w-56",children:[t.jsx(fc,{children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.username}),t.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e==null?void 0:e.role})]})}),t.jsx(Er,{}),t.jsxs(fs,{onClick:g,className:"sm:hidden",children:[t.jsx(Ts,{className:"mr-2 h-4 w-4"}),"Playground"]}),t.jsxs(fs,{onClick:()=>d(!0),className:"sm:hidden",children:[t.jsx(Pr,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(Er,{className:"sm:hidden"}),(e==null?void 0:e.role)==="admin"&&t.jsxs(t.Fragment,{children:[t.jsxs(fs,{onClick:()=>f(!0),children:[t.jsx(Un,{className:"mr-2 h-4 w-4"}),"Manage Users"]}),t.jsxs(fs,{onClick:()=>p(!0),children:[t.jsx(Cn,{className:"mr-2 h-4 w-4"}),"Invitation Codes"]}),t.jsx(Er,{})]}),t.jsxs(fs,{onClick:a,className:"text-destructive",children:[t.jsx(zu,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]})]})}),t.jsx(pp,{open:c,onOpenChange:d}),t.jsx(Vp,{open:h,onOpenChange:f}),t.jsx(Wp,{open:u,onOpenChange:p})]})}const xo={primary:"bg-primary/10 group-hover:bg-primary/20","chart-1":"bg-chart-1/10 group-hover:bg-chart-1/20","chart-2":"bg-chart-2/10 group-hover:bg-chart-2/20","chart-3":"bg-chart-3/10 group-hover:bg-chart-3/20","chart-4":"bg-chart-4/10 group-hover:bg-chart-4/20","chart-5":"bg-chart-5/10 group-hover:bg-chart-5/20",success:"bg-success/10 group-hover:bg-success/20",warning:"bg-warning/10 group-hover:bg-warning/20",destructive:"bg-destructive/10 group-hover:bg-destructive/20"};function Qp({title:e,value:s,subtitle:r,icon:n,accentColor:a="primary",isLoading:i,delay:l=0,dataStat:c}){return t.jsx(Zt,{className:"stat-card group overflow-hidden animate-fade-up",style:{animationDelay:`${l}ms`},"data-stat":c,children:t.jsx(Jt,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i?t.jsx("div",{className:"h-8 w-24 shimmer rounded"}):t.jsx("p",{className:"text-3xl font-bold tracking-tight",children:s}),r&&!i&&t.jsx("p",{className:"text-xs text-muted-foreground",children:r})]}),t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg transition-colors ${xo[a]||xo.primary}`,children:n})]})})})}function Yp({stats:e,isLoading:s}){const r=[{title:"Total Nodes",value:e?je(e.total_nodes):"",subtitle:e?`${e.online_nodes} online, ${e.pending_nodes} pending, ${e.registering_nodes} registering, ${e.offline_nodes} offline`:void 0,icon:t.jsx(Gs,{className:"h-5 w-5 text-primary"}),accentColor:"primary",dataStat:"total-nodes"},{title:"Total Requests",value:e?je(e.total_requests):"",subtitle:e?`${je(e.successful_requests)} successful`:void 0,icon:t.jsx(Ru,{className:"h-5 w-5 text-chart-2"}),accentColor:"chart-2",dataStat:"total-requests"},{title:"Total Tokens",value:e?je(e.total_tokens):"",subtitle:e?`In: ${je(e.total_input_tokens)} / Out: ${je(e.total_output_tokens)}`:void 0,icon:t.jsx(Ts,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"total-tokens"},{title:"Active Requests",value:e?je(e.total_active_requests):"",icon:t.jsx(ta,{className:"h-5 w-5 text-chart-1"}),accentColor:"chart-1",dataStat:"active-requests"},{title:"Queued Requests",value:e?je(e.queued_requests):"",icon:t.jsx(Ku,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"queued-requests"},{title:"Success Rate",value:e&&e.total_requests>0?hn(e.successful_requests/e.total_requests*100):"",subtitle:e?`${je(e.failed_requests)} failed`:void 0,icon:e&&e.failed_requests>0?t.jsx(Mr,{className:"h-5 w-5 text-destructive"}):t.jsx(Rr,{className:"h-5 w-5 text-success"}),accentColor:e&&e.failed_requests>0?"destructive":"success",dataStat:"success-rate"},{title:"Avg Response Time",value:e?Nn(e.average_response_time_ms):"",icon:t.jsx(Ws,{className:"h-5 w-5 text-warning"}),accentColor:"warning",dataStat:"average-response-time-ms"},{title:"Avg GPU Usage",value:e?hn(e.average_gpu_usage):"",icon:t.jsx(th,{className:"h-5 w-5 text-chart-3"}),accentColor:"chart-3",dataStat:"average-gpu-usage"},{title:"Avg GPU Memory",value:e?hn(e.average_gpu_memory_usage):"",icon:t.jsx(qu,{className:"h-5 w-5 text-chart-4"}),accentColor:"chart-4",dataStat:"average-gpu-memory-usage"}];return t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:r.map((n,a)=>t.jsx(Qp,{...n,isLoading:s,delay:a*50},n.title))})}const Da=o.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{className:U("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:r,...s}));Da.displayName="Textarea";var Xp="Separator",vo="horizontal",Zp=["horizontal","vertical"],nd=o.forwardRef((e,s)=>{const{decorative:r,orientation:n=vo,...a}=e,i=Jp(n)?n:vo,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Fd.div,{"data-orientation":i,...c,...a,ref:s})});nd.displayName=Xp;function Jp(e){return Zp.includes(e)}var ad=nd;const Tt=o.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...n},a)=>t.jsx(ad,{ref:a,decorative:r,orientation:s,className:U("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Tt.displayName=ad.displayName;function ex(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function tx(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function sx({endpoint:e,open:s,onOpenChange:r}){var w,N,M,D,R;const n=Lt(),[a,i]=o.useState((e==null?void 0:e.name)||""),[l,c]=o.useState((e==null?void 0:e.notes)||""),[d,h]=o.useState(((w=e==null?void 0:e.health_check_interval_secs)==null?void 0:w.toString())||"30"),[f,u]=o.useState(((N=e==null?void 0:e.inference_timeout_secs)==null?void 0:N.toString())||"120");o.useEffect(()=>{var S,E;e&&(i(e.name||""),c(e.notes||""),h(((S=e.health_check_interval_secs)==null?void 0:S.toString())||"30"),u(((E=e.inference_timeout_secs)==null?void 0:E.toString())||"120"))},[e]);const{data:p,isLoading:v}=Be({queryKey:["endpoint-models",e==null?void 0:e.id],queryFn:()=>st.getModels(e.id),enabled:!!(e!=null&&e.id)&&s}),y=()=>{e&&(window.location.hash=`playground/${e.id}`,r(!1))},m=at({mutationFn:S=>st.update(e.id,S),onSuccess:()=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),G({title:"Update Complete",description:"Endpoint settings updated"})},onError:S=>{G({title:"Update Failed",description:String(S),variant:"destructive"})}}),g=at({mutationFn:()=>st.test(e.id),onSuccess:S=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),G({title:S.success?"Connection Successful":"Connection Failed",description:S.message||(S.latency_ms?`Latency: ${S.latency_ms}ms`:""),variant:S.success?"default":"destructive"})},onError:S=>{G({title:"Connection Test Failed",description:String(S),variant:"destructive"})}}),j=at({mutationFn:()=>st.sync(e.id),onSuccess:S=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),G({title:"Sync Complete",description:`Synced ${S.synced_models} models`})},onError:S=>{G({title:"Sync Failed",description:String(S),variant:"destructive"})}}),b=()=>{m.mutate({name:a!==(e==null?void 0:e.name)?a:void 0,notes:l!==(e==null?void 0:e.notes)?l:void 0,health_check_interval_secs:parseInt(d)!==(e==null?void 0:e.health_check_interval_secs)?parseInt(d):void 0,inference_timeout_secs:parseInt(f)!==(e==null?void 0:e.inference_timeout_secs)?parseInt(f):void 0})};return e?t.jsx(Fe,{open:s,onOpenChange:r,children:t.jsxs(Pe,{className:"max-w-2xl",children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2",children:[t.jsx(Gs,{className:"h-5 w-5"}),e.name]}),t.jsx(Ae,{children:e.base_url})]}),t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(de,{variant:ex(e.status),children:tx(e.status)}),e.supports_responses_api&&t.jsx(de,{variant:"outline",children:"Responses API"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Models: ",e.model_count]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(F,{variant:"outline",size:"sm",onClick:()=>g.mutate(),disabled:g.isPending,children:[t.jsx(si,{className:"h-4 w-4 mr-1"}),"Test Connection"]}),t.jsxs(F,{variant:"outline",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending||e.status!=="online",children:[t.jsx(Ut,{className:`h-4 w-4 mr-1 ${j.isPending?"animate-spin":""}`}),"Sync Models"]})]})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),t.jsx("span",{className:"ml-2",children:e.latency_ms!=null?`${e.latency_ms}ms`:"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Registered:"}),t.jsx("span",{className:"ml-2",children:gt(e.registered_at)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Seen:"}),t.jsx("span",{className:"ml-2",children:e.last_seen?gt(e.last_seen):"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Error Count:"}),t.jsx("span",{className:"ml-2",children:e.error_count})]})]}),e.last_error&&t.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[t.jsx(ei,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Last Error"})]}),t.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:e.last_error})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ie,{className:"flex items-center gap-2",children:[t.jsx(Pu,{className:"h-4 w-4"}),"Models (",((M=p==null?void 0:p.models)==null?void 0:M.length)||0,")"]}),t.jsxs(F,{variant:"default",size:"sm",onClick:y,disabled:e.status!=="online"||!((D=p==null?void 0:p.models)!=null&&D.length),children:[t.jsx(Ts,{className:"h-4 w-4 mr-1"}),"Open Playground"]})]}),t.jsx(ct,{className:"h-32 rounded-md border",children:t.jsx("div",{className:"p-3 space-y-2",children:v?t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(He,{className:"h-4 w-4 animate-spin text-muted-foreground"}),t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading models..."})]}):(R=p==null?void 0:p.models)!=null&&R.length?p.models.map(S=>t.jsxs("div",{className:"flex items-center justify-between text-sm py-1.5 px-2 rounded hover:bg-muted/50",children:[t.jsx("span",{className:"font-mono text-xs truncate flex-1",title:S.model_id,children:S.model_id}),S.capabilities&&S.capabilities.length>0&&t.jsx("div",{className:"flex gap-1 ml-2",children:S.capabilities.slice(0,2).map(E=>t.jsx(de,{variant:"outline",className:"text-xs",children:E},E))})]},S.model_id)):t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models available"})})})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"name",children:"Display Name"}),t.jsx(we,{id:"name",value:a,onChange:S=>i(S.target.value),placeholder:"Endpoint name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ie,{htmlFor:"healthCheckInterval",children:[t.jsx(Ws,{className:"h-4 w-4 inline mr-1"}),"Health Check Interval (sec)"]}),t.jsx(we,{id:"healthCheckInterval",type:"number",min:"5",max:"3600",value:d,onChange:S=>h(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ie,{htmlFor:"inferenceTimeout",children:[t.jsx(Ws,{className:"h-4 w-4 inline mr-1"}),"Inference Timeout (sec)"]}),t.jsx(we,{id:"inferenceTimeout",type:"number",min:"10",max:"600",value:f,onChange:S=>u(S.target.value)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{htmlFor:"notes",children:"Notes"}),t.jsx(Da,{id:"notes",value:l,onChange:S=>c(S.target.value),placeholder:"Notes about this endpoint...",rows:3})]})]})]}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>r(!1),children:"Close"}),t.jsxs(F,{onClick:b,disabled:m.isPending,children:[t.jsx(Wu,{className:"h-4 w-4 mr-1"}),m.isPending?"Saving...":"Save"]})]})]})}):null}const qs=10;function rx(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function nx(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function ax({endpoints:e,isLoading:s}){const r=Lt(),[n,a]=o.useState(""),[i,l]=o.useState("all"),[c,d]=o.useState("status"),[h,f]=o.useState("desc"),[u,p]=o.useState(1),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(!1),[w,N]=o.useState(null),[M,D]=o.useState(null),[R,S]=o.useState(!1),[E,T]=o.useState(!1),[L,z]=o.useState(null),[k,Q]=o.useState({name:"",base_url:"",api_key:"",notes:""}),se=async()=>{if(!(!k.name||!k.base_url)){T(!0),z(null);try{await st.create({name:k.name,base_url:k.base_url,api_key:k.api_key||void 0,notes:k.notes||void 0}),await r.invalidateQueries({queryKey:["dashboard-endpoints"]}),S(!1),Q({name:"",base_url:"",api_key:"",notes:""})}catch(_){console.error("Failed to create endpoint:",_),z(_ instanceof Error?_.message:"Failed to create endpoint")}finally{T(!1)}}},Y=async()=>{if(m){b(!0);try{await st.delete(m.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(_){console.error("Failed to delete endpoint:",_)}finally{b(!1),g(null)}}},K=async _=>{N(_.id);try{await st.test(_.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(ce){console.error("Failed to test endpoint:",ce)}finally{N(null)}},pe=async _=>{D(_.id);try{await st.sync(_.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(ce){console.error("Failed to sync endpoint:",ce)}finally{D(null)}},A=o.useMemo(()=>e.filter(_=>{const ce=_.name.toLowerCase().includes(n.toLowerCase())||_.base_url.toLowerCase().includes(n.toLowerCase()),O=i==="all"||_.status===i;return ce&&O}),[e,n,i]),le=o.useMemo(()=>[...A].sort((_,ce)=>{let O=0;switch(c){case"name":O=_.name.localeCompare(ce.name);break;case"status":{const J={online:0,pending:1,offline:2,error:3};O=J[_.status]-J[ce.status];break}case"latency_ms":O=(_.latency_ms??1/0)-(ce.latency_ms??1/0);break;case"model_count":O=_.model_count-ce.model_count;break;case"registered_at":O=new Date(_.registered_at).getTime()-new Date(ce.registered_at).getTime();break}return h==="asc"?O:-O}),[A,c,h]),he=o.useMemo(()=>{const _=(u-1)*qs;return le.slice(_,_+qs)},[le,u]),xe=Math.ceil(le.length/qs),Re=_=>{c===_?f(h==="asc"?"desc":"asc"):(d(_),f("desc"))},ve=({field:_})=>c!==_?null:h==="asc"?t.jsx(Jo,{className:"ml-1 h-4 w-4 inline"}):t.jsx(ca,{className:"ml-1 h-4 w-4 inline"});return s&&e.length===0?t.jsxs(Zt,{children:[t.jsx(_s,{children:t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(Gs,{className:"h-5 w-5"}),"Endpoints"]})}),t.jsx(Jt,{children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Zt,{children:[t.jsx(_s,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(Gs,{className:"h-5 w-5"}),"Endpoints",t.jsx(de,{variant:"secondary",className:"ml-2",children:A.length})]}),t.jsxs(F,{onClick:()=>S(!0),children:[t.jsx(Ur,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),t.jsxs(Jt,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Gu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(we,{placeholder:"Search by name or URL...",value:n,onChange:_=>{a(_.target.value),p(1)},className:"pl-10"})]}),t.jsxs(as,{value:i,onValueChange:_=>{l(_),p(1)},children:[t.jsx(Ot,{className:"w-[180px]",children:t.jsx(os,{placeholder:"Status"})}),t.jsxs(Ft,{children:[t.jsx(ue,{value:"all",children:"All"}),t.jsx(ue,{value:"online",children:"Online"}),t.jsx(ue,{value:"pending",children:"Pending"}),t.jsx(ue,{value:"offline",children:"Offline"}),t.jsx(ue,{value:"error",children:"Error"})]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ds,{children:[t.jsx(Os,{children:t.jsxs(Le,{children:[t.jsxs(ee,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Re("name"),children:["Name",t.jsx(ve,{field:"name"})]}),t.jsx(ee,{children:"URL"}),t.jsxs(ee,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Re("status"),children:["Status",t.jsx(ve,{field:"status"})]}),t.jsxs(ee,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>Re("latency_ms"),children:["Latency",t.jsx(ve,{field:"latency_ms"})]}),t.jsxs(ee,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>Re("model_count"),children:["Models",t.jsx(ve,{field:"model_count"})]}),t.jsx(ee,{children:"Last Seen"}),t.jsx(ee,{className:"text-right",children:"Actions"})]})}),t.jsx(Fs,{children:he.length===0?t.jsx(Le,{children:t.jsx(X,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:n||i!=="all"?"No endpoints match the filter criteria":"No endpoints registered"})}):he.map(_=>t.jsxs(Le,{children:[t.jsx(X,{className:"font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:_.name}),_.supports_responses_api&&t.jsx(de,{variant:"outline",className:"text-xs",children:"Responses API"})]})}),t.jsx(X,{children:t.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:_.base_url})}),t.jsxs(X,{children:[t.jsx(de,{variant:rx(_.status),children:nx(_.status)}),_.last_error&&t.jsxs("span",{className:"ml-2 text-xs text-destructive",children:["(",_.error_count," errors)"]})]}),t.jsx(X,{className:"text-right",children:_.latency_ms!=null?`${_.latency_ms}ms`:"-"}),t.jsx(X,{className:"text-right",children:_.model_count}),t.jsx(X,{children:_.last_seen?gt(_.last_seen):"-"}),t.jsx(X,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(F,{variant:"ghost",size:"icon",onClick:()=>y(_),title:"Details",children:t.jsx(Bu,{className:"h-4 w-4"})}),t.jsx(F,{variant:"ghost",size:"icon",onClick:()=>K(_),disabled:w===_.id,title:"Test Connection",children:t.jsx(si,{className:U("h-4 w-4",w===_.id&&"animate-pulse")})}),t.jsx(F,{variant:"ghost",size:"icon",onClick:()=>pe(_),disabled:M===_.id||_.status!=="online",title:"Sync Models",children:t.jsx(Ut,{className:U("h-4 w-4",M===_.id&&"animate-spin")})}),t.jsx(F,{variant:"ghost",size:"icon",onClick:()=>g(_),title:"Delete",children:t.jsx(sr,{className:"h-4 w-4 text-destructive"})})]})})]},_.id))})]})}),xe>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(u-1)*qs+1," -"," ",Math.min(u*qs,le.length)," of ",le.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(_=>Math.max(1,_-1)),disabled:u===1,children:t.jsx(Zo,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm",children:[u," / ",xe]}),t.jsx(F,{variant:"outline",size:"sm",onClick:()=>p(_=>Math.min(xe,_+1)),disabled:u===xe,children:t.jsx(la,{className:"h-4 w-4"})})]})]})]})]}),v&&t.jsx(sx,{endpoint:v,open:!!v,onOpenChange:_=>!_&&y(null)}),t.jsx(Xr,{open:!!m,onOpenChange:_=>!_&&g(null),children:t.jsxs(ir,{children:[t.jsxs(cr,{children:[t.jsx(dr,{children:"Delete Endpoint?"}),t.jsxs(ur,{children:['This will delete "',m==null?void 0:m.name,'". This action cannot be undone. Models associated with this endpoint will no longer be available.']})]}),t.jsxs(lr,{children:[t.jsx(fr,{disabled:j,children:"Cancel"}),t.jsx(hr,{onClick:Y,disabled:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:j?"Deleting...":"Delete"})]})]})}),t.jsx(Fe,{open:R,onOpenChange:_=>{_||(z(null),Q({name:"",base_url:"",api_key:"",notes:""})),S(_)},children:t.jsxs(Pe,{className:"sm:max-w-[500px]",children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Add New Endpoint"}),t.jsx(Ae,{children:"Register a new inference service endpoint (Ollama, vLLM, etc.)"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ie,{htmlFor:"endpoint-name",children:"Name *"}),t.jsx(we,{id:"endpoint-name",placeholder:"e.g., Production Ollama",value:k.name,onChange:_=>Q({...k,name:_.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ie,{htmlFor:"endpoint-url",children:"Base URL *"}),t.jsx(we,{id:"endpoint-url",placeholder:"e.g., http://localhost:11434",value:k.base_url,onChange:_=>Q({...k,base_url:_.target.value})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The base URL of the OpenAI-compatible API endpoint"})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ie,{htmlFor:"endpoint-api-key",children:"API Key (optional)"}),t.jsx(we,{id:"endpoint-api-key",type:"password",placeholder:"sk-...",value:k.api_key,onChange:_=>Q({...k,api_key:_.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ie,{htmlFor:"endpoint-notes",children:"Notes (optional)"}),t.jsx(we,{id:"endpoint-notes",placeholder:"Description or notes about this endpoint",value:k.notes,onChange:_=>Q({...k,notes:_.target.value})})]}),L&&t.jsx("p",{className:"text-sm text-destructive",children:L})]}),t.jsxs(lt,{children:[t.jsx(F,{variant:"outline",onClick:()=>S(!1),disabled:E,children:"Cancel"}),t.jsx(F,{onClick:se,disabled:E||!k.name||!k.base_url,children:E?"Creating...":"Create Endpoint"})]})]})})]})}var tn="Tabs",[ox]=dt(tn,[qr]),od=qr(),[ix,Oa]=ox(tn),id=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=rr(c),[u,p]=Dt({prop:n,onChange:a,defaultProp:i??"",caller:tn});return t.jsx(ix,{scope:r,baseId:ot(),value:u,onValueChange:p,orientation:l,dir:f,activationMode:d,children:t.jsx(H.div,{dir:f,"data-orientation":l,...h,ref:s})})});id.displayName=tn;var cd="TabsList",ld=o.forwardRef((e,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=Oa(cd,r),l=od(r);return t.jsx(li,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:t.jsx(H.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});ld.displayName=cd;var dd="TabsTrigger",ud=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,l=Oa(dd,r),c=od(r),d=md(l.baseId,n),h=pd(l.baseId,n),f=n===l.value;return t.jsx(di,{asChild:!0,...c,focusable:!a,active:f,children:t.jsx(H.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:I(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?l.onValueChange(n):u.preventDefault()}),onKeyDown:I(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&l.onValueChange(n)}),onFocus:I(e.onFocus,()=>{const u=l.activationMode!=="manual";!f&&!a&&u&&l.onValueChange(n)})})})});ud.displayName=dd;var hd="TabsContent",fd=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=e,c=Oa(hd,r),d=md(c.baseId,n),h=pd(c.baseId,n),f=n===c.value,u=o.useRef(f);return o.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Ue,{present:a||f,children:({present:p})=>t.jsx(H.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:h,tabIndex:0,...l,ref:s,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&i})})});fd.displayName=hd;function md(e,s){return`${e}-trigger-${s}`}function pd(e,s){return`${e}-content-${s}`}var cx=id,xd=ld,vd=ud,gd=fd;const Fa=cx,sn=o.forwardRef(({className:e,...s},r)=>t.jsx(xd,{ref:r,className:U("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));sn.displayName=xd.displayName;const rt=o.forwardRef(({className:e,...s},r)=>t.jsx(vd,{ref:r,className:U("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));rt.displayName=vd.displayName;const nt=o.forwardRef(({className:e,...s},r)=>t.jsx(gd,{ref:r,className:U("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));nt.displayName=gd.displayName;const lx=[25,50,100];function dx({history:e,isLoading:s}){var v;const[r,n]=o.useState(25),[a,i]=o.useState(1),[l,c]=o.useState(null),[d,h]=o.useState(null),f=Math.ceil(e.length/r),u=e.slice((a-1)*r,a*r),p=async(y,m)=>{try{await navigator.clipboard.writeText(y),h(m),setTimeout(()=>h(null),2e3),G({title:"Copied to clipboard"})}catch{G({title:"Failed to copy",variant:"destructive"})}};return s?t.jsxs(Zt,{children:[t.jsx(_s,{children:t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(Hs,{className:"h-5 w-5"}),"Request History"]})}),t.jsx(Jt,{children:t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((y,m)=>t.jsx("div",{className:"h-12 shimmer rounded"},m))})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Zt,{children:[t.jsx(_s,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(Hs,{className:"h-5 w-5"}),"Request History",t.jsx(de,{variant:"secondary",className:"ml-2",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),t.jsxs(as,{value:r.toString(),onValueChange:y=>{n(Number(y)),i(1)},children:[t.jsx(Ot,{id:"history-per-page",className:"w-20",children:t.jsx(os,{})}),t.jsx(Ft,{children:lx.map(y=>t.jsx(ue,{value:y.toString(),children:y},y))})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]})}),t.jsxs(Jt,{className:"px-0",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ds,{children:[t.jsx(Os,{children:t.jsxs(Le,{children:[t.jsx(ee,{children:"Time"}),t.jsx(ee,{children:"Model"}),t.jsx(ee,{children:"Node"}),t.jsx(ee,{children:"Status"}),t.jsx(ee,{children:"Duration"}),t.jsx(ee,{children:"Tokens"})]})}),t.jsx(Fs,{id:"request-history-tbody",children:u.length===0?t.jsx(Le,{children:t.jsx(X,{colSpan:6,className:"h-32 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t.jsx(Hs,{className:"h-8 w-8"}),t.jsx("p",{children:"No request history"})]})})}):u.map(y=>{var m,g;return t.jsxs(Le,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>c(y),children:[t.jsx(X,{className:"font-mono text-xs",children:gt(y.timestamp)}),t.jsx(X,{children:t.jsx(de,{variant:"secondary",children:y.model})}),t.jsx(X,{className:"text-sm",children:y.node_name||((m=y.node_id)==null?void 0:m.slice(0,8))||""}),t.jsx(X,{children:t.jsxs(de,{variant:y.status==="success"?"online":"destructive",className:"gap-1",children:[y.status==="success"?t.jsx(Rr,{className:"h-3 w-3"}):t.jsx(Mr,{className:"h-3 w-3"}),y.status]})}),t.jsx(X,{children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Ws,{className:"h-3 w-3 text-muted-foreground"}),Nn(y.duration_ms)]})}),t.jsx(X,{className:"text-sm",children:((g=y.total_tokens)==null?void 0:g.toLocaleString())||""})]},y.request_id)})})]})}),f>1&&t.jsxs("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(a-1)*r+1," to"," ",Math.min(a*r,e.length)," of ",e.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(F,{id:"history-page-prev",variant:"outline",size:"sm",onClick:()=>i(y=>Math.max(1,y-1)),disabled:a===1,children:t.jsx(Zo,{className:"h-4 w-4"})}),t.jsxs("span",{id:"history-page-info",className:"text-sm",children:["Page ",a," of ",f]}),t.jsx(F,{id:"history-page-next",variant:"outline",size:"sm",onClick:()=>i(y=>Math.min(f,y+1)),disabled:a===f,children:t.jsx(la,{className:"h-4 w-4"})})]})]})]})]}),t.jsx(Fe,{open:!!l,onOpenChange:()=>c(null),children:t.jsxs(Pe,{id:"request-modal",className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Te,{children:[t.jsxs(Ie,{className:"flex items-center gap-2",children:[t.jsx(Hs,{className:"h-5 w-5"}),"Request Details"]}),t.jsxs(Ae,{children:["Request ID: ",t.jsx("code",{className:"text-xs",children:l==null?void 0:l.request_id})]})]}),l&&t.jsxs(Fa,{defaultValue:"overview",className:"mt-4",children:[t.jsxs(sn,{className:"grid w-full grid-cols-3",children:[t.jsx(rt,{value:"overview",children:"Overview"}),t.jsx(rt,{value:"request",children:"Request"}),t.jsx(rt,{value:"response",children:"Response"})]}),t.jsxs(nt,{value:"overview",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),t.jsx(de,{variant:"secondary",children:l.model})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsx(de,{variant:l.status==="success"?"online":"destructive",children:l.status})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Node"}),t.jsx("p",{className:"text-sm",children:l.node_name||l.node_id||""})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),t.jsx("p",{className:"text-sm",children:Nn(l.duration_ms)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Timestamp"}),t.jsx("p",{className:"text-sm",children:new Date(l.timestamp).toLocaleString()})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),t.jsx("p",{className:"text-sm",children:((v=l.total_tokens)==null?void 0:v.toLocaleString())||""})]})]}),l.error&&t.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error"}),t.jsx("p",{className:"mt-1 text-sm",children:l.error})]})]}),t.jsx(nt,{value:"request",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(F,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.request_body,null,2),"request"),children:d==="request"?t.jsx(yt,{className:"h-4 w-4"}):t.jsx(Ps,{className:"h-4 w-4"})}),t.jsx(ct,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.request_body,null,2)||"No request body"})})]})}),t.jsx(nt,{value:"response",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(F,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.response_body,null,2),"response"),children:d==="response"?t.jsx(yt,{className:"h-4 w-4"}):t.jsx(Ps,{className:"h-4 w-4"})}),t.jsx(ct,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.response_body,null,2)||"No response body"})})]})})]})]})})]})}var rn="Switch",[ux]=dt(rn),[hx,fx]=ux(rn),yd=o.forwardRef((e,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:h,form:f,...u}=e,[p,v]=o.useState(null),y=Z(s,w=>v(w)),m=o.useRef(!1),g=p?f||!!p.closest("form"):!0,[j,b]=Dt({prop:a,defaultProp:i??!1,onChange:h,caller:rn});return t.jsxs(hx,{scope:r,checked:j,disabled:c,children:[t.jsx(H.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":Nd(j),"data-disabled":c?"":void 0,disabled:c,value:d,...u,ref:y,onClick:I(e.onClick,w=>{b(N=>!N),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&t.jsx(wd,{control:p,bubbles:!m.current,name:n,value:d,checked:j,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});yd.displayName=rn;var bd="SwitchThumb",jd=o.forwardRef((e,s)=>{const{__scopeSwitch:r,...n}=e,a=fx(bd,r);return t.jsx(H.span,{"data-state":Nd(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});jd.displayName=bd;var mx="SwitchBubbleInput",wd=o.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:n=!0,...a},i)=>{const l=o.useRef(null),c=Z(l,i),d=ya(r),h=Fo(s);return o.useEffect(()=>{const f=l.current;if(!f)return;const u=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(u,"checked").set;if(d!==r&&v){const y=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(y)}},[d,r,n]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wd.displayName=mx;function Nd(e){return e?"checked":"unchecked"}var Cd=yd,px=jd;const La=o.forwardRef(({className:e,...s},r)=>t.jsx(Cd,{className:U("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:r,children:t.jsx(px,{className:U("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));La.displayName=Cd.displayName;function xx({nodes:e}){const[s,r]=o.useState("all"),[n,a]=o.useState(!0),i=o.useRef(null),{data:l,refetch:c,isRefetching:d}=Be({queryKey:["router-logs"],queryFn:()=>ms.getRouterLogs({limit:200}),refetchInterval:5e3}),h=l==null?void 0:l.entries,f=h==null?void 0:h.filter(m=>s==="all"?!0:m.level.toLowerCase()===s);o.useEffect(()=>{if(n&&i.current){const m=i.current.querySelector("[data-radix-scroll-area-viewport]");m&&(m.scrollTop=m.scrollHeight)}},[f,n]);const u=()=>{c()},p=()=>{G({title:"Log clearing is handled on the server side"})},v=()=>{if(!f||f.length===0){G({title:"No logs to download",variant:"destructive"});return}const m=f.map(w=>`[${w.timestamp}] [${w.level}] ${w.target?`[${w.target}] `:""}${w.message||""}`).join(`
`),g=new Blob([m],{type:"text/plain"}),j=URL.createObjectURL(g),b=document.createElement("a");b.href=j,b.download=`logs-router-${new Date().toISOString().slice(0,10)}.txt`,b.click(),URL.revokeObjectURL(j),G({title:"Logs downloaded"})},y=m=>{const g=m.toLowerCase();return g==="error"?"text-destructive":g==="warn"||g==="warning"?"text-warning":g==="info"?"text-primary":g==="debug"?"text-muted-foreground":"text-foreground"};return t.jsxs(Zt,{children:[t.jsx(_s,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(ti,{className:"h-5 w-5"}),"Log Viewer",f&&t.jsx(de,{variant:"secondary",className:"ml-2",children:f.length})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border rounded-md bg-muted/30",children:[t.jsx(Gs,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Router"})]}),t.jsxs(as,{value:s,onValueChange:m=>r(m),children:[t.jsx(Ot,{className:"w-28",children:t.jsx(os,{})}),t.jsxs(Ft,{children:[t.jsx(ue,{value:"all",children:"All"}),t.jsx(ue,{value:"error",children:"Error"}),t.jsx(ue,{value:"warn",children:"Warn"}),t.jsx(ue,{value:"info",children:"Info"}),t.jsx(ue,{value:"debug",children:"Debug"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(La,{id:"auto-scroll",checked:n,onCheckedChange:a}),t.jsx(ie,{htmlFor:"auto-scroll",className:"text-sm",children:"Auto-scroll"})]})]})]})}),t.jsxs(Jt,{children:[t.jsxs("div",{className:"mb-4 flex gap-2",children:[t.jsxs(F,{id:"logs-router-refresh",variant:"outline",size:"sm",onClick:u,disabled:d,children:[t.jsx(Ut,{className:U("mr-2 h-4 w-4",d&&"animate-spin")}),"Refresh"]}),t.jsxs(F,{variant:"outline",size:"sm",onClick:v,children:[t.jsx(Fu,{className:"mr-2 h-4 w-4"}),"Download"]}),t.jsxs(F,{variant:"outline",size:"sm",onClick:p,children:[t.jsx(sr,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),t.jsx(ct,{className:"h-96 rounded-md border bg-muted/30",ref:i,children:t.jsx("div",{id:"logs-router-list",className:"p-4 font-mono text-xs space-y-0.5",children:!f||f.length===0?t.jsx("div",{className:"flex h-32 items-center justify-center text-muted-foreground",children:"No logs available"}):f.map((m,g)=>t.jsxs("div",{className:"flex gap-2 py-0.5 hover:bg-muted/50 rounded px-1 -mx-1",children:[t.jsx("span",{className:"text-muted-foreground shrink-0",children:new Date(m.timestamp).toLocaleTimeString()}),t.jsx("span",{className:U("uppercase w-12 shrink-0 font-semibold",y(m.level)),children:m.level}),m.target&&t.jsxs("span",{className:"text-muted-foreground shrink-0",children:["[",m.target,"]"]}),t.jsx("span",{className:"break-all",children:m.message||""})]},g))})})]})]})}function vx(){const{data:e,isLoading:s}=Be({queryKey:["token-stats-daily"],queryFn:()=>ms.getDailyTokenStats(7)}),{data:r,isLoading:n}=Be({queryKey:["token-stats-monthly"],queryFn:()=>ms.getMonthlyTokenStats(6)});return t.jsxs(Zt,{children:[t.jsx(_s,{children:t.jsxs(Ms,{className:"flex items-center gap-2",children:[t.jsx(Ts,{className:"h-5 w-5"}),"Token Statistics"]})}),t.jsx(Jt,{children:t.jsxs(Fa,{defaultValue:"daily",className:"space-y-4",children:[t.jsxs(sn,{children:[t.jsxs(rt,{value:"daily",className:"gap-2",children:[t.jsx(eh,{className:"h-4 w-4"}),"Daily"]}),t.jsxs(rt,{value:"monthly",className:"gap-2",children:[t.jsx(Tu,{className:"h-4 w-4"}),"Monthly"]})]}),t.jsx(nt,{value:"daily",children:s?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):e&&e.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Date"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),e.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.date}),t.jsx("div",{className:"text-right",children:je(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:je(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:je(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:je(a.total_tokens)})]},a.date))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No daily statistics available"})}),t.jsx(nt,{value:"monthly",children:n?t.jsx("div",{className:"space-y-2",children:[...Array(3)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):r&&r.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Month"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),r.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.month}),t.jsx("div",{className:"text-right",children:je(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:je(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:je(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:je(a.total_tokens)})]},a.month))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No monthly statistics available"})})]})})]})}function gx(){const{user:e}=ia(),{isConnected:s}=rh(),[r,n]=o.useState(null),[a,i]=o.useState(null),l=o.useRef(null),c=s?1e4:5e3,d=o.useCallback(async()=>{l.current=performance.now();const b=await ms.getOverview(),w=performance.now();return i(Math.round(w-(l.current||w))),n(new Date),b},[]),{data:h,isLoading:f,error:u,refetch:p}=Be({queryKey:["dashboard-overview"],queryFn:d,refetchInterval:c}),{data:v,isLoading:y}=Be({queryKey:["request-responses"],queryFn:()=>ms.getRequestResponses({limit:100}),refetchInterval:c}),{data:m,isLoading:g}=Be({queryKey:["dashboard-endpoints"],queryFn:()=>ms.getEndpoints(),refetchInterval:c}),j=o.useMemo(()=>v!=null&&v.records?v.records.map(b=>({request_id:b.id,timestamp:b.timestamp,model:b.model,node_id:b.node_id,node_name:b.node_machine_name,status:b.status.type,duration_ms:b.duration_ms,error:b.status.type==="error"?b.status.message:void 0,request_body:b.request_body,response_body:b.response_body})):[],[v]);return u?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:t.jsx(ei,{className:"h-8 w-8 text-destructive"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Failed to load dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u instanceof Error?u.message:"An error occurred"})]}),t.jsx("button",{onClick:()=>p(),className:"text-sm text-primary hover:underline",children:"Try again"})]})}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"fixed inset-0 bg-grid opacity-20 pointer-events-none"}),t.jsx(Gp,{user:e,isConnected:!u,lastRefreshed:r,fetchTimeMs:a}),t.jsxs("main",{className:"relative mx-auto max-w-[1600px] px-4 py-6 sm:px-6 lg:px-8",children:[t.jsx("section",{className:"mb-8",children:t.jsx(Yp,{stats:h==null?void 0:h.stats,isLoading:f})}),t.jsxs(Fa,{defaultValue:"endpoints",className:"space-y-6",children:[t.jsxs(sn,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[t.jsxs(rt,{value:"endpoints",className:"gap-2",children:[t.jsx($u,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Endpoints"})]}),t.jsxs(rt,{value:"statistics",className:"gap-2",children:[t.jsx(Iu,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Statistics"})]}),t.jsxs(rt,{value:"history",className:"gap-2",children:[t.jsx(Hs,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"History"})]}),t.jsxs(rt,{value:"logs",className:"gap-2",children:[t.jsx(ti,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Logs"})]})]}),t.jsx(nt,{value:"endpoints",className:"animate-fade-in",children:t.jsx(ax,{endpoints:m||[],isLoading:g})}),t.jsx(nt,{value:"statistics",className:"animate-fade-in",children:t.jsx(vx,{})}),t.jsx(nt,{value:"history",className:"animate-fade-in",children:t.jsx(dx,{history:j,isLoading:y})}),t.jsx(nt,{value:"logs",className:"animate-fade-in",children:t.jsx(xx,{})})]})]})]})}function go(e){switch(e){case 401:return"Invalid API key. Please check your settings.";case 403:return"Access denied to this resource.";case 404:return"API endpoint not found.";case 503:return"No available endpoints. Please start an endpoint.";case 504:return"Request timed out.";default:return`Server error occurred (HTTP ${e})`}}function yx({endpointId:e,onBack:s}){const[r,n]=o.useState([]),[a,i]=o.useState(""),[l,c]=o.useState(!1),[d,h]=o.useState(!1),[f,u]=o.useState(!1),[p,v]=o.useState(!1),[y,m]=o.useState(""),[g,j]=o.useState(""),[b,w]=o.useState(!0),[N,M]=o.useState(.7),[D,R]=o.useState(2048),[S,E]=o.useState(()=>{if(typeof window<"u"){const C=localStorage.getItem("llmlb-api-key");if(C)return C;if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return"sk_debug"}return""}),T=o.useRef(null),L=o.useRef(null),z=o.useRef(null),k=o.useRef(null),Q=o.useRef(null),[se,Y]=o.useState([]),{data:K,isLoading:pe}=Be({queryKey:["endpoint",e],queryFn:()=>st.get(e)}),{data:A,isLoading:le,error:he}=Be({queryKey:["endpoint-models",e],queryFn:()=>st.getModels(e),retry:!1});o.useEffect(()=>{if(he){let C="Failed to fetch model list";he instanceof Ld&&(C=he.message),G({title:"Error",description:C,variant:"destructive"})}},[he]),o.useEffect(()=>{A!=null&&A.models&&!y&&A.models.length>0&&m(A.models[0].model_id)},[A,y]),o.useEffect(()=>{var C;(C=T.current)==null||C.scrollIntoView({behavior:"smooth"})},[r]);const xe=C=>{E(C),localStorage.setItem("llmlb-api-key",C)},Re=()=>{n([]),Y([]),G({title:"Chat cleared"})},ve=async(C,V)=>{if(C){if(C.size>4*1024*1024){G({title:"File too large",description:"Maximum size is 4MB",variant:"destructive"});return}try{const ae=new FileReader;ae.onload=me=>{var Us;const be=(Us=me.target)==null?void 0:Us.result,De={type:V,name:C.name,data:be,mimeType:C.type};Y(mr=>[...mr,De]),G({title:`${V==="image"?"Image":"Audio"} attached`})},ae.readAsDataURL(C)}catch{G({title:"Failed to read file",variant:"destructive"})}}},_=C=>{Y(V=>V.filter((ae,me)=>me!==C))},ce=C=>{const V=/(data:image\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(png|jpg|jpeg|gif|webp))/gi,ae=/(data:audio\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(mp3|wav|ogg|m4a))/gi,me=C.match(V)||[],be=C.match(ae)||[];return{imageMatches:me,audioMatches:be}},O=async()=>{var ae,me,be,De,Us,mr,Ua,$a;if(!a.trim()&&se.length===0||!y||l)return;const C={role:"user",content:a.trim(),attachments:se.length>0?se:void 0},V=[...r,C];n(V),i(""),Y([]),c(!0),L.current=new AbortController;try{const ls=ke=>{if(!ke.attachments||ke.attachments.length===0)return{role:ke.role,content:ke.content};const $e=[];return ke.content.trim()&&$e.push({type:"text",text:ke.content}),ke.attachments.forEach(Xe=>{if(Xe.type==="image")$e.push({type:"image_url",image_url:{url:Xe.data}});else if(Xe.type==="audio"){const $s=Xe.data.startsWith("data:")?Xe.data.split(",")[1]:Xe.data;$e.push({type:"input_audio",input_audio:{data:$s,format:"wav"}})}}),{role:ke.role,content:$e}},qa=g?[{role:"system",content:g},...V.map(ls)]:V.map(ls);if(b){const ke={"Content-Type":"application/json"};S&&(ke.Authorization=`Bearer ${S}`);const $e=await fetch("/v1/chat/completions",{method:"POST",headers:ke,body:JSON.stringify({model:y,messages:qa,stream:!0,temperature:N,max_tokens:D}),signal:L.current.signal});if(!$e.ok)throw new Error(go($e.status));const Xe=(ae=$e.body)==null?void 0:ae.getReader();if(!Xe)throw new Error("No response body");const $s=new TextDecoder;let pr="";for(n(nn=>[...nn,{role:"assistant",content:""}]);;){const{done:nn,value:Sd}=await Xe.read();if(nn)break;const Ed=$s.decode(Sd,{stream:!0}).split(`
`).filter(an=>an.startsWith("data: "));for(const an of Ed){const Ka=an.slice(6);if(Ka!=="[DONE]")try{const Rd=((De=(be=(me=JSON.parse(Ka).choices)==null?void 0:me[0])==null?void 0:be.delta)==null?void 0:De.content)||"";pr+=Rd,n(kd=>{const on=[...kd];return on[on.length-1]={role:"assistant",content:pr},on})}catch{}}}}else{const ke={"Content-Type":"application/json"};S&&(ke.Authorization=`Bearer ${S}`);const $e=await fetch("/v1/chat/completions",{method:"POST",headers:ke,body:JSON.stringify({model:y,messages:qa,stream:!1,temperature:N,max_tokens:D}),signal:L.current.signal});if(!$e.ok)throw new Error(go($e.status));const $s={role:"assistant",content:((Ua=(mr=(Us=(await $e.json()).choices)==null?void 0:Us[0])==null?void 0:mr.message)==null?void 0:Ua.content)||""};n(pr=>[...pr,$s])}}catch(ls){ls.name!=="AbortError"&&(G({title:"Failed to send message",description:ls instanceof Error?ls.message:"Unknown error",variant:"destructive"}),n(r))}finally{c(!1),L.current=null,($a=z.current)==null||$a.focus()}},J=()=>{var C;(C=L.current)==null||C.abort(),c(!1)},oe=()=>{const C=g?[{role:"system",content:g},...r]:r;return`curl -X POST 'http://localhost:32768/v1/chat/completions' \\
  -H 'Content-Type: application/json' \\${S?`
  -H 'Authorization: Bearer ${S}' \\`:""}
  -d '${JSON.stringify({model:y,messages:C,stream:b,temperature:N,max_tokens:D},null,2)}'`},ne=async C=>{try{await navigator.clipboard.writeText(C),v(!0),setTimeout(()=>v(!1),2e3),G({title:"Copied to clipboard"})}catch{G({title:"Failed to copy",variant:"destructive"})}},re=(A==null?void 0:A.models)||[];return pe?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(He,{className:"h-8 w-8 animate-spin text-primary"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading endpoint..."})]})}):t.jsxs("div",{className:"flex h-screen bg-background",children:[t.jsxs("div",{className:"w-64 border-r flex flex-col",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(ta,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-semibold text-sm truncate",title:K==null?void 0:K.name,children:(K==null?void 0:K.name)||"Endpoint"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Playground"})]})]})}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"URL:"})," ",t.jsx("span",{className:"truncate block",title:K==null?void 0:K.base_url,children:K==null?void 0:K.base_url})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Status:"})," ",t.jsx(de,{variant:(K==null?void 0:K.status)==="online"?"default":"secondary",className:"text-xs",children:K==null?void 0:K.status})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Models:"})," ",re.length]})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs(F,{variant:"outline",className:"w-full justify-start",onClick:s,children:[t.jsx(ku,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),t.jsxs(F,{variant:"ghost",className:"w-full justify-start",onClick:()=>h(!0),children:[t.jsx(Yu,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"p-3 border-t",children:t.jsxs(F,{variant:"outline",size:"sm",className:"w-full",onClick:Re,children:[t.jsx(sr,{className:"mr-2 h-4 w-4"}),"Clear Chat"]})})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(as,{value:y,onValueChange:m,children:[t.jsx(Ot,{className:"w-64",children:t.jsx(os,{placeholder:"Select a model"})}),t.jsx(Ft,{children:le?t.jsx(ue,{value:"__loading__",disabled:!0,children:"Loading models..."}):re.length===0?t.jsx(ue,{value:"__no_models__",disabled:!0,children:"No models available"}):re.map(C=>t.jsx(ue,{value:C.model_id,children:C.model_id},C.model_id))})]}),t.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[t.jsx(Au,{className:U("h-3 w-3",(K==null?void 0:K.status)==="online"?"text-green-500":"text-yellow-500")}),(K==null?void 0:K.status)==="online"?"Online":K==null?void 0:K.status]}),b&&t.jsx(de,{variant:"secondary",className:"text-xs",children:"Streaming"})]}),t.jsxs(F,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[t.jsx(Ou,{className:"mr-2 h-4 w-4"}),"cURL"]})]}),t.jsx(ct,{className:"flex-1 p-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[t.jsx(Ts,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),t.jsx("h2",{className:"text-lg font-medium",children:"Start a conversation"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a model and send a message to get started."})]}):r.map((C,V)=>t.jsxs("div",{className:U("flex gap-3",C.role==="user"?"justify-end":""),children:[C.role==="assistant"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:t.jsx(Mu,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{className:U("rounded-lg px-4 py-3 max-w-[80%] space-y-2",C.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:[C.content&&t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C.content}),C.attachments&&C.attachments.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:C.attachments.map((ae,me)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:[ae.type==="image"&&t.jsx("img",{src:ae.data,alt:ae.name,className:"w-full h-32 object-cover rounded-sm"}),ae.type==="audio"&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[t.jsx(so,{className:"h-6 w-6"}),t.jsx("audio",{src:ae.data,controls:!0,className:"w-full max-w-[120px]"})]})]},me))}),C.role==="assistant"&&(()=>{const{imageMatches:ae,audioMatches:me}=ce(C.content);return t.jsxs(t.Fragment,{children:[ae.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:ae.map((be,De)=>t.jsx("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:t.jsx("img",{src:be,alt:`assistant-image-${De}`,className:"w-full h-32 object-cover rounded-sm"})},De))}),me.length>0&&t.jsx("div",{className:"space-y-2 mt-2",children:me.map((be,De)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-2 flex flex-col items-center justify-center gap-2",children:[t.jsx(so,{className:"h-4 w-4"}),t.jsx("audio",{src:be,controls:!0,className:"w-full max-w-[200px]"})]},De))})]})})()]}),C.role==="user"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:t.jsx(ea,{className:"h-4 w-4"})})]},V)),t.jsx("div",{ref:T})]})}),t.jsx("div",{className:"border-t p-4 bg-gradient-to-b from-background via-background to-muted/5",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[se.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-muted/40 border border-muted-foreground/10",children:se.map((C,V)=>t.jsxs("div",{className:"relative group inline-block rounded-md overflow-hidden bg-background border border-border",children:[C.type==="image"&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:C.data,alt:C.name,className:"h-16 w-16 object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:t.jsx("button",{onClick:()=>_(V),className:"text-white bg-destructive rounded-full p-1 hover:bg-destructive/80",children:t.jsx(wn,{className:"h-3 w-3"})})})]}),C.type==="audio"&&t.jsxs("div",{className:"h-16 w-16 flex flex-col items-center justify-center bg-muted gap-1",children:[t.jsx(to,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("button",{onClick:()=>_(V),className:"absolute -top-2 -right-2 text-white bg-destructive rounded-full p-0.5 hover:bg-destructive/80",children:t.jsx(wn,{className:"h-3 w-3"})})]})]},V))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:k,type:"file",accept:"image/*",className:"hidden",onChange:C=>{var V;return((V=C.target.files)==null?void 0:V[0])&&ve(C.target.files[0],"image")}}),t.jsx("input",{ref:Q,type:"file",accept:"audio/*",className:"hidden",onChange:C=>{var V;return((V=C.target.files)==null?void 0:V[0])&&ve(C.target.files[0],"audio")}}),t.jsx(F,{variant:"outline",size:"icon",onClick:()=>{var C;return(C=k.current)==null?void 0:C.click()},title:"Attach image",className:"shrink-0",children:t.jsx(Hu,{className:"h-4 w-4"})}),t.jsx(F,{variant:"outline",size:"icon",onClick:()=>{var C;return(C=Q.current)==null?void 0:C.click()},title:"Attach audio",className:"shrink-0",children:t.jsx(to,{className:"h-4 w-4"})}),t.jsx(we,{ref:z,placeholder:"Type a message or attach files...",value:a,onChange:C=>i(C.target.value),onKeyDown:C=>{C.key==="Enter"&&!C.shiftKey&&!C.nativeEvent.isComposing&&(C.preventDefault(),O())},onPaste:C=>{var ae;const V=(ae=C.clipboardData)==null?void 0:ae.files;if(V)for(const me of Array.from(V)){const be=me.type.startsWith("audio/")?"audio":me.type.startsWith("image/")?"image":null;be&&ve(me,be)}},disabled:l,className:"flex-1"}),l?t.jsxs(F,{variant:"destructive",onClick:J,className:"shrink-0",children:[t.jsx(Ut,{className:"mr-2 h-4 w-4 animate-spin"}),"Stop"]}):t.jsxs(F,{onClick:O,disabled:!a.trim()&&se.length===0||!y,className:"shrink-0",children:[t.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Send"]})]})]})})]}),t.jsx(Fe,{open:d,onOpenChange:h,children:t.jsxs(Pe,{children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"Settings"}),t.jsx(Ae,{children:"Configure your chat preferences."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{children:"API Key"}),t.jsx(we,{type:"password",placeholder:"sk-...",value:S,onChange:C=>xe(C.target.value)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for OpenAI compatible API authentication"})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{children:"System Prompt"}),t.jsx(Da,{placeholder:"You are a helpful assistant...",value:g,onChange:C=>j(C.target.value),rows:3})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ie,{children:"Streaming"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses as they're generated"})]}),t.jsx(La,{checked:b,onCheckedChange:w})]}),t.jsx(Tt,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ie,{children:["Temperature: ",N]}),t.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:N,onChange:C=>M(parseFloat(C.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ie,{children:"Max Tokens"}),t.jsx(we,{type:"number",value:D,onChange:C=>R(parseInt(C.target.value)||2048),min:1,max:32e3})]})]}),t.jsx(lt,{children:t.jsx(F,{onClick:()=>h(!1),children:"Done"})})]})}),t.jsx(Fe,{open:f,onOpenChange:u,children:t.jsxs(Pe,{className:"max-w-2xl",children:[t.jsxs(Te,{children:[t.jsx(Ie,{children:"cURL Command"}),t.jsx(Ae,{children:"Copy this command to replicate the API call."})]}),t.jsxs("div",{className:"relative",children:[t.jsx(F,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>ne(oe()),children:p?t.jsx(yt,{className:"h-4 w-4"}):t.jsx(Ps,{className:"h-4 w-4"})}),t.jsx(ct,{className:"h-64 rounded-md border bg-muted",children:t.jsx("pre",{className:"p-4 text-xs font-mono",children:oe()})})]}),t.jsx(lt,{children:t.jsx(F,{variant:"outline",onClick:()=>u(!1),children:"Close"})})]})})]})}function yo(){const e=window.location.hash.slice(1);if(e.startsWith("playground/")){const s=e.slice(11);if(s)return{type:"playground",endpointId:s}}return{type:"dashboard"}}function bx(){const{isLoading:e}=ia(),[s,r]=o.useState(yo),n=o.useCallback(()=>{window.location.hash="",r({type:"dashboard"})},[]);if(o.useEffect(()=>{const a=()=>{r(yo())};return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),o.useEffect(()=>{!e&&!Po()&&(window.location.href="/dashboard/login.html")},[e]),e)return t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20"}),t.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-spin rounded-full border-4 border-transparent border-t-primary"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});switch(s.type){case"playground":return t.jsx(yx,{endpointId:s.endpointId,onBack:n});case"dashboard":default:return t.jsx(gx,{})}}const jx=new uu({defaultOptions:{queries:{staleTime:5e3,refetchInterval:5e3,retry:1}}});Ud.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(hu,{client:jx,children:t.jsx(Cu,{children:t.jsxs($d,{children:[t.jsx(bx,{}),t.jsx(qd,{})]})})})}));
