import{r as o,j as t,a as Ks,R as Oc,u as qe,c as D,b as Se,d as Q,P as U,e as Be,f as jn,g as M,h as et,i as js,k as qr,l as Ee,m as wn,A as Kr,n as Nn,D as Cn,C as Br,o as Fc,p as Hr,q as zr,s as T,t as Vr,v as Lc,w as $c,X as tn,x as Uc,y as Wr,B as P,z as ze,L as J,I as he,E as $,F as Bs,G as Gr,V as qc,U as Sn,H as ss,J as Hs,K as _n,M as ue,N as zs,O as sn,Q as ct,S as lt,T as Kc,W as Ne,Y as Qr,Z as Nt,_ as Ct,$ as bt,a0 as ur,a1 as Bc,a2 as Hc,a3 as zc,a4 as Vc}from"./index-2FLPH4PM.js";import{T as nn,C as us}from"./ticket-Bp2PPfV8.js";var kt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wc={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Gc=class{#e=Wc;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,s){return this.#e.setTimeout(e,s)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,s){return this.#e.setInterval(e,s)}clearInterval(e){this.#e.clearInterval(e)}},ot=new Gc;function Qc(e){setTimeout(e,0)}var dt=typeof window>"u"||"Deno"in globalThis;function pe(){}function Yc(e,s){return typeof e=="function"?e(s):e}function rn(e){return typeof e=="number"&&e>=0&&e!==1/0}function Yr(e,s){return Math.max(e+(s||0)-Date.now(),0)}function Ze(e,s){return typeof e=="function"?e(s):e}function Me(e,s){return typeof e=="function"?e(s):e}function hr(e,s){const{type:n="all",exact:r,fetchStatus:a,predicate:i,queryKey:l,stale:c}=e;if(l){if(r){if(s.queryHash!==kn(l,s.options))return!1}else if(!Lt(s.queryKey,l))return!1}if(n!=="all"){const d=s.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||a&&a!==s.state.fetchStatus||i&&!i(s))}function fr(e,s){const{exact:n,status:r,predicate:a,mutationKey:i}=e;if(i){if(!s.options.mutationKey)return!1;if(n){if(ut(s.options.mutationKey)!==ut(i))return!1}else if(!Lt(s.options.mutationKey,i))return!1}return!(r&&s.state.status!==r||a&&!a(s))}function kn(e,s){return(s?.queryKeyHashFn||ut)(e)}function ut(e){return JSON.stringify(e,(s,n)=>an(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Lt(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(n=>Lt(e[n],s[n])):!1}var Xc=Object.prototype.hasOwnProperty;function Xr(e,s,n=0){if(e===s)return e;if(n>500)return s;const r=mr(e)&&mr(s);if(!r&&!(an(e)&&an(s)))return s;const i=(r?e:Object.keys(e)).length,l=r?s:Object.keys(s),c=l.length,d=r?new Array(c):{};let u=0;for(let h=0;h<c;h++){const f=r?h:l[h],m=e[f],x=s[f];if(m===x){d[f]=m,(r?h<i:Xc.call(e,f))&&u++;continue}if(m===null||x===null||typeof m!="object"||typeof x!="object"){d[f]=x;continue}const v=Xr(m,x,n+1);d[f]=v,v===m&&u++}return i===c&&u===i?e:d}function hs(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}function mr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function an(e){if(!pr(e))return!1;const s=e.constructor;if(s===void 0)return!0;const n=s.prototype;return!(!pr(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function pr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Zc(e){return new Promise(s=>{ot.setTimeout(s,e)})}function on(e,s,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,s):n.structuralSharing!==!1?Xr(e,s):s}function Jc(e,s,n=0){const r=[...e,s];return n&&r.length>n?r.slice(1):r}function el(e,s,n=0){const r=[s,...e];return n&&r.length>n?r.slice(0,-1):r}var En=Symbol();function Zr(e,s){return!e.queryFn&&s?.initialPromise?()=>s.initialPromise:!e.queryFn||e.queryFn===En?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Rn(e,s){return typeof e=="function"?e(...s):!!e}function tl(e,s,n){let r=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=s(),r||(r=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),e}var sl=class extends kt{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!dt&&window.addEventListener){const s=()=>e();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(s=>{s(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mn=new sl;function cn(){let e,s;const n=new Promise((a,i)=>{e=a,s=i});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),s(a)},n}var nl=Qc;function rl(){let e=[],s=0,n=c=>{c()},r=c=>{c()},a=nl;const i=c=>{s?e.push(c):a(()=>{n(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;s++;try{d=c()}finally{s--,s||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var ce=rl(),al=class extends kt{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!dt&&window.addEventListener){const s=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},fs=new al;function ol(e){return Math.min(1e3*2**e,3e4)}function Jr(e){return(e??"online")==="online"?fs.isOnline():!0}var ln=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ea(e){let s=!1,n=0,r;const a=cn(),i=()=>a.status!=="pending",l=p=>{if(!i()){const g=new ln(p);m(g),e.onCancel?.(g)}},c=()=>{s=!0},d=()=>{s=!1},u=()=>Mn.isFocused()&&(e.networkMode==="always"||fs.isOnline())&&e.canRun(),h=()=>Jr(e.networkMode)&&e.canRun(),f=p=>{i()||(r?.(),a.resolve(p))},m=p=>{i()||(r?.(),a.reject(p))},x=()=>new Promise(p=>{r=g=>{(i()||u())&&p(g)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),v=()=>{if(i())return;let p;const g=n===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(f).catch(y=>{if(i())return;const j=e.retry??(dt?0:3),C=e.retryDelay??ol,_=typeof C=="function"?C(n,y):C,N=j===!0||typeof j=="number"&&n<j||typeof j=="function"&&j(n,y);if(s||!N){m(y);return}n++,e.onFail?.(n,y),Zc(_).then(()=>u()?void 0:x()).then(()=>{s?m(y):v()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(r?.(),a),cancelRetry:c,continueRetry:d,canStart:h,start:()=>(h()?v():x().then(v),a)}}var ta=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rn(this.gcTime)&&(this.#e=ot.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(dt?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ot.clearTimeout(this.#e),this.#e=void 0)}},il=class extends ta{#e;#t;#s;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#s=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gr(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=gr(this.options);s.data!==void 0&&(this.setState(xr(s.data,s.dataUpdatedAt)),this.#e=s)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,s){const n=on(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:s?.updatedAt,manual:s?.manual}),n}setState(e,s){this.#a({type:"setState",state:e,setStateOptions:s})}cancel(e){const s=this.#n?.promise;return this.#n?.cancel(e),s?s.then(pe).catch(pe):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Me(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===En||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ze(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Yr(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(s=>s.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(s=>s.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(s=>s!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,s){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&s?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},a=()=>{const c=Zr(this.options,s),u=(()=>{const h={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(h),h})();return this.#i=!1,this.options.persister?this.options.persister(c,u,this):c(u)},l=(()=>{const c={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:a};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=ea({initialPromise:s?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof ln&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,d)=>{this.#a({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof ln){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(e){const s=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...sa(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...xr(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const a=e.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=s(this.state),ce.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function sa(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Jr(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function xr(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gr(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,n=s!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cl=class extends kt{constructor(e,s){super(),this.options=s,this.#e=e,this.#a=null,this.#i=cn(),this.bindMethods(),this.setOptions(s)}#e;#t=void 0;#s=void 0;#r=void 0;#n;#o;#i;#a;#p;#h;#f;#l;#d;#c;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vr(this.#t,this.options)?this.#u():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dn(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dn(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const s=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Me(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),s._defaulted&&!hs(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&yr(this.#t,n,this.options,s)&&this.#u(),this.updateResult(),r&&(this.#t!==n||Me(this.options.enabled,this.#t)!==Me(s.enabled,this.#t)||Ze(this.options.staleTime,this.#t)!==Ze(s.staleTime,this.#t))&&this.#x();const a=this.#g();r&&(this.#t!==n||Me(this.options.enabled,this.#t)!==Me(s.enabled,this.#t)||a!==this.#c)&&this.#v(a)}getOptimisticResult(e){const s=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(s,e);return dl(this,n)&&(this.#r=n,this.#o=this.options,this.#n=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(e,s){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),s?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#i.status==="pending"&&this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const s=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,s);return n.fetch().then(()=>this.createResult(n,s))}fetch(e){return this.#u({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#u(e){this.#w();let s=this.#t.fetch(this.options,e);return e?.throwOnError||(s=s.catch(pe)),s}#x(){this.#b();const e=Ze(this.options.staleTime,this.#t);if(dt||this.#r.isStale||!rn(e))return;const n=Yr(this.#r.dataUpdatedAt,e)+1;this.#l=ot.setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#j(),this.#c=e,!(dt||Me(this.options.enabled,this.#t)===!1||!rn(this.#c)||this.#c===0)&&(this.#d=ot.setInterval(()=>{(this.options.refetchIntervalInBackground||Mn.isFocused())&&this.#u()},this.#c))}#y(){this.#x(),this.#v(this.#g())}#b(){this.#l&&(ot.clearTimeout(this.#l),this.#l=void 0)}#j(){this.#d&&(ot.clearInterval(this.#d),this.#d=void 0)}createResult(e,s){const n=this.#t,r=this.options,a=this.#r,i=this.#n,l=this.#o,d=e!==n?e.state:this.#s,{state:u}=e;let h={...u},f=!1,m;if(s._optimisticResults){const R=this.hasListeners(),S=!R&&vr(e,s),O=R&&yr(e,n,s,r);(S||O)&&(h={...h,...sa(u.data,e.options)}),s._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:p}=h;m=h.data;let g=!1;if(s.placeholderData!==void 0&&m===void 0&&p==="pending"){let R;a?.isPlaceholderData&&s.placeholderData===l?.placeholderData?(R=a.data,g=!0):R=typeof s.placeholderData=="function"?s.placeholderData(this.#f?.state.data,this.#f):s.placeholderData,R!==void 0&&(p="success",m=on(a?.data,R,s),f=!0)}if(s.select&&m!==void 0&&!g)if(a&&m===i?.data&&s.select===this.#p)m=this.#h;else try{this.#p=s.select,m=s.select(m),m=on(a?.data,m,s),this.#h=m,this.#a=null}catch(R){this.#a=R}this.#a&&(x=this.#a,m=this.#h,v=Date.now(),p="error");const y=h.fetchStatus==="fetching",j=p==="pending",C=p==="error",_=j&&y,N=m!==void 0,w={status:p,fetchStatus:h.fetchStatus,isPending:j,isSuccess:p==="success",isError:C,isInitialLoading:_,isLoading:_,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!j,isLoadingError:C&&!N,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&N,isStale:Pn(e,s),refetch:this.refetch,promise:this.#i,isEnabled:Me(s.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const R=w.data!==void 0,S=w.status==="error"&&!R,O=E=>{S?E.reject(w.error):R&&E.resolve(w.data)},L=()=>{const E=this.#i=w.promise=cn();O(E)},K=this.#i;switch(K.status){case"pending":e.queryHash===n.queryHash&&O(K);break;case"fulfilled":(S||w.data!==K.value)&&L();break;case"rejected":(!S||w.error!==K.reason)&&L();break}}return w}updateResult(){const e=this.#r,s=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#f=this.#t),hs(s,e))return;this.#r=s;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,a=typeof r=="function"?r():r;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#r).some(l=>{const c=l;return this.#r[c]!==e[c]&&i.has(c)})};this.#N({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const s=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(s?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#N(e){ce.batch(()=>{e.listeners&&this.listeners.forEach(s=>{s(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ll(e,s){return Me(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function vr(e,s){return ll(e,s)||e.state.data!==void 0&&dn(e,s,s.refetchOnMount)}function dn(e,s,n){if(Me(s.enabled,e)!==!1&&Ze(s.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Pn(e,s)}return!1}function yr(e,s,n,r){return(e!==s||Me(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Pn(e,n)}function Pn(e,s){return Me(s.enabled,e)!==!1&&e.isStaleByTime(Ze(s.staleTime,e))}function dl(e,s){return!hs(e.getCurrentResult(),s)}function br(e){return{onFetch:(s,n)=>{const r=s.options,a=s.fetchOptions?.meta?.fetchMore?.direction,i=s.state.data?.pages||[],l=s.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let h=!1;const f=v=>{tl(v,()=>s.signal,()=>h=!0)},m=Zr(s.options,s.fetchOptions),x=async(v,p,g)=>{if(h)return Promise.reject();if(p==null&&v.pages.length)return Promise.resolve(v);const j=(()=>{const I={client:s.client,queryKey:s.queryKey,pageParam:p,direction:g?"backward":"forward",meta:s.options.meta};return f(I),I})(),C=await m(j),{maxPages:_}=s.options,N=g?el:Jc;return{pages:N(v.pages,C,_),pageParams:N(v.pageParams,p,_)}};if(a&&i.length){const v=a==="backward",p=v?ul:jr,g={pages:i,pageParams:l},y=p(r,g);c=await x(g,y,v)}else{const v=e??i.length;do{const p=d===0?l[0]??r.initialPageParam:jr(r,c);if(d>0&&p==null)break;c=await x(c,p),d++}while(d<v)}return c};s.options.persister?s.fetchFn=()=>s.options.persister?.(u,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},n):s.fetchFn=u}}}function jr(e,{pages:s,pageParams:n}){const r=s.length-1;return s.length>0?e.getNextPageParam(s[r],s,n[r],n):void 0}function ul(e,{pages:s,pageParams:n}){return s.length>0?e.getPreviousPageParam?.(s[0],s,n[0],n):void 0}var hl=class extends ta{#e;#t;#s;#r;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||na(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(s=>s!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const s=()=>{this.#n({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#r=ea({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#n({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",a=!this.#r.canStart();try{if(r)s();else{this.#n({type:"pending",variables:e,isPaused:a}),this.#s.config.onMutate&&await this.#s.config.onMutate(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#n({type:"pending",context:l,variables:e,isPaused:a})}const i=await this.#r.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#n({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,e,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onError?.(i,e,this.state.context,n)}catch(l){Promise.reject(l)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n)}catch(l){Promise.reject(l)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,n)}catch(l){Promise.reject(l)}throw this.#n({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#n(e){const s=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ce.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function na(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fl=class extends kt{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,s,n){const r=new hl({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(s),state:n});return this.add(r),r}add(e){this.#e.add(e);const s=ns(e);if(typeof s=="string"){const n=this.#t.get(s);n?n.push(e):this.#t.set(s,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const s=ns(e);if(typeof s=="string"){const n=this.#t.get(s);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(s)}}this.notify({type:"removed",mutation:e})}canRun(e){const s=ns(e);if(typeof s=="string"){const r=this.#t.get(s)?.find(a=>a.state.status==="pending");return!r||r===e}else return!0}runNext(e){const s=ns(e);return typeof s=="string"?this.#t.get(s)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ce.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const s={exact:!0,...e};return this.getAll().find(n=>fr(s,n))}findAll(e={}){return this.getAll().filter(s=>fr(e,s))}notify(e){ce.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return ce.batch(()=>Promise.all(e.map(s=>s.continue().catch(pe))))}};function ns(e){return e.options.scope?.id}var ml=class extends kt{#e;#t=void 0;#s;#r;constructor(s,n){super(),this.#e=s,this.setOptions(n),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(s){const n=this.options;this.options=this.#e.defaultMutationOptions(s),hs(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),n?.mutationKey&&this.options.mutationKey&&ut(n.mutationKey)!==ut(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(s){this.#n(),this.#o(s)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#n(),this.#o()}mutate(s,n){return this.#r=n,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(s)}#n(){const s=this.#s?.state??na();this.#t={...s,isPending:s.status==="pending",isSuccess:s.status==="success",isError:s.status==="error",isIdle:s.status==="idle",mutate:this.mutate,reset:this.reset}}#o(s){ce.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(s?.type==="success"){try{this.#r.onSuccess?.(s.data,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(s.data,null,n,r,a)}catch(i){Promise.reject(i)}}else if(s?.type==="error"){try{this.#r.onError?.(s.error,n,r,a)}catch(i){Promise.reject(i)}try{this.#r.onSettled?.(void 0,s.error,n,r,a)}catch(i){Promise.reject(i)}}}this.listeners.forEach(n=>{n(this.#t)})})}},pl=class extends kt{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,s,n){const r=s.queryKey,a=s.queryHash??kn(r,s);let i=this.get(a);return i||(i=new il({client:e,queryKey:r,queryHash:a,options:e.defaultQueryOptions(s),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=this.#e.get(e.queryHash);s&&(e.destroy(),s===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ce.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const s={exact:!0,...e};return this.getAll().find(n=>hr(s,n))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(n=>hr(e,n)):s}notify(e){ce.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){ce.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ce.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xl=class{#e;#t;#s;#r;#n;#o;#i;#a;constructor(e={}){this.#e=e.queryCache||new pl,this.#t=e.mutationCache||new fl,this.#s=e.defaultOptions||{},this.#r=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#i=Mn.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=fs.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#i?.(),this.#i=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),n=this.#e.build(this,s),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Ze(s.staleTime,n))&&this.prefetchQuery(s),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:s,state:n})=>{const r=n.data;return[s,r]})}setQueryData(e,s,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=Yc(s,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,s,n){return ce.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,s,n)]))}getQueryState(e){const s=this.defaultQueryOptions({queryKey:e});return this.#e.get(s.queryHash)?.state}removeQueries(e){const s=this.#e;ce.batch(()=>{s.findAll(e).forEach(n=>{s.remove(n)})})}resetQueries(e,s){const n=this.#e;return ce.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const n={revert:!0,...s},r=ce.batch(()=>this.#e.findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(pe).catch(pe)}invalidateQueries(e,s={}){return ce.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},s)))}refetchQueries(e,s={}){const n={...s,cancelRefetch:s.cancelRefetch??!0},r=ce.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,n);return n.throwOnError||(i=i.catch(pe)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(pe)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const n=this.#e.build(this,s);return n.isStaleByTime(Ze(s.staleTime,n))?n.fetch(s):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(pe).catch(pe)}fetchInfiniteQuery(e){return e.behavior=br(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(pe).catch(pe)}ensureInfiniteQueryData(e){return e.behavior=br(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return fs.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,s){this.#r.set(ut(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...this.#r.values()],n={};return s.forEach(r=>{Lt(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,s){this.#n.set(ut(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...this.#n.values()],n={};return s.forEach(r=>{Lt(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const s={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=kn(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===En&&(s.enabled=!1),s}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ra=o.createContext(void 0),Qe=e=>{const s=o.useContext(ra);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},gl=({client:e,children:s})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(ra.Provider,{value:e,children:s})),aa=o.createContext(!1),vl=()=>o.useContext(aa);aa.Provider;function yl(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var bl=o.createContext(yl()),jl=()=>o.useContext(bl),wl=(e,s,n)=>{const r=n?.state.error&&typeof e.throwOnError=="function"?Rn(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(s.isReset()||(e.retryOnMount=!1))},Nl=e=>{o.useEffect(()=>{e.clearReset()},[e])},Cl=({result:e,errorResetBoundary:s,throwOnError:n,query:r,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&r&&(a&&e.data===void 0||Rn(n,[e.error,r])),Sl=e=>{if(e.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...a)=>n(r(...a)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},_l=(e,s)=>e.isLoading&&e.isFetching&&!s,kl=(e,s)=>e?.suspense&&s.isPending,wr=(e,s,n)=>s.fetchOptimistic(e).catch(()=>{n.clearReset()});function El(e,s,n){const r=vl(),a=jl(),i=Qe(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=r?"isRestoring":"optimistic",Sl(l),wl(l,a,c),Nl(a);const d=!i.getQueryCache().get(l.queryHash),[u]=o.useState(()=>new s(i,l)),h=u.getOptimisticResult(l),f=!r&&e.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(m=>{const x=f?u.subscribe(ce.batchCalls(m)):pe;return u.updateResult(),x},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),o.useEffect(()=>{u.setOptions(l)},[l,u]),kl(l,h))throw wr(l,u,a);if(Cl({result:h,errorResetBoundary:a,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw h.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!dt&&_l(h,r)&&(d?wr(l,u,a):c?.promise)?.catch(pe).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?h:u.trackResult(h)}function _e(e,s){return El(e,cl)}function Ae(e,s){const n=Qe(),[r]=o.useState(()=>new ml(n,e));o.useEffect(()=>{r.setOptions(e)},[r,e]);const a=o.useSyncExternalStore(o.useCallback(l=>r.subscribe(ce.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=o.useCallback((l,c)=>{r.mutate(l,c).catch(pe)},[r]);if(a.error&&Rn(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const oa=o.createContext(null);function Rl({children:e}){const[s,n]=o.useState(null),[r,a]=o.useState(!0),i=o.useCallback(async()=>{try{const d=await Ks.me();n(d)}catch{n(null)}finally{a(!1)}},[]),l=o.useCallback(async(d,u)=>{await Ks.login(d,u),await i()},[i]),c=o.useCallback(async()=>{await Ks.logout(),n(null),window.location.href="/dashboard/login.html"},[]);return o.useEffect(()=>{i()},[i]),t.jsx(oa.Provider,{value:{user:s,isLoading:r,isLoggedIn:!!s,login:l,logout:c,checkAuth:i},children:e})}function Tn(){const e=o.useContext(oa);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var Ml=Oc[" useId ".trim().toString()]||(()=>{}),Pl=0;function Ue(e){const[s,n]=o.useState(Ml());return qe(()=>{n(r=>r??String(Pl++))},[e]),s?`radix-${s}`:""}const Tl=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Il=D("activity",Tl);const Al=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Dl=D("arrow-left",Al);const Ol=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fl=D("ban",Ol);const Ll=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],$l=D("bot",Ll);const Ul=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ql=D("box",Ul);const Kl=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bl=D("calendar",Kl);const Hl=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],zl=D("chart-column",Hl);const Vl=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ve=D("check",Vl);const Wl=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],In=D("chevron-down",Wl);const Gl=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ia=D("chevron-left",Gl);const Ql=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],An=D("chevron-right",Ql);const Yl=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ca=D("chevron-up",Yl);const Xl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],la=D("circle-alert",Xl);const Zl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],Nr=D("circle-arrow-up",Zl);const Jl=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ed=D("circle-check-big",Jl);const td=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],sd=D("circle-dot",td);const nd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$t=D("circle-x",nd);const rd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ad=D("circle",rd);const od=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ut=D("clock",od);const id=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],cd=D("code",id);const ld=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],St=D("copy",ld);const dd=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Dn=D("download",dd);const ud=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],hd=D("external-link",ud);const fd=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],md=D("eye-off",fd);const pd=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xd=D("eye",pd);const gd=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],da=D("file-text",gd);const vd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yd=D("globe",vd);const bd=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],jd=D("hard-drive",bd);const wd=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],At=D("history",wd);const Nd=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Cd=D("hourglass",Nd);const Sd=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_d=D("image",Sd);const kd=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ed=D("info",kd);const Rd=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ms=D("key",Rd);const Md=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],me=D("loader-circle",Md);const Pd=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Td=D("log-out",Pd);const Id=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],ws=D("message-square",Id);const Ad=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Cr=D("mic",Ad);const Dd=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Od=D("moon",Dd);const Fd=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ua=D("play",Fd);const Ld=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ns=D("plus",Ld);const $d=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nt=D("refresh-cw",$d);const Ud=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qd=D("save",Ud);const Kd=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Bd=D("search",Kd);const Hd=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],zd=D("send",Hd);const Vd=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],qt=D("server",Vd);const Wd=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Gd=D("settings",Wd);const Qd=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yd=D("shield",Qd);const Xd=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Zd=D("square-pen",Xd);const Jd=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],eu=D("sun",Jd);const tu=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ht=D("trash-2",tu);const su=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nu=D("trending-up",su);const ru=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],un=D("users",ru);const au=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Sr=D("volume-2",au);const ou=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],iu=D("zap",ou);function cu(e={}){const{onMessage:s,onConnect:n,onDisconnect:r,reconnectInterval:a=3e3}=e,i=Qe(),l=o.useRef(null),c=o.useRef(null),[d,u]=o.useState(!1),[h,f]=o.useState(null),m=o.useCallback(()=>{const p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/dashboard`;try{const g=new WebSocket(p);l.current=g,g.onopen=()=>{u(!0),n?.()},g.onmessage=y=>{try{const j=JSON.parse(y.data);switch(f(j),s?.(j),j.type){case"NodeRegistered":case"NodeRemoved":case"NodeStatusChanged":i.invalidateQueries({queryKey:["dashboard-overview"]}),i.invalidateQueries({queryKey:["request-responses"]});break;case"MetricsUpdated":i.invalidateQueries({queryKey:["dashboard-overview"]});break}}catch(j){console.error("Failed to parse WebSocket message:",j)}},g.onclose=()=>{u(!1),r?.(),l.current=null,c.current&&clearTimeout(c.current),c.current=setTimeout(m,a)},g.onerror=y=>{console.error("WebSocket error:",y),g.close()}}catch(g){console.error("Failed to create WebSocket:",g),c.current=setTimeout(m,a)}},[s,n,r,a,i]),x=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),l.current&&(l.current.close(),l.current=null),u(!1)},[]);return o.useEffect(()=>(m(),()=>{x()}),[m,x]),{isConnected:d,lastEvent:h,reconnect:m,disconnect:x}}function lu(){const{isConnected:e,lastEvent:s,reconnect:n}=cu({onConnect:()=>{console.log("Dashboard WebSocket connected")},onDisconnect:()=>{console.log("Dashboard WebSocket disconnected")}});return{isConnected:e,lastEvent:s,reconnect:n}}const Vs="llmlb-theme";function du(){const[e,s]=o.useState(()=>{if(typeof window>"u")return"dark";const r=localStorage.getItem(Vs);return r==="light"||r==="dark"?r:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});o.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem(Vs,e)},[e]),o.useEffect(()=>{const r=window.matchMedia("(prefers-color-scheme: dark)"),a=i=>{localStorage.getItem(Vs)||s(i.matches?"dark":"light")};return r.addEventListener("change",a),()=>r.removeEventListener("change",a)},[]);const n=o.useCallback(()=>{s(r=>r==="dark"?"light":"dark")},[]);return{theme:e,setTheme:s,toggleTheme:n}}var uu=o.createContext(void 0);function zt(e){const s=o.useContext(uu);return e||s||"ltr"}var Ws=0;function On(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_r()),document.body.insertAdjacentElement("beforeend",e[1]??_r()),Ws++,()=>{Ws===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Ws--}},[])}function _r(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gs="focusScope.autoFocusOnMount",Qs="focusScope.autoFocusOnUnmount",kr={bubbles:!1,cancelable:!0},hu="FocusScope",Cs=o.forwardRef((e,s)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[c,d]=o.useState(null),u=Se(a),h=Se(i),f=o.useRef(null),m=Q(s,p=>d(p)),x=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(r){let p=function(C){if(x.paused||!c)return;const _=C.target;c.contains(_)?f.current=_:Xe(f.current,{select:!0})},g=function(C){if(x.paused||!c)return;const _=C.relatedTarget;_!==null&&(c.contains(_)||Xe(f.current,{select:!0}))},y=function(C){if(document.activeElement===document.body)for(const N of C)N.removedNodes.length>0&&Xe(c)};document.addEventListener("focusin",p),document.addEventListener("focusout",g);const j=new MutationObserver(y);return c&&j.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",g),j.disconnect()}}},[r,c,x.paused]),o.useEffect(()=>{if(c){Rr.add(x);const p=document.activeElement;if(!c.contains(p)){const y=new CustomEvent(Gs,kr);c.addEventListener(Gs,u),c.dispatchEvent(y),y.defaultPrevented||(fu(vu(ha(c)),{select:!0}),document.activeElement===p&&Xe(c))}return()=>{c.removeEventListener(Gs,u),setTimeout(()=>{const y=new CustomEvent(Qs,kr);c.addEventListener(Qs,h),c.dispatchEvent(y),y.defaultPrevented||Xe(p??document.body,{select:!0}),c.removeEventListener(Qs,h),Rr.remove(x)},0)}}},[c,u,h,x]);const v=o.useCallback(p=>{if(!n&&!r||x.paused)return;const g=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(g&&y){const j=p.currentTarget,[C,_]=mu(j);C&&_?!p.shiftKey&&y===_?(p.preventDefault(),n&&Xe(C,{select:!0})):p.shiftKey&&y===C&&(p.preventDefault(),n&&Xe(_,{select:!0})):y===j&&p.preventDefault()}},[n,r,x.paused]);return t.jsx(U.div,{tabIndex:-1,...l,ref:m,onKeyDown:v})});Cs.displayName=hu;function fu(e,{select:s=!1}={}){const n=document.activeElement;for(const r of e)if(Xe(r,{select:s}),document.activeElement!==n)return}function mu(e){const s=ha(e),n=Er(s,e),r=Er(s.reverse(),e);return[n,r]}function ha(e){const s=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)s.push(n.currentNode);return s}function Er(e,s){for(const n of e)if(!pu(n,{upTo:s}))return n}function pu(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function xu(e){return e instanceof HTMLInputElement&&"select"in e}function Xe(e,{select:s=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&xu(e)&&s&&e.select()}}var Rr=gu();function gu(){let e=[];return{add(s){const n=e[0];s!==n&&n?.pause(),e=Mr(e,s),e.unshift(s)},remove(s){e=Mr(e,s),e[0]?.resume()}}}function Mr(e,s){const n=[...e],r=n.indexOf(s);return r!==-1&&n.splice(r,1),n}function vu(e){return e.filter(s=>s.tagName!=="A")}var Ys="rovingFocusGroup.onEntryFocus",yu={bubbles:!1,cancelable:!0},Vt="RovingFocusGroup",[hn,fa,bu]=jn(Vt),[ju,Ss]=Be(Vt,[bu]),[wu,Nu]=ju(Vt),ma=o.forwardRef((e,s)=>t.jsx(hn.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(hn.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Cu,{...e,ref:s})})}));ma.displayName=Vt;var Cu=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...f}=e,m=o.useRef(null),x=Q(s,m),v=zt(i),[p,g]=et({prop:l,defaultProp:c??null,onChange:d,caller:Vt}),[y,j]=o.useState(!1),C=Se(u),_=fa(n),N=o.useRef(!1),[I,w]=o.useState(0);return o.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(Ys,C),()=>R.removeEventListener(Ys,C)},[C]),t.jsx(wu,{scope:n,orientation:r,dir:v,loop:a,currentTabStopId:p,onItemFocus:o.useCallback(R=>g(R),[g]),onItemShiftTab:o.useCallback(()=>j(!0),[]),onFocusableItemAdd:o.useCallback(()=>w(R=>R+1),[]),onFocusableItemRemove:o.useCallback(()=>w(R=>R-1),[]),children:t.jsx(U.div,{tabIndex:y||I===0?-1:0,"data-orientation":r,...f,ref:x,style:{outline:"none",...e.style},onMouseDown:M(e.onMouseDown,()=>{N.current=!0}),onFocus:M(e.onFocus,R=>{const S=!N.current;if(R.target===R.currentTarget&&S&&!y){const O=new CustomEvent(Ys,yu);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=_().filter(B=>B.focusable),K=L.find(B=>B.active),E=L.find(B=>B.id===p),F=[K,E,...L].filter(Boolean).map(B=>B.ref.current);ga(F,h)}}N.current=!1}),onBlur:M(e.onBlur,()=>j(!1))})})}),pa="RovingFocusGroupItem",xa=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:i,children:l,...c}=e,d=Ue(),u=i||d,h=Nu(pa,n),f=h.currentTabStopId===u,m=fa(n),{onFocusableItemAdd:x,onFocusableItemRemove:v,currentTabStopId:p}=h;return o.useEffect(()=>{if(r)return x(),()=>v()},[r,x,v]),t.jsx(hn.ItemSlot,{scope:n,id:u,focusable:r,active:a,children:t.jsx(U.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...c,ref:s,onMouseDown:M(e.onMouseDown,g=>{r?h.onItemFocus(u):g.preventDefault()}),onFocus:M(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:M(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){h.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const y=ku(g,h.orientation,h.dir);if(y!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let C=m().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")C.reverse();else if(y==="prev"||y==="next"){y==="prev"&&C.reverse();const _=C.indexOf(g.currentTarget);C=h.loop?Eu(C,_+1):C.slice(_+1)}setTimeout(()=>ga(C))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:p!=null}):l})})});xa.displayName=pa;var Su={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function _u(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ku(e,s,n){const r=_u(e.key,n);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Su[r]}function ga(e,s=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:s}),document.activeElement!==n))return}function Eu(e,s){return e.map((n,r)=>e[(s+r)%e.length])}var va=ma,ya=xa,Ru=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},gt=new WeakMap,rs=new WeakMap,as={},Xs=0,ba=function(e){return e&&(e.host||ba(e.parentNode))},Mu=function(e,s){return s.map(function(n){if(e.contains(n))return n;var r=ba(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Pu=function(e,s,n,r){var a=Mu(s,Array.isArray(e)?e:[e]);as[n]||(as[n]=new WeakMap);var i=as[n],l=[],c=new Set,d=new Set(a),u=function(f){!f||c.has(f)||(c.add(f),u(f.parentNode))};a.forEach(u);var h=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(m){if(c.has(m))h(m);else try{var x=m.getAttribute(r),v=x!==null&&x!=="false",p=(gt.get(m)||0)+1,g=(i.get(m)||0)+1;gt.set(m,p),i.set(m,g),l.push(m),p===1&&v&&rs.set(m,!0),g===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return h(s),c.clear(),Xs++,function(){l.forEach(function(f){var m=gt.get(f)-1,x=i.get(f)-1;gt.set(f,m),i.set(f,x),m||(rs.has(f)||f.removeAttribute(r),rs.delete(f)),x||f.removeAttribute(n)}),Xs--,Xs||(gt=new WeakMap,gt=new WeakMap,rs=new WeakMap,as={})}},Fn=function(e,s,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Ru(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),Pu(r,a,n,"aria-hidden")):function(){return null}},Fe=function(){return Fe=Object.assign||function(s){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Fe.apply(this,arguments)};function ja(e,s){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&s.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function Tu(e,s,n){if(n||arguments.length===2)for(var r=0,a=s.length,i;r<a;r++)(i||!(r in s))&&(i||(i=Array.prototype.slice.call(s,0,r)),i[r]=s[r]);return e.concat(i||Array.prototype.slice.call(s))}var cs="right-scroll-bar-position",ls="width-before-scroll-bar",Iu="with-scroll-bars-hidden",Au="--removed-body-scroll-bar-size";function Zs(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function Du(e,s){var n=o.useState(function(){return{value:e,callback:s,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=s,n.facade}var Ou=typeof window<"u"?o.useLayoutEffect:o.useEffect,Pr=new WeakMap;function Fu(e,s){var n=Du(null,function(r){return e.forEach(function(a){return Zs(a,r)})});return Ou(function(){var r=Pr.get(n);if(r){var a=new Set(r),i=new Set(e),l=n.current;a.forEach(function(c){i.has(c)||Zs(c,null)}),i.forEach(function(c){a.has(c)||Zs(c,l)})}Pr.set(n,e)},[e]),n}function Lu(e){return e}function $u(e,s){s===void 0&&(s=Lu);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=s(i,r);return n.push(l),function(){n=n.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(c){return i(c)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var c=n;n=[],c.forEach(i),l=n}var d=function(){var h=l;l=[],h.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),n={push:function(h){l.push(h),u()},filter:function(h){return l=l.filter(h),n}}}};return a}function Uu(e){e===void 0&&(e={});var s=$u(null);return s.options=Fe({async:!0,ssr:!1},e),s}var wa=function(e){var s=e.sideCar,n=ja(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=s.read();if(!r)throw new Error("Sidecar medium not found");return o.createElement(r,Fe({},n))};wa.isSideCarExport=!0;function qu(e,s){return e.useMedium(s),wa}var Na=Uu(),Js=function(){},_s=o.forwardRef(function(e,s){var n=o.useRef(null),r=o.useState({onScrollCapture:Js,onWheelCapture:Js,onTouchMoveCapture:Js}),a=r[0],i=r[1],l=e.forwardProps,c=e.children,d=e.className,u=e.removeScrollBar,h=e.enabled,f=e.shards,m=e.sideCar,x=e.noRelative,v=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,j=y===void 0?"div":y,C=e.gapMode,_=ja(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,I=Fu([n,s]),w=Fe(Fe({},_),a);return o.createElement(o.Fragment,null,h&&o.createElement(N,{sideCar:Na,removeScrollBar:u,shards:f,noRelative:x,noIsolation:v,inert:p,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:C}),l?o.cloneElement(o.Children.only(c),Fe(Fe({},w),{ref:I})):o.createElement(j,Fe({},w,{className:d,ref:I}),c))});_s.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_s.classNames={fullWidth:ls,zeroRight:cs};var Ku=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=Ku();return s&&e.setAttribute("nonce",s),e}function Hu(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function zu(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var Vu=function(){var e=0,s=null;return{add:function(n){e==0&&(s=Bu())&&(Hu(s,n),zu(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Wu=function(){var e=Vu();return function(s,n){o.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&n])}},Ca=function(){var e=Wu(),s=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return s},Gu={left:0,top:0,right:0,gap:0},en=function(e){return parseInt(e||"",10)||0},Qu=function(e){var s=window.getComputedStyle(document.body),n=s[e==="padding"?"paddingLeft":"marginLeft"],r=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[en(n),en(r),en(a)]},Yu=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Gu;var s=Qu(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,r-n+s[2]-s[0])}},Xu=Ca(),jt="data-scroll-locked",Zu=function(e,s,n,r){var a=e.left,i=e.top,l=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Iu,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(jt,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cs,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ls,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(cs," .").concat(cs,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ls," .").concat(ls,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(jt,`] {
    `).concat(Au,": ").concat(c,`px;
  }
`)},Tr=function(){var e=parseInt(document.body.getAttribute(jt)||"0",10);return isFinite(e)?e:0},Ju=function(){o.useEffect(function(){return document.body.setAttribute(jt,(Tr()+1).toString()),function(){var e=Tr()-1;e<=0?document.body.removeAttribute(jt):document.body.setAttribute(jt,e.toString())}},[])},eh=function(e){var s=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Ju();var i=o.useMemo(function(){return Yu(a)},[a]);return o.createElement(Xu,{styles:Zu(i,!s,a,n?"":"!important")})},fn=!1;if(typeof window<"u")try{var os=Object.defineProperty({},"passive",{get:function(){return fn=!0,!0}});window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{fn=!1}var vt=fn?{passive:!1}:!1,th=function(e){return e.tagName==="TEXTAREA"},Sa=function(e,s){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[s]!=="hidden"&&!(n.overflowY===n.overflowX&&!th(e)&&n[s]==="visible")},sh=function(e){return Sa(e,"overflowY")},nh=function(e){return Sa(e,"overflowX")},Ir=function(e,s){var n=s.ownerDocument,r=s;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=_a(e,r);if(a){var i=ka(e,r),l=i[1],c=i[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},rh=function(e){var s=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[s,n,r]},ah=function(e){var s=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[s,n,r]},_a=function(e,s){return e==="v"?sh(s):nh(s)},ka=function(e,s){return e==="v"?rh(s):ah(s)},oh=function(e,s){return e==="h"&&s==="rtl"?-1:1},ih=function(e,s,n,r,a){var i=oh(e,window.getComputedStyle(s).direction),l=i*r,c=n.target,d=s.contains(c),u=!1,h=l>0,f=0,m=0;do{if(!c)break;var x=ka(e,c),v=x[0],p=x[1],g=x[2],y=p-g-i*v;(v||y)&&_a(e,c)&&(f+=y,m+=v);var j=c.parentNode;c=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!d&&c!==document.body||d&&(s.contains(c)||s===c));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(u=!0),u},is=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ar=function(e){return[e.deltaX,e.deltaY]},Dr=function(e){return e&&"current"in e?e.current:e},ch=function(e,s){return e[0]===s[0]&&e[1]===s[1]},lh=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dh=0,yt=[];function uh(e){var s=o.useRef([]),n=o.useRef([0,0]),r=o.useRef(),a=o.useState(dh++)[0],i=o.useState(Ca)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Tu([e.lockRef.current],(e.shards||[]).map(Dr),!0).filter(Boolean);return p.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(p,g){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!l.current.allowPinchZoom;var y=is(p),j=n.current,C="deltaX"in p?p.deltaX:j[0]-y[0],_="deltaY"in p?p.deltaY:j[1]-y[1],N,I=p.target,w=Math.abs(C)>Math.abs(_)?"h":"v";if("touches"in p&&w==="h"&&I.type==="range")return!1;var R=window.getSelection(),S=R&&R.anchorNode,O=S?S===I||S.contains(I):!1;if(O)return!1;var L=Ir(w,I);if(!L)return!0;if(L?N=w:(N=w==="v"?"h":"v",L=Ir(w,I)),!L)return!1;if(!r.current&&"changedTouches"in p&&(C||_)&&(r.current=N),!N)return!0;var K=r.current||N;return ih(K,g,p,K==="h"?C:_)},[]),d=o.useCallback(function(p){var g=p;if(!(!yt.length||yt[yt.length-1]!==i)){var y="deltaY"in g?Ar(g):is(g),j=s.current.filter(function(N){return N.name===g.type&&(N.target===g.target||g.target===N.shadowParent)&&ch(N.delta,y)})[0];if(j&&j.should){g.cancelable&&g.preventDefault();return}if(!j){var C=(l.current.shards||[]).map(Dr).filter(Boolean).filter(function(N){return N.contains(g.target)}),_=C.length>0?c(g,C[0]):!l.current.noIsolation;_&&g.cancelable&&g.preventDefault()}}},[]),u=o.useCallback(function(p,g,y,j){var C={name:p,delta:g,target:y,should:j,shadowParent:hh(y)};s.current.push(C),setTimeout(function(){s.current=s.current.filter(function(_){return _!==C})},1)},[]),h=o.useCallback(function(p){n.current=is(p),r.current=void 0},[]),f=o.useCallback(function(p){u(p.type,Ar(p),p.target,c(p,e.lockRef.current))},[]),m=o.useCallback(function(p){u(p.type,is(p),p.target,c(p,e.lockRef.current))},[]);o.useEffect(function(){return yt.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",d,vt),document.addEventListener("touchmove",d,vt),document.addEventListener("touchstart",h,vt),function(){yt=yt.filter(function(p){return p!==i}),document.removeEventListener("wheel",d,vt),document.removeEventListener("touchmove",d,vt),document.removeEventListener("touchstart",h,vt)}},[]);var x=e.removeScrollBar,v=e.inert;return o.createElement(o.Fragment,null,v?o.createElement(i,{styles:lh(a)}):null,x?o.createElement(eh,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function hh(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const fh=qu(Na,uh);var ks=o.forwardRef(function(e,s){return o.createElement(_s,Fe({},e,{ref:s,sideCar:fh}))});ks.classNames=_s.classNames;var mn=["Enter"," "],mh=["ArrowDown","PageUp","Home"],Ea=["ArrowUp","PageDown","End"],ph=[...mh,...Ea],xh={ltr:[...mn,"ArrowRight"],rtl:[...mn,"ArrowLeft"]},gh={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wt="Menu",[Kt,vh,yh]=jn(Wt),[pt,Ra]=Be(Wt,[yh,js,Ss]),Es=js(),Ma=Ss(),[bh,xt]=pt(Wt),[jh,Gt]=pt(Wt),Pa=e=>{const{__scopeMenu:s,open:n=!1,children:r,dir:a,onOpenChange:i,modal:l=!0}=e,c=Es(s),[d,u]=o.useState(null),h=o.useRef(!1),f=Se(i),m=zt(a);return o.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),t.jsx(Hr,{...c,children:t.jsx(bh,{scope:s,open:n,onOpenChange:f,content:d,onContentChange:u,children:t.jsx(jh,{scope:s,onClose:o.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:l,children:r})})})};Pa.displayName=Wt;var wh="MenuAnchor",Ln=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=Es(n);return t.jsx(Kr,{...a,...r,ref:s})});Ln.displayName=wh;var $n="MenuPortal",[Nh,Ta]=pt($n,{forceMount:void 0}),Ia=e=>{const{__scopeMenu:s,forceMount:n,children:r,container:a}=e,i=xt($n,s);return t.jsx(Nh,{scope:s,forceMount:n,children:t.jsx(Ee,{present:n||i.open,children:t.jsx(wn,{asChild:!0,container:a,children:r})})})};Ia.displayName=$n;var Pe="MenuContent",[Ch,Un]=pt(Pe),Aa=o.forwardRef((e,s)=>{const n=Ta(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=xt(Pe,e.__scopeMenu),l=Gt(Pe,e.__scopeMenu);return t.jsx(Kt.Provider,{scope:e.__scopeMenu,children:t.jsx(Ee,{present:r||i.open,children:t.jsx(Kt.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(Sh,{...a,ref:s}):t.jsx(_h,{...a,ref:s})})})})}),Sh=o.forwardRef((e,s)=>{const n=xt(Pe,e.__scopeMenu),r=o.useRef(null),a=Q(s,r);return o.useEffect(()=>{const i=r.current;if(i)return Fn(i)},[]),t.jsx(qn,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:M(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_h=o.forwardRef((e,s)=>{const n=xt(Pe,e.__scopeMenu);return t.jsx(qn,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),kh=Nn("MenuContent.ScrollLock"),qn=o.forwardRef((e,s)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:x,disableOutsideScroll:v,...p}=e,g=xt(Pe,n),y=Gt(Pe,n),j=Es(n),C=Ma(n),_=vh(n),[N,I]=o.useState(null),w=o.useRef(null),R=Q(s,w,g.onContentChange),S=o.useRef(0),O=o.useRef(""),L=o.useRef(0),K=o.useRef(null),E=o.useRef("right"),q=o.useRef(0),F=v?ks:o.Fragment,B=v?{as:kh,allowPinchZoom:!0}:void 0,re=A=>{const je=O.current+A,oe=_().filter(b=>!b.disabled),le=document.activeElement,Re=oe.find(b=>b.ref.current===le)?.textValue,de=oe.map(b=>b.textValue),we=$h(de,je,Re),ie=oe.find(b=>b.textValue===we)?.ref.current;(function b(H){O.current=H,window.clearTimeout(S.current),H!==""&&(S.current=window.setTimeout(()=>b(""),1e3))})(je),ie&&setTimeout(()=>ie.focus())};o.useEffect(()=>()=>window.clearTimeout(S.current),[]),On();const ae=o.useCallback(A=>E.current===K.current?.side&&qh(A,K.current?.area),[]);return t.jsx(Ch,{scope:n,searchRef:O,onItemEnter:o.useCallback(A=>{ae(A)&&A.preventDefault()},[ae]),onItemLeave:o.useCallback(A=>{ae(A)||(w.current?.focus(),I(null))},[ae]),onTriggerLeave:o.useCallback(A=>{ae(A)&&A.preventDefault()},[ae]),pointerGraceTimerRef:L,onPointerGraceIntentChange:o.useCallback(A=>{K.current=A},[]),children:t.jsx(F,{...B,children:t.jsx(Cs,{asChild:!0,trapped:a,onMountAutoFocus:M(i,A=>{A.preventDefault(),w.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(Cn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:x,children:t.jsx(va,{asChild:!0,...C,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:N,onCurrentTabStopIdChange:I,onEntryFocus:M(d,A=>{y.isUsingKeyboardRef.current||A.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Br,{role:"menu","aria-orientation":"vertical","data-state":Ya(g.open),"data-radix-menu-content":"",dir:y.dir,...j,...p,ref:R,style:{outline:"none",...p.style},onKeyDown:M(p.onKeyDown,A=>{const oe=A.target.closest("[data-radix-menu-content]")===A.currentTarget,le=A.ctrlKey||A.altKey||A.metaKey,Re=A.key.length===1;oe&&(A.key==="Tab"&&A.preventDefault(),!le&&Re&&re(A.key));const de=w.current;if(A.target!==de||!ph.includes(A.key))return;A.preventDefault();const ie=_().filter(b=>!b.disabled).map(b=>b.ref.current);Ea.includes(A.key)&&ie.reverse(),Fh(ie)}),onBlur:M(e.onBlur,A=>{A.currentTarget.contains(A.target)||(window.clearTimeout(S.current),O.current="")}),onPointerMove:M(e.onPointerMove,Bt(A=>{const je=A.target,oe=q.current!==A.clientX;if(A.currentTarget.contains(je)&&oe){const le=A.clientX>q.current?"right":"left";E.current=le,q.current=A.clientX}}))})})})})})})});Aa.displayName=Pe;var Eh="MenuGroup",Kn=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(U.div,{role:"group",...r,ref:s})});Kn.displayName=Eh;var Rh="MenuLabel",Da=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(U.div,{...r,ref:s})});Da.displayName=Rh;var ps="MenuItem",Or="menu.itemSelect",Rs=o.forwardRef((e,s)=>{const{disabled:n=!1,onSelect:r,...a}=e,i=o.useRef(null),l=Gt(ps,e.__scopeMenu),c=Un(ps,e.__scopeMenu),d=Q(s,i),u=o.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(Or,{bubbles:!0,cancelable:!0});f.addEventListener(Or,x=>r?.(x),{once:!0}),Fc(f,m),m.defaultPrevented?u.current=!1:l.onClose()}};return t.jsx(Oa,{...a,ref:d,disabled:n,onClick:M(e.onClick,h),onPointerDown:f=>{e.onPointerDown?.(f),u.current=!0},onPointerUp:M(e.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:M(e.onKeyDown,f=>{const m=c.searchRef.current!=="";n||m&&f.key===" "||mn.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Rs.displayName=ps;var Oa=o.forwardRef((e,s)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...i}=e,l=Un(ps,n),c=Ma(n),d=o.useRef(null),u=Q(s,d),[h,f]=o.useState(!1),[m,x]=o.useState("");return o.useEffect(()=>{const v=d.current;v&&x((v.textContent??"").trim())},[i.children]),t.jsx(Kt.ItemSlot,{scope:n,disabled:r,textValue:a??m,children:t.jsx(ya,{asChild:!0,...c,focusable:!r,children:t.jsx(U.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:u,onPointerMove:M(e.onPointerMove,Bt(v=>{r?l.onItemLeave(v):(l.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:M(e.onPointerLeave,Bt(v=>l.onItemLeave(v))),onFocus:M(e.onFocus,()=>f(!0)),onBlur:M(e.onBlur,()=>f(!1))})})})}),Mh="MenuCheckboxItem",Fa=o.forwardRef((e,s)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return t.jsx(Ka,{scope:e.__scopeMenu,checked:n,children:t.jsx(Rs,{role:"menuitemcheckbox","aria-checked":xs(n)?"mixed":n,...a,ref:s,"data-state":Hn(n),onSelect:M(a.onSelect,()=>r?.(xs(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Fa.displayName=Mh;var La="MenuRadioGroup",[Ph,Th]=pt(La,{value:void 0,onValueChange:()=>{}}),$a=o.forwardRef((e,s)=>{const{value:n,onValueChange:r,...a}=e,i=Se(r);return t.jsx(Ph,{scope:e.__scopeMenu,value:n,onValueChange:i,children:t.jsx(Kn,{...a,ref:s})})});$a.displayName=La;var Ua="MenuRadioItem",qa=o.forwardRef((e,s)=>{const{value:n,...r}=e,a=Th(Ua,e.__scopeMenu),i=n===a.value;return t.jsx(Ka,{scope:e.__scopeMenu,checked:i,children:t.jsx(Rs,{role:"menuitemradio","aria-checked":i,...r,ref:s,"data-state":Hn(i),onSelect:M(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});qa.displayName=Ua;var Bn="MenuItemIndicator",[Ka,Ih]=pt(Bn,{checked:!1}),Ba=o.forwardRef((e,s)=>{const{__scopeMenu:n,forceMount:r,...a}=e,i=Ih(Bn,n);return t.jsx(Ee,{present:r||xs(i.checked)||i.checked===!0,children:t.jsx(U.span,{...a,ref:s,"data-state":Hn(i.checked)})})});Ba.displayName=Bn;var Ah="MenuSeparator",Ha=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e;return t.jsx(U.div,{role:"separator","aria-orientation":"horizontal",...r,ref:s})});Ha.displayName=Ah;var Dh="MenuArrow",za=o.forwardRef((e,s)=>{const{__scopeMenu:n,...r}=e,a=Es(n);return t.jsx(zr,{...a,...r,ref:s})});za.displayName=Dh;var Oh="MenuSub",[$p,Va]=pt(Oh),Dt="MenuSubTrigger",Wa=o.forwardRef((e,s)=>{const n=xt(Dt,e.__scopeMenu),r=Gt(Dt,e.__scopeMenu),a=Va(Dt,e.__scopeMenu),i=Un(Dt,e.__scopeMenu),l=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},h=o.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return o.useEffect(()=>h,[h]),o.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),t.jsx(Ln,{asChild:!0,...u,children:t.jsx(Oa,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Ya(n.open),...e,ref:qr(s,a.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:M(e.onPointerMove,Bt(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:M(e.onPointerLeave,Bt(f=>{h();const m=n.content?.getBoundingClientRect();if(m){const x=n.content?.dataset.side,v=x==="right",p=v?-5:5,g=m[v?"left":"right"],y=m[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+p,y:f.clientY},{x:g,y:m.top},{x:y,y:m.top},{x:y,y:m.bottom},{x:g,y:m.bottom}],side:x}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:M(e.onKeyDown,f=>{const m=i.searchRef.current!=="";e.disabled||m&&f.key===" "||xh[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});Wa.displayName=Dt;var Ga="MenuSubContent",Qa=o.forwardRef((e,s)=>{const n=Ta(Pe,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,i=xt(Pe,e.__scopeMenu),l=Gt(Pe,e.__scopeMenu),c=Va(Ga,e.__scopeMenu),d=o.useRef(null),u=Q(s,d);return t.jsx(Kt.Provider,{scope:e.__scopeMenu,children:t.jsx(Ee,{present:r||i.open,children:t.jsx(Kt.Slot,{scope:e.__scopeMenu,children:t.jsx(qn,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:u,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{l.isUsingKeyboardRef.current&&d.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:M(e.onFocusOutside,h=>{h.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:M(e.onEscapeKeyDown,h=>{l.onClose(),h.preventDefault()}),onKeyDown:M(e.onKeyDown,h=>{const f=h.currentTarget.contains(h.target),m=gh[l.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),c.trigger?.focus(),h.preventDefault())})})})})})});Qa.displayName=Ga;function Ya(e){return e?"open":"closed"}function xs(e){return e==="indeterminate"}function Hn(e){return xs(e)?"indeterminate":e?"checked":"unchecked"}function Fh(e){const s=document.activeElement;for(const n of e)if(n===s||(n.focus(),document.activeElement!==s))return}function Lh(e,s){return e.map((n,r)=>e[(s+r)%e.length])}function $h(e,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let l=Lh(e,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Uh(e,s){const{x:n,y:r}=e;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],d=s[l],u=c.x,h=c.y,f=d.x,m=d.y;h>r!=m>r&&n<(f-u)*(r-h)/(m-h)+u&&(a=!a)}return a}function qh(e,s){if(!s)return!1;const n={x:e.clientX,y:e.clientY};return Uh(n,s)}function Bt(e){return s=>s.pointerType==="mouse"?e(s):void 0}var Kh=Pa,Bh=Ln,Hh=Ia,zh=Aa,Vh=Kn,Wh=Da,Gh=Rs,Qh=Fa,Yh=$a,Xh=qa,Zh=Ba,Jh=Ha,ef=za,tf=Wa,sf=Qa,Ms="DropdownMenu",[nf]=Be(Ms,[Ra]),be=Ra(),[rf,Xa]=nf(Ms),Za=e=>{const{__scopeDropdownMenu:s,children:n,dir:r,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,d=be(s),u=o.useRef(null),[h,f]=et({prop:a,defaultProp:i??!1,onChange:l,caller:Ms});return t.jsx(rf,{scope:s,triggerId:Ue(),triggerRef:u,contentId:Ue(),open:h,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(m=>!m),[f]),modal:c,children:t.jsx(Kh,{...d,open:h,onOpenChange:f,dir:r,modal:c,children:n})})};Za.displayName=Ms;var Ja="DropdownMenuTrigger",eo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,i=Xa(Ja,n),l=be(n);return t.jsx(Bh,{asChild:!0,...l,children:t.jsx(U.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:qr(s,i.triggerRef),onPointerDown:M(e.onPointerDown,c=>{!r&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:M(e.onKeyDown,c=>{r||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});eo.displayName=Ja;var af="DropdownMenuPortal",to=e=>{const{__scopeDropdownMenu:s,...n}=e,r=be(s);return t.jsx(Hh,{...r,...n})};to.displayName=af;var so="DropdownMenuContent",no=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=Xa(so,n),i=be(n),l=o.useRef(!1);return t.jsx(zh,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...r,ref:s,onCloseAutoFocus:M(e.onCloseAutoFocus,c=>{l.current||a.triggerRef.current?.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:M(e.onInteractOutside,c=>{const d=c.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,h=d.button===2||u;(!a.modal||h)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});no.displayName=so;var of="DropdownMenuGroup",cf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Vh,{...a,...r,ref:s})});cf.displayName=of;var lf="DropdownMenuLabel",ro=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Wh,{...a,...r,ref:s})});ro.displayName=lf;var df="DropdownMenuItem",ao=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Gh,{...a,...r,ref:s})});ao.displayName=df;var uf="DropdownMenuCheckboxItem",oo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Qh,{...a,...r,ref:s})});oo.displayName=uf;var hf="DropdownMenuRadioGroup",ff=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Yh,{...a,...r,ref:s})});ff.displayName=hf;var mf="DropdownMenuRadioItem",io=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Xh,{...a,...r,ref:s})});io.displayName=mf;var pf="DropdownMenuItemIndicator",co=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Zh,{...a,...r,ref:s})});co.displayName=pf;var xf="DropdownMenuSeparator",lo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(Jh,{...a,...r,ref:s})});lo.displayName=xf;var gf="DropdownMenuArrow",vf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(ef,{...a,...r,ref:s})});vf.displayName=gf;var yf="DropdownMenuSubTrigger",uo=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(tf,{...a,...r,ref:s})});uo.displayName=yf;var bf="DropdownMenuSubContent",ho=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:n,...r}=e,a=be(n);return t.jsx(sf,{...a,...r,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ho.displayName=bf;var jf=Za,wf=eo,Nf=to,fo=no,mo=ro,po=ao,xo=oo,go=io,vo=co,yo=lo,bo=uo,jo=ho;const Cf=jf,Sf=wf,_f=o.forwardRef(({className:e,inset:s,children:n,...r},a)=>t.jsxs(bo,{ref:a,className:T("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...r,children:[n,t.jsx(An,{className:"ml-auto"})]}));_f.displayName=bo.displayName;const kf=o.forwardRef(({className:e,...s},n)=>t.jsx(jo,{ref:n,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));kf.displayName=jo.displayName;const wo=o.forwardRef(({className:e,sideOffset:s=4,...n},r)=>t.jsx(Nf,{children:t.jsx(fo,{ref:r,sideOffset:s,className:T("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));wo.displayName=fo.displayName;const Ot=o.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(po,{ref:r,className:T("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",e),...n}));Ot.displayName=po.displayName;const Ef=o.forwardRef(({className:e,children:s,checked:n,...r},a)=>t.jsxs(xo,{ref:a,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(vo,{children:t.jsx(Ve,{className:"h-4 w-4"})})}),s]}));Ef.displayName=xo.displayName;const Rf=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(go,{ref:r,className:T("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(vo,{children:t.jsx(ad,{className:"h-2 w-2 fill-current"})})}),s]}));Rf.displayName=go.displayName;const No=o.forwardRef(({className:e,inset:s,...n},r)=>t.jsx(mo,{ref:r,className:T("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...n}));No.displayName=mo.displayName;const ds=o.forwardRef(({className:e,...s},n)=>t.jsx(yo,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...s}));ds.displayName=yo.displayName;function zn(e){const s=o.useRef({value:e,previous:e});return o.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Ps="Checkbox",[Mf]=Be(Ps),[Pf,Vn]=Mf(Ps);function Tf(e){const{__scopeCheckbox:s,checked:n,children:r,defaultChecked:a,disabled:i,form:l,name:c,onCheckedChange:d,required:u,value:h="on",internal_do_not_use_render:f}=e,[m,x]=et({prop:n,defaultProp:a??!1,onChange:d,caller:Ps}),[v,p]=o.useState(null),[g,y]=o.useState(null),j=o.useRef(!1),C=v?!!l||!!v.closest("form"):!0,_={checked:m,disabled:i,setChecked:x,control:v,setControl:p,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:j,required:u,defaultChecked:Je(a)?!1:a,isFormControl:C,bubbleInput:g,setBubbleInput:y};return t.jsx(Pf,{scope:s,..._,children:If(f)?f(_):r})}var Co="CheckboxTrigger",So=o.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...r},a)=>{const{control:i,value:l,disabled:c,checked:d,required:u,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:x,bubbleInput:v}=Vn(Co,e),p=Q(a,h),g=o.useRef(d);return o.useEffect(()=>{const y=i?.form;if(y){const j=()=>f(g.current);return y.addEventListener("reset",j),()=>y.removeEventListener("reset",j)}},[i,f]),t.jsx(U.button,{type:"button",role:"checkbox","aria-checked":Je(d)?"mixed":d,"aria-required":u,"data-state":Mo(d),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:p,onKeyDown:M(s,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:M(n,y=>{f(j=>Je(j)?!0:!j),v&&x&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})})});So.displayName=Co;var Wn=o.forwardRef((e,s)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:u,form:h,...f}=e;return t.jsx(Tf,{__scopeCheckbox:n,checked:a,defaultChecked:i,disabled:c,required:l,onCheckedChange:u,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:m})=>t.jsxs(t.Fragment,{children:[t.jsx(So,{...f,ref:s,__scopeCheckbox:n}),m&&t.jsx(Ro,{__scopeCheckbox:n})]})})});Wn.displayName=Ps;var _o="CheckboxIndicator",ko=o.forwardRef((e,s)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,i=Vn(_o,n);return t.jsx(Ee,{present:r||Je(i.checked)||i.checked===!0,children:t.jsx(U.span,{"data-state":Mo(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});ko.displayName=_o;var Eo="CheckboxBubbleInput",Ro=o.forwardRef(({__scopeCheckbox:e,...s},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:c,disabled:d,name:u,value:h,form:f,bubbleInput:m,setBubbleInput:x}=Vn(Eo,e),v=Q(n,x),p=zn(i),g=Vr(r);o.useEffect(()=>{const j=m;if(!j)return;const C=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(C,"checked").set,I=!a.current;if(p!==i&&N){const w=new Event("click",{bubbles:I});j.indeterminate=Je(i),N.call(j,Je(i)?!1:i),j.dispatchEvent(w)}},[m,p,i,a]);const y=o.useRef(Je(i)?!1:i);return t.jsx(U.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??y.current,required:c,disabled:d,name:u,value:h,form:f,...s,tabIndex:-1,ref:v,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Ro.displayName=Eo;function If(e){return typeof e=="function"}function Je(e){return e==="indeterminate"}function Mo(e){return Je(e)?"indeterminate":e?"checked":"unchecked"}const Po=o.forwardRef(({className:e,...s},n)=>t.jsx(Wn,{ref:n,className:T("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(ko,{className:T("flex items-center justify-center text-current"),children:t.jsx(Ve,{className:"h-4 w-4"})})}));Po.displayName=Wn.displayName;const Af=Lc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning",online:"border-transparent bg-success/20 text-success",offline:"border-transparent bg-destructive/20 text-destructive",pending:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function ee({className:e,variant:s,...n}){return t.jsx("div",{className:T(Af({variant:s}),e),...n})}function pn(e,[s,n]){return Math.min(n,Math.max(s,e))}function Df(e,s){return o.useReducer((n,r)=>s[n][r]??n,e)}var Gn="ScrollArea",[To]=Be(Gn),[Of,Te]=To(Gn),Io=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:i=600,...l}=e,[c,d]=o.useState(null),[u,h]=o.useState(null),[f,m]=o.useState(null),[x,v]=o.useState(null),[p,g]=o.useState(null),[y,j]=o.useState(0),[C,_]=o.useState(0),[N,I]=o.useState(!1),[w,R]=o.useState(!1),S=Q(s,L=>d(L)),O=zt(a);return t.jsx(Of,{scope:n,type:r,dir:O,scrollHideDelay:i,scrollArea:c,viewport:u,onViewportChange:h,content:f,onContentChange:m,scrollbarX:x,onScrollbarXChange:v,scrollbarXEnabled:N,onScrollbarXEnabledChange:I,scrollbarY:p,onScrollbarYChange:g,scrollbarYEnabled:w,onScrollbarYEnabledChange:R,onCornerWidthChange:j,onCornerHeightChange:_,children:t.jsx(U.div,{dir:O,...l,ref:S,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});Io.displayName=Gn;var Ao="ScrollAreaViewport",Do=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,children:r,nonce:a,...i}=e,l=Te(Ao,n),c=o.useRef(null),d=Q(s,c,l.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(U.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Do.displayName=Ao;var He="ScrollAreaScrollbar",Qn=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,c=e.orientation==="horizontal";return o.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),a.type==="hover"?t.jsx(Ff,{...r,ref:s,forceMount:n}):a.type==="scroll"?t.jsx(Lf,{...r,ref:s,forceMount:n}):a.type==="auto"?t.jsx(Oo,{...r,ref:s,forceMount:n}):a.type==="always"?t.jsx(Yn,{...r,ref:s}):null});Qn.displayName=He;var Ff=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),[i,l]=o.useState(!1);return o.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const u=()=>{window.clearTimeout(d),l(!0)},h=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",u),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",u),c.removeEventListener("pointerleave",h)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Ee,{present:n||i,children:t.jsx(Oo,{"data-state":i?"visible":"hidden",...r,ref:s})})}),Lf=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Te(He,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Is(()=>d("SCROLL_END"),100),[c,d]=Df("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const u=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[c,a.scrollHideDelay,d]),o.useEffect(()=>{const u=a.viewport,h=i?"scrollLeft":"scrollTop";if(u){let f=u[h];const m=()=>{const x=u[h];f!==x&&(d("SCROLL"),l()),f=x};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[a.viewport,i,d,l]),t.jsx(Ee,{present:n||c!=="hidden",children:t.jsx(Yn,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:s,onPointerEnter:M(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:M(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),Oo=o.forwardRef((e,s)=>{const n=Te(He,e.__scopeScrollArea),{forceMount:r,...a}=e,[i,l]=o.useState(!1),c=e.orientation==="horizontal",d=Is(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;l(c?u:h)}},10);return _t(n.viewport,d),_t(n.content,d),t.jsx(Ee,{present:r||i,children:t.jsx(Yn,{"data-state":i?"visible":"hidden",...a,ref:s})})}),Yn=o.forwardRef((e,s)=>{const{orientation:n="vertical",...r}=e,a=Te(He,e.__scopeScrollArea),i=o.useRef(null),l=o.useRef(0),[c,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=qo(c.viewport,c.content),h={...r,sizes:c,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function f(m,x){return Hf(m,l.current,c,x)}return n==="horizontal"?t.jsx($f,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollLeft,x=Fr(m,c,a.dir);i.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollLeft=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollLeft=f(m,a.dir))}}):n==="vertical"?t.jsx(Uf,{...h,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const m=a.viewport.scrollTop,x=Fr(m,c);i.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:m=>{a.viewport&&(a.viewport.scrollTop=m)},onDragScroll:m=>{a.viewport&&(a.viewport.scrollTop=f(m))}}):null}),$f=o.forwardRef((e,s)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Te(He,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),u=Q(s,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(Lo,{"data-orientation":"horizontal",...a,ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ts(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+h.deltaX;e.onWheelScroll(m),Bo(m,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:vs(l.paddingLeft),paddingEnd:vs(l.paddingRight)}})}})}),Uf=o.forwardRef((e,s)=>{const{sizes:n,onSizesChange:r,...a}=e,i=Te(He,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),u=Q(s,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(Lo,{"data-orientation":"vertical",...a,ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ts(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,f)=>{if(i.viewport){const m=i.viewport.scrollTop+h.deltaY;e.onWheelScroll(m),Bo(m,f)&&h.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:vs(l.paddingTop),paddingEnd:vs(l.paddingBottom)}})}})}),[qf,Fo]=To(He),Lo=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:f,...m}=e,x=Te(He,n),[v,p]=o.useState(null),g=Q(s,S=>p(S)),y=o.useRef(null),j=o.useRef(""),C=x.viewport,_=r.content-r.viewport,N=Se(h),I=Se(d),w=Is(f,10);function R(S){if(y.current){const O=S.clientX-y.current.left,L=S.clientY-y.current.top;u({x:O,y:L})}}return o.useEffect(()=>{const S=O=>{const L=O.target;v?.contains(L)&&N(O,_)};return document.addEventListener("wheel",S,{passive:!1}),()=>document.removeEventListener("wheel",S,{passive:!1})},[C,v,_,N]),o.useEffect(I,[r,I]),_t(v,w),_t(x.content,w),t.jsx(qf,{scope:n,scrollbar:v,hasThumb:a,onThumbChange:Se(i),onThumbPointerUp:Se(l),onThumbPositionChange:I,onThumbPointerDown:Se(c),children:t.jsx(U.div,{...m,ref:g,style:{position:"absolute",...m.style},onPointerDown:M(e.onPointerDown,S=>{S.button===0&&(S.target.setPointerCapture(S.pointerId),y.current=v.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),R(S))}),onPointerMove:M(e.onPointerMove,R),onPointerUp:M(e.onPointerUp,S=>{const O=S.target;O.hasPointerCapture(S.pointerId)&&O.releasePointerCapture(S.pointerId),document.body.style.webkitUserSelect=j.current,x.viewport&&(x.viewport.style.scrollBehavior=""),y.current=null})})})}),gs="ScrollAreaThumb",$o=o.forwardRef((e,s)=>{const{forceMount:n,...r}=e,a=Fo(gs,e.__scopeScrollArea);return t.jsx(Ee,{present:n||a.hasThumb,children:t.jsx(Kf,{ref:s,...r})})}),Kf=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,style:r,...a}=e,i=Te(gs,n),l=Fo(gs,n),{onThumbPositionChange:c}=l,d=Q(s,f=>l.onThumbChange(f)),u=o.useRef(void 0),h=Is(()=>{u.current&&(u.current(),u.current=void 0)},100);return o.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(h(),!u.current){const x=zf(f,c);u.current=x,c()}};return c(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,h,c]),t.jsx(U.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:M(e.onPointerDownCapture,f=>{const x=f.target.getBoundingClientRect(),v=f.clientX-x.left,p=f.clientY-x.top;l.onThumbPointerDown({x:v,y:p})}),onPointerUp:M(e.onPointerUp,l.onThumbPointerUp)})});$o.displayName=gs;var Xn="ScrollAreaCorner",Uo=o.forwardRef((e,s)=>{const n=Te(Xn,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?t.jsx(Bf,{...e,ref:s}):null});Uo.displayName=Xn;var Bf=o.forwardRef((e,s)=>{const{__scopeScrollArea:n,...r}=e,a=Te(Xn,n),[i,l]=o.useState(0),[c,d]=o.useState(0),u=!!(i&&c);return _t(a.scrollbarX,()=>{const h=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(h),d(h)}),_t(a.scrollbarY,()=>{const h=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(h),l(h)}),u?t.jsx(U.div,{...r,ref:s,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vs(e){return e?parseInt(e,10):0}function qo(e,s){const n=e/s;return isNaN(n)?0:n}function Ts(e){const s=qo(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*s;return Math.max(r,18)}function Hf(e,s,n,r="ltr"){const a=Ts(n),i=a/2,l=s||i,c=a-l,d=n.scrollbar.paddingStart+l,u=n.scrollbar.size-n.scrollbar.paddingEnd-c,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return Ko([d,u],f)(e)}function Fr(e,s,n="ltr"){const r=Ts(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,c=i-r,d=n==="ltr"?[0,l]:[l*-1,0],u=pn(e,d);return Ko([0,l],[0,c])(u)}function Ko(e,s){return n=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const r=(s[1]-s[0])/(e[1]-e[0]);return s[0]+r*(n-e[0])}}function Bo(e,s){return e>0&&e<s}var zf=(e,s=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,c=n.top!==i.top;(l||c)&&s(),n=i,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function Is(e,s){const n=Se(e),r=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),o.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,s)},[n,s])}function _t(e,s){const n=Se(s);qe(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var Ho=Io,Vf=Do,Wf=Uo;const Ke=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(Ho,{ref:r,className:T("relative overflow-hidden",e),...n,children:[t.jsx(Vf,{className:"h-full w-full rounded-[inherit]",children:s}),t.jsx(zo,{}),t.jsx(Wf,{})]}));Ke.displayName=Ho.displayName;const zo=o.forwardRef(({className:e,orientation:s="vertical",...n},r)=>t.jsx(Qn,{ref:r,orientation:s,className:T("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:t.jsx($o,{className:"relative flex-1 rounded-full bg-border"})}));zo.displayName=Qn.displayName;var As="Dialog",[Vo,Wo]=Be(As),[Gf,Oe]=Vo(As),Go=e=>{const{__scopeDialog:s,children:n,open:r,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),d=o.useRef(null),[u,h]=et({prop:r,defaultProp:a??!1,onChange:i,caller:As});return t.jsx(Gf,{scope:s,triggerRef:c,contentRef:d,contentId:Ue(),titleId:Ue(),descriptionId:Ue(),open:u,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(f=>!f),[h]),modal:l,children:n})};Go.displayName=As;var Qo="DialogTrigger",Yo=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(Qo,n),i=Q(s,a.triggerRef);return t.jsx(U.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":er(a.open),...r,ref:i,onClick:M(e.onClick,a.onOpenToggle)})});Yo.displayName=Qo;var Zn="DialogPortal",[Qf,Xo]=Vo(Zn,{forceMount:void 0}),Zo=e=>{const{__scopeDialog:s,forceMount:n,children:r,container:a}=e,i=Oe(Zn,s);return t.jsx(Qf,{scope:s,forceMount:n,children:o.Children.map(r,l=>t.jsx(Ee,{present:n||i.open,children:t.jsx(wn,{asChild:!0,container:a,children:l})}))})};Zo.displayName=Zn;var ys="DialogOverlay",Jo=o.forwardRef((e,s)=>{const n=Xo(ys,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Oe(ys,e.__scopeDialog);return i.modal?t.jsx(Ee,{present:r||i.open,children:t.jsx(Xf,{...a,ref:s})}):null});Jo.displayName=ys;var Yf=Nn("DialogOverlay.RemoveScroll"),Xf=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ys,n);return t.jsx(ks,{as:Yf,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(U.div,{"data-state":er(a.open),...r,ref:s,style:{pointerEvents:"auto",...r.style}})})}),ht="DialogContent",ei=o.forwardRef((e,s)=>{const n=Xo(ht,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,i=Oe(ht,e.__scopeDialog);return t.jsx(Ee,{present:r||i.open,children:i.modal?t.jsx(Zf,{...a,ref:s}):t.jsx(Jf,{...a,ref:s})})});ei.displayName=ht;var Zf=o.forwardRef((e,s)=>{const n=Oe(ht,e.__scopeDialog),r=o.useRef(null),a=Q(s,n.contentRef,r);return o.useEffect(()=>{const i=r.current;if(i)return Fn(i)},[]),t.jsx(ti,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:M(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:M(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:M(e.onFocusOutside,i=>i.preventDefault())})}),Jf=o.forwardRef((e,s)=>{const n=Oe(ht,e.__scopeDialog),r=o.useRef(!1),a=o.useRef(!1);return t.jsx(ti,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),ti=o.forwardRef((e,s)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,c=Oe(ht,n),d=o.useRef(null),u=Q(s,d);return On(),t.jsxs(t.Fragment,{children:[t.jsx(Cs,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(Cn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":er(c.open),...l,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(tm,{titleId:c.titleId}),t.jsx(nm,{contentRef:d,descriptionId:c.descriptionId})]})]})}),Jn="DialogTitle",si=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(Jn,n);return t.jsx(U.h2,{id:a.titleId,...r,ref:s})});si.displayName=Jn;var ni="DialogDescription",ri=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ni,n);return t.jsx(U.p,{id:a.descriptionId,...r,ref:s})});ri.displayName=ni;var ai="DialogClose",oi=o.forwardRef((e,s)=>{const{__scopeDialog:n,...r}=e,a=Oe(ai,n);return t.jsx(U.button,{type:"button",...r,ref:s,onClick:M(e.onClick,()=>a.onOpenChange(!1))})});oi.displayName=ai;function er(e){return e?"open":"closed"}var ii="DialogTitleWarning",[em,ci]=$c(ii,{contentName:ht,titleName:Jn,docsSlug:"dialog"}),tm=({titleId:e})=>{const s=ci(ii),n=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},sm="DialogDescriptionWarning",nm=({contentRef:e,descriptionId:s})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ci(sm).contentName}}.`;return o.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(r))},[r,e,s]),null},li=Go,rm=Yo,di=Zo,tr=Jo,sr=ei,nr=si,rr=ri,ar=oi;const Ce=li,am=di,ui=o.forwardRef(({className:e,...s},n)=>t.jsx(tr,{ref:n,className:T("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));ui.displayName=tr.displayName;const xe=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(am,{children:[t.jsx(ui,{}),t.jsxs(sr,{ref:r,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",e),...n,children:[s,t.jsxs(ar,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(tn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));xe.displayName=sr.displayName;const ge=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});ge.displayName="DialogHeader";const De=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});De.displayName="DialogFooter";const ve=o.forwardRef(({className:e,...s},n)=>t.jsx(nr,{ref:n,className:T("text-lg font-semibold leading-none tracking-tight",e),...s}));ve.displayName=nr.displayName;const ye=o.forwardRef(({className:e,...s},n)=>t.jsx(rr,{ref:n,className:T("text-sm text-muted-foreground",e),...s}));ye.displayName=rr.displayName;const Et=o.forwardRef(({className:e,...s},n)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:n,className:T("w-full caption-bottom text-sm",e),...s})}));Et.displayName="Table";const Rt=o.forwardRef(({className:e,...s},n)=>t.jsx("thead",{ref:n,className:T("[&_tr]:border-b",e),...s}));Rt.displayName="TableHeader";const Mt=o.forwardRef(({className:e,...s},n)=>t.jsx("tbody",{ref:n,className:T("[&_tr:last-child]:border-0",e),...s}));Mt.displayName="TableBody";const om=o.forwardRef(({className:e,...s},n)=>t.jsx("tfoot",{ref:n,className:T("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));om.displayName="TableFooter";const ke=o.forwardRef(({className:e,...s},n)=>t.jsx("tr",{ref:n,className:T("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));ke.displayName="TableRow";const Y=o.forwardRef(({className:e,...s},n)=>t.jsx("th",{ref:n,className:T("h-11 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));Y.displayName="TableHead";const G=o.forwardRef(({className:e,...s},n)=>t.jsx("td",{ref:n,className:T("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));G.displayName="TableCell";const im=o.forwardRef(({className:e,...s},n)=>t.jsx("caption",{ref:n,className:T("mt-4 text-sm text-muted-foreground",e),...s}));im.displayName="TableCaption";var hi="AlertDialog",[cm]=Be(hi,[Wo]),Ye=Wo(),fi=e=>{const{__scopeAlertDialog:s,...n}=e,r=Ye(s);return t.jsx(li,{...r,...n,modal:!0})};fi.displayName=hi;var lm="AlertDialogTrigger",dm=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(rm,{...a,...r,ref:s})});dm.displayName=lm;var um="AlertDialogPortal",mi=e=>{const{__scopeAlertDialog:s,...n}=e,r=Ye(s);return t.jsx(di,{...r,...n})};mi.displayName=um;var hm="AlertDialogOverlay",pi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(tr,{...a,...r,ref:s})});pi.displayName=hm;var wt="AlertDialogContent",[fm,mm]=cm(wt),pm=Uc("AlertDialogContent"),xi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,children:r,...a}=e,i=Ye(n),l=o.useRef(null),c=Q(s,l),d=o.useRef(null);return t.jsx(em,{contentName:wt,titleName:gi,docsSlug:"alert-dialog",children:t.jsx(fm,{scope:n,cancelRef:d,children:t.jsxs(sr,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:M(a.onOpenAutoFocus,u=>{u.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[t.jsx(pm,{children:r}),t.jsx(gm,{contentRef:l})]})})})});xi.displayName=wt;var gi="AlertDialogTitle",vi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(nr,{...a,...r,ref:s})});vi.displayName=gi;var yi="AlertDialogDescription",bi=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(rr,{...a,...r,ref:s})});bi.displayName=yi;var xm="AlertDialogAction",ji=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,a=Ye(n);return t.jsx(ar,{...a,...r,ref:s})});ji.displayName=xm;var wi="AlertDialogCancel",Ni=o.forwardRef((e,s)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=mm(wi,n),i=Ye(n),l=Q(s,a);return t.jsx(ar,{...i,...r,ref:l})});Ni.displayName=wi;var gm=({contentRef:e})=>{const s=`\`${wt}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wt}\` by passing a \`${yi}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wt}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},vm=fi,ym=mi,Ci=pi,Si=xi,_i=ji,ki=Ni,Ei=vi,Ri=bi;const Ds=vm,bm=ym,Mi=o.forwardRef(({className:e,...s},n)=>t.jsx(Ci,{className:T("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:n}));Mi.displayName=Ci.displayName;const Qt=o.forwardRef(({className:e,...s},n)=>t.jsxs(bm,{children:[t.jsx(Mi,{}),t.jsx(Si,{ref:n,className:T("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));Qt.displayName=Si.displayName;const Yt=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col space-y-2 text-center sm:text-left",e),...s});Yt.displayName="AlertDialogHeader";const Xt=({className:e,...s})=>t.jsx("div",{className:T("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});Xt.displayName="AlertDialogFooter";const Zt=o.forwardRef(({className:e,...s},n)=>t.jsx(Ei,{ref:n,className:T("text-lg font-semibold",e),...s}));Zt.displayName=Ei.displayName;const Jt=o.forwardRef(({className:e,...s},n)=>t.jsx(Ri,{ref:n,className:T("text-sm text-muted-foreground",e),...s}));Jt.displayName=Ri.displayName;const es=o.forwardRef(({className:e,...s},n)=>t.jsx(_i,{ref:n,className:T(Wr(),e),...s}));es.displayName=_i.displayName;const ts=o.forwardRef(({className:e,...s},n)=>t.jsx(ki,{ref:n,className:T(Wr({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));ts.displayName=ki.displayName;function jm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(""),[u,h]=o.useState(""),[f,m]=o.useState(["openai.inference","openai.models.read"]),[x,v]=o.useState(null),[p,g]=o.useState(null),[y,j]=o.useState(null),{data:C,isLoading:_,refetch:N}=_e({queryKey:["api-keys"],queryFn:Bs.list,enabled:e}),I=Ae({mutationFn:E=>Bs.create(E),onSuccess:E=>{n.invalidateQueries({queryKey:["api-keys"]}),v(E.key),d(""),h(""),m(["openai.inference","openai.models.read"]),$({title:"API key created"})},onError:E=>{$({title:"Failed to create API key",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}}),w=Ae({mutationFn:E=>Bs.delete(E),onSuccess:()=>{n.invalidateQueries({queryKey:["api-keys"]}),l(null),$({title:"API key deleted"})},onError:E=>{$({title:"Failed to delete API key",description:E instanceof Error?E.message:"Unknown error",variant:"destructive"})}});o.useEffect(()=>{e||(v(null),g(null))},[e]),o.useEffect(()=>{r||(d(""),h(""),m(["openai.inference","openai.models.read"]))},[r]);const R=async(E,q)=>{try{await navigator.clipboard.writeText(E),j(q),setTimeout(()=>j(null),2e3),$({title:"Copied to clipboard"})}catch{$({title:"Failed to copy",variant:"destructive"})}},S=()=>{I.mutate({name:c,expires_at:u||void 0,permissions:f})},O=E=>E?new Date(E)<new Date:!1,L=(E,q)=>{m(F=>q?F.includes(E)?F:[...F,E]:F.filter(B=>B!==E))},K=[{value:"openai.inference",label:"openai.inference",description:"OpenAI-compatible inference access (/v1/chat/completions, etc.)"},{value:"openai.models.read",label:"openai.models.read",description:"OpenAI-compatible model listing access (/v1/models)"},{value:"endpoints.read",label:"endpoints.read",description:"Read endpoints via /api/endpoints (GET)"},{value:"endpoints.manage",label:"endpoints.manage",description:"Manage endpoints via /api/endpoints (POST/PUT/DELETE)"},{value:"api_keys.manage",label:"api_keys.manage",description:"Manage API keys (/api/api-keys)"},{value:"users.manage",label:"users.manage",description:"Manage users (/api/users)"},{value:"invitations.manage",label:"invitations.manage",description:"Manage invitations (/api/invitations)"},{value:"models.manage",label:"models.manage",description:"Manage models (/api/models/register, delete)"},{value:"registry.read",label:"registry.read",description:"Read model registry (/api/models/registry/*)"},{value:"logs.read",label:"logs.read",description:"Read logs (/api/nodes/*/logs)"},{value:"metrics.read",label:"metrics.read",description:"Read metrics (/api/metrics/*)"}];return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(xe,{id:"api-keys-modal",className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(ms,{className:"h-5 w-5"}),"API Keys"]}),t.jsx(ye,{children:"Manage your API keys for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(P,{id:"create-api-key",onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Key"]}),t.jsx(P,{variant:"outline",size:"icon",onClick:()=>N(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),x&&t.jsxs("div",{className:"rounded-lg border border-success/50 bg-success/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-success mb-2",children:"API Key Created Successfully"}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Copy this key now. You won't be able to see it again."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-muted px-2 py-1 text-xs font-mono break-all",children:p==="created"?x:"".repeat(32)}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>g(p==="created"?null:"created"),children:p==="created"?t.jsx(md,{className:"h-4 w-4"}):t.jsx(xd,{className:"h-4 w-4"})}),t.jsx(P,{id:"copy-api-key",variant:"ghost",size:"icon",onClick:()=>R(x,"created"),children:y==="created"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsx(Ke,{className:"h-64 rounded-md border",children:_?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(me,{className:"h-6 w-6 animate-spin"})}):!C||C.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(ms,{className:"h-8 w-8"}),t.jsx("p",{children:"No API keys"})]}):t.jsxs(Et,{children:[t.jsx(Rt,{children:t.jsxs(ke,{children:[t.jsx(Y,{children:"Name"}),t.jsx(Y,{children:"Permissions"}),t.jsx(Y,{children:"Key"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{children:"Expires"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:C.map(E=>t.jsxs(ke,{children:[t.jsx(G,{className:"font-medium",children:E.name}),t.jsx(G,{children:t.jsx("div",{className:"flex flex-wrap gap-1",children:E.permissions.map(q=>t.jsx(ee,{variant:"secondary",children:q},q))})}),t.jsx(G,{children:E.key_prefix?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-xs font-mono",children:[E.key_prefix,"..."]}),t.jsx(P,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>R(E.key_prefix,E.id),children:y===E.id?t.jsx(Ve,{className:"h-3 w-3"}):t.jsx(St,{className:"h-3 w-3"})})]}):t.jsxs("span",{className:"text-xs text-muted-foreground",children:[E.id.slice(0,8),"..."]})}),t.jsx(G,{className:"text-sm text-muted-foreground",children:ze(E.created_at)}),t.jsx(G,{children:E.expires_at?t.jsx(ee,{variant:O(E.expires_at)?"destructive":"outline",children:O(E.expires_at)?"Expired":ze(E.expires_at)}):t.jsx(ee,{variant:"secondary",children:"Never"})}),t.jsx(G,{className:"text-right",children:t.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(E),children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})})]},E.id))})]})})]})]})}),t.jsx(Ce,{open:r,onOpenChange:a,children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Create API Key"}),t.jsx(ye,{children:"Create a new API key for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"api-key-name",children:"Name"}),t.jsx(he,{id:"api-key-name",placeholder:"My API Key",value:c,onChange:E=>d(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"key-expires",children:"Expires (optional)"}),t.jsx(he,{id:"key-expires",type:"datetime-local",value:u,onChange:E=>h(E.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Permissions"}),t.jsx("div",{className:"grid gap-2",children:K.map(E=>{const q=`permission-${E.value.replace(/[^a-z0-9]/gi,"-")}`;return t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(Po,{id:q,checked:f.includes(E.value),onCheckedChange:F=>L(E.value,!!F)}),t.jsxs("label",{htmlFor:q,className:"flex flex-col gap-1 cursor-pointer",children:[t.jsx("span",{className:"font-mono text-xs",children:E.label}),t.jsx("span",{className:"text-xs text-muted-foreground",children:E.description})]})]},E.value)})})]})]}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(P,{onClick:S,disabled:!c||f.length===0||I.isPending,children:[I.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Ds,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete API Key"}),t.jsxs(Jt,{children:['Are you sure you want to delete "',i?.name,'"? This action cannot be undone.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>i&&w.mutate(i.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[w.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}var wm=[" ","Enter","ArrowUp","ArrowDown"],Nm=[" ","Enter"],ft="Select",[Os,Fs,Cm]=jn(ft),[Pt]=Be(ft,[Cm,js]),Ls=js(),[Sm,rt]=Pt(ft),[_m,km]=Pt(ft),Pi=e=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:a,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:u,name:h,autoComplete:f,disabled:m,required:x,form:v}=e,p=Ls(s),[g,y]=o.useState(null),[j,C]=o.useState(null),[_,N]=o.useState(!1),I=zt(u),[w,R]=et({prop:r,defaultProp:a??!1,onChange:i,caller:ft}),[S,O]=et({prop:l,defaultProp:c,onChange:d,caller:ft}),L=o.useRef(null),K=g?v||!!g.closest("form"):!0,[E,q]=o.useState(new Set),F=Array.from(E).map(B=>B.props.value).join(";");return t.jsx(Hr,{...p,children:t.jsxs(Sm,{required:x,scope:s,trigger:g,onTriggerChange:y,valueNode:j,onValueNodeChange:C,valueNodeHasChildren:_,onValueNodeHasChildrenChange:N,contentId:Ue(),value:S,onValueChange:O,open:w,onOpenChange:R,dir:I,triggerPointerDownPosRef:L,disabled:m,children:[t.jsx(Os.Provider,{scope:s,children:t.jsx(_m,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(B=>{q(re=>new Set(re).add(B))},[]),onNativeOptionRemove:o.useCallback(B=>{q(re=>{const ae=new Set(re);return ae.delete(B),ae})},[]),children:n})}),K?t.jsxs(tc,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:B=>O(B.target.value),disabled:m,form:v,children:[S===void 0?t.jsx("option",{value:""}):null,Array.from(E)]},F):null]})})};Pi.displayName=ft;var Ti="SelectTrigger",Ii=o.forwardRef((e,s)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,i=Ls(n),l=rt(Ti,n),c=l.disabled||r,d=Q(s,l.onTriggerChange),u=Fs(n),h=o.useRef("touch"),[f,m,x]=nc(p=>{const g=u().filter(C=>!C.disabled),y=g.find(C=>C.value===l.value),j=rc(g,p,y);j!==void 0&&l.onValueChange(j.value)}),v=p=>{c||(l.onOpenChange(!0),x()),p&&(l.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return t.jsx(Kr,{asChild:!0,...i,children:t.jsx(U.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":sc(l.value)?"":void 0,...a,ref:d,onClick:M(a.onClick,p=>{p.currentTarget.focus(),h.current!=="mouse"&&v(p)}),onPointerDown:M(a.onPointerDown,p=>{h.current=p.pointerType;const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(v(p),p.preventDefault())}),onKeyDown:M(a.onKeyDown,p=>{const g=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&m(p.key),!(g&&p.key===" ")&&wm.includes(p.key)&&(v(),p.preventDefault())})})})});Ii.displayName=Ti;var Ai="SelectValue",Di=o.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,children:i,placeholder:l="",...c}=e,d=rt(Ai,n),{onValueNodeHasChildrenChange:u}=d,h=i!==void 0,f=Q(s,d.onValueNodeChange);return qe(()=>{u(h)},[u,h]),t.jsx(U.span,{...c,ref:f,style:{pointerEvents:"none"},children:sc(d.value)?t.jsx(t.Fragment,{children:l}):i})});Di.displayName=Ai;var Em="SelectIcon",Oi=o.forwardRef((e,s)=>{const{__scopeSelect:n,children:r,...a}=e;return t.jsx(U.span,{"aria-hidden":!0,...a,ref:s,children:r||""})});Oi.displayName=Em;var Rm="SelectPortal",Fi=e=>t.jsx(wn,{asChild:!0,...e});Fi.displayName=Rm;var mt="SelectContent",Li=o.forwardRef((e,s)=>{const n=rt(mt,e.__scopeSelect),[r,a]=o.useState();if(qe(()=>{a(new DocumentFragment)},[]),!n.open){const i=r;return i?Gr.createPortal(t.jsx($i,{scope:e.__scopeSelect,children:t.jsx(Os.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(Ui,{...e,ref:s})});Li.displayName=mt;var Ie=10,[$i,at]=Pt(mt),Mm="SelectContentImpl",Pm=Nn("SelectContent.RemoveScroll"),Ui=o.forwardRef((e,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:v,hideWhenDetached:p,avoidCollisions:g,...y}=e,j=rt(mt,n),[C,_]=o.useState(null),[N,I]=o.useState(null),w=Q(s,b=>_(b)),[R,S]=o.useState(null),[O,L]=o.useState(null),K=Fs(n),[E,q]=o.useState(!1),F=o.useRef(!1);o.useEffect(()=>{if(C)return Fn(C)},[C]),On();const B=o.useCallback(b=>{const[H,...Z]=K().map(z=>z.ref.current),[V]=Z.slice(-1),k=document.activeElement;for(const z of b)if(z===k||(z?.scrollIntoView({block:"nearest"}),z===H&&N&&(N.scrollTop=0),z===V&&N&&(N.scrollTop=N.scrollHeight),z?.focus(),document.activeElement!==k))return},[K,N]),re=o.useCallback(()=>B([R,C]),[B,R,C]);o.useEffect(()=>{E&&re()},[E,re]);const{onOpenChange:ae,triggerPointerDownPosRef:A}=j;o.useEffect(()=>{if(C){let b={x:0,y:0};const H=V=>{b={x:Math.abs(Math.round(V.pageX)-(A.current?.x??0)),y:Math.abs(Math.round(V.pageY)-(A.current?.y??0))}},Z=V=>{b.x<=10&&b.y<=10?V.preventDefault():C.contains(V.target)||ae(!1),document.removeEventListener("pointermove",H),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",Z,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",Z,{capture:!0})}}},[C,ae,A]),o.useEffect(()=>{const b=()=>ae(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[ae]);const[je,oe]=nc(b=>{const H=K().filter(k=>!k.disabled),Z=H.find(k=>k.ref.current===document.activeElement),V=rc(H,b,Z);V&&setTimeout(()=>V.ref.current.focus())}),le=o.useCallback((b,H,Z)=>{const V=!F.current&&!Z;(j.value!==void 0&&j.value===H||V)&&(S(b),V&&(F.current=!0))},[j.value]),Re=o.useCallback(()=>C?.focus(),[C]),de=o.useCallback((b,H,Z)=>{const V=!F.current&&!Z;(j.value!==void 0&&j.value===H||V)&&L(b)},[j.value]),we=r==="popper"?xn:qi,ie=we===xn?{side:c,sideOffset:d,align:u,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:x,sticky:v,hideWhenDetached:p,avoidCollisions:g}:{};return t.jsx($i,{scope:n,content:C,viewport:N,onViewportChange:I,itemRefCallback:le,selectedItem:R,onItemLeave:Re,itemTextRefCallback:de,focusSelectedItem:re,selectedItemText:O,position:r,isPositioned:E,searchRef:je,children:t.jsx(ks,{as:Pm,allowPinchZoom:!0,children:t.jsx(Cs,{asChild:!0,trapped:j.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:M(a,b=>{j.trigger?.focus({preventScroll:!0}),b.preventDefault()}),children:t.jsx(Cn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:t.jsx(we,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:b=>b.preventDefault(),...y,...ie,onPlaced:()=>q(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:M(y.onKeyDown,b=>{const H=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!H&&b.key.length===1&&oe(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let V=K().filter(k=>!k.disabled).map(k=>k.ref.current);if(["ArrowUp","End"].includes(b.key)&&(V=V.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const k=b.target,z=V.indexOf(k);V=V.slice(z+1)}setTimeout(()=>B(V)),b.preventDefault()}})})})})})})});Ui.displayName=Mm;var Tm="SelectItemAlignedPosition",qi=o.forwardRef((e,s)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,i=rt(mt,n),l=at(mt,n),[c,d]=o.useState(null),[u,h]=o.useState(null),f=Q(s,w=>h(w)),m=Fs(n),x=o.useRef(!1),v=o.useRef(!0),{viewport:p,selectedItem:g,selectedItemText:y,focusSelectedItem:j}=l,C=o.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&u&&p&&g&&y){const w=i.trigger.getBoundingClientRect(),R=u.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(i.dir!=="rtl"){const k=O.left-R.left,z=S.left-k,W=w.left-z,te=w.width+W,se=Math.max(te,R.width),ne=window.innerWidth-Ie,fe=pn(z,[Ie,Math.max(Ie,ne-se)]);c.style.minWidth=te+"px",c.style.left=fe+"px"}else{const k=R.right-O.right,z=window.innerWidth-S.right-k,W=window.innerWidth-w.right-z,te=w.width+W,se=Math.max(te,R.width),ne=window.innerWidth-Ie,fe=pn(z,[Ie,Math.max(Ie,ne-se)]);c.style.minWidth=te+"px",c.style.right=fe+"px"}const L=m(),K=window.innerHeight-Ie*2,E=p.scrollHeight,q=window.getComputedStyle(u),F=parseInt(q.borderTopWidth,10),B=parseInt(q.paddingTop,10),re=parseInt(q.borderBottomWidth,10),ae=parseInt(q.paddingBottom,10),A=F+B+E+ae+re,je=Math.min(g.offsetHeight*5,A),oe=window.getComputedStyle(p),le=parseInt(oe.paddingTop,10),Re=parseInt(oe.paddingBottom,10),de=w.top+w.height/2-Ie,we=K-de,ie=g.offsetHeight/2,b=g.offsetTop+ie,H=F+B+b,Z=A-H;if(H<=de){const k=L.length>0&&g===L[L.length-1].ref.current;c.style.bottom="0px";const z=u.clientHeight-p.offsetTop-p.offsetHeight,W=Math.max(we,ie+(k?Re:0)+z+re),te=H+W;c.style.height=te+"px"}else{const k=L.length>0&&g===L[0].ref.current;c.style.top="0px";const W=Math.max(de,F+p.offsetTop+(k?le:0)+ie)+Z;c.style.height=W+"px",p.scrollTop=H-de+p.offsetTop}c.style.margin=`${Ie}px 0`,c.style.minHeight=je+"px",c.style.maxHeight=K+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[m,i.trigger,i.valueNode,c,u,p,g,y,i.dir,r]);qe(()=>C(),[C]);const[_,N]=o.useState();qe(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const I=o.useCallback(w=>{w&&v.current===!0&&(C(),j?.(),v.current=!1)},[C,j]);return t.jsx(Am,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:x,onScrollButtonChange:I,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:t.jsx(U.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});qi.displayName=Tm;var Im="SelectPopperPosition",xn=o.forwardRef((e,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=Ie,...i}=e,l=Ls(n);return t.jsx(Br,{...l,...i,ref:s,align:r,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});xn.displayName=Im;var[Am,or]=Pt(mt,{}),gn="SelectViewport",Ki=o.forwardRef((e,s)=>{const{__scopeSelect:n,nonce:r,...a}=e,i=at(gn,n),l=or(gn,n),c=Q(s,i.onViewportChange),d=o.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),t.jsx(Os.Slot,{scope:n,children:t.jsx(U.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:M(a.onScroll,u=>{const h=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=l;if(m?.current&&f){const x=Math.abs(d.current-h.scrollTop);if(x>0){const v=window.innerHeight-Ie*2,p=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),y=Math.max(p,g);if(y<v){const j=y+x,C=Math.min(v,j),_=j-C;f.style.height=C+"px",f.style.bottom==="0px"&&(h.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}d.current=h.scrollTop})})})]})});Ki.displayName=gn;var Bi="SelectGroup",[Dm,Om]=Pt(Bi),Fm=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Ue();return t.jsx(Dm,{scope:n,id:a,children:t.jsx(U.div,{role:"group","aria-labelledby":a,...r,ref:s})})});Fm.displayName=Bi;var Hi="SelectLabel",zi=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Om(Hi,n);return t.jsx(U.div,{id:a.id,...r,ref:s})});zi.displayName=Hi;var bs="SelectItem",[Lm,Vi]=Pt(bs),Wi=o.forwardRef((e,s)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:i,...l}=e,c=rt(bs,n),d=at(bs,n),u=c.value===r,[h,f]=o.useState(i??""),[m,x]=o.useState(!1),v=Q(s,j=>d.itemRefCallback?.(j,r,a)),p=Ue(),g=o.useRef("touch"),y=()=>{a||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(Lm,{scope:n,value:r,disabled:a,textId:p,isSelected:u,onItemTextChange:o.useCallback(j=>{f(C=>C||(j?.textContent??"").trim())},[]),children:t.jsx(Os.ItemSlot,{scope:n,value:r,disabled:a,textValue:h,children:t.jsx(U.div,{role:"option","aria-labelledby":p,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:v,onFocus:M(l.onFocus,()=>x(!0)),onBlur:M(l.onBlur,()=>x(!1)),onClick:M(l.onClick,()=>{g.current!=="mouse"&&y()}),onPointerUp:M(l.onPointerUp,()=>{g.current==="mouse"&&y()}),onPointerDown:M(l.onPointerDown,j=>{g.current=j.pointerType}),onPointerMove:M(l.onPointerMove,j=>{g.current=j.pointerType,a?d.onItemLeave?.():g.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:M(l.onPointerLeave,j=>{j.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:M(l.onKeyDown,j=>{d.searchRef?.current!==""&&j.key===" "||(Nm.includes(j.key)&&y(),j.key===" "&&j.preventDefault())})})})})});Wi.displayName=bs;var Ft="SelectItemText",Gi=o.forwardRef((e,s)=>{const{__scopeSelect:n,className:r,style:a,...i}=e,l=rt(Ft,n),c=at(Ft,n),d=Vi(Ft,n),u=km(Ft,n),[h,f]=o.useState(null),m=Q(s,y=>f(y),d.onItemTextChange,y=>c.itemTextRefCallback?.(y,d.value,d.disabled)),x=h?.textContent,v=o.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:x},d.value),[d.disabled,d.value,x]),{onNativeOptionAdd:p,onNativeOptionRemove:g}=u;return qe(()=>(p(v),()=>g(v)),[p,g,v]),t.jsxs(t.Fragment,{children:[t.jsx(U.span,{id:d.textId,...i,ref:m}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Gr.createPortal(i.children,l.valueNode):null]})});Gi.displayName=Ft;var Qi="SelectItemIndicator",Yi=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return Vi(Qi,n).isSelected?t.jsx(U.span,{"aria-hidden":!0,...r,ref:s}):null});Yi.displayName=Qi;var vn="SelectScrollUpButton",Xi=o.forwardRef((e,s)=>{const n=at(vn,e.__scopeSelect),r=or(vn,e.__scopeSelect),[a,i]=o.useState(!1),l=Q(s,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollTop>0;i(u)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?t.jsx(Ji,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Xi.displayName=vn;var yn="SelectScrollDownButton",Zi=o.forwardRef((e,s)=>{const n=at(yn,e.__scopeSelect),r=or(yn,e.__scopeSelect),[a,i]=o.useState(!1),l=Q(s,r.onScrollButtonChange);return qe(()=>{if(n.viewport&&n.isPositioned){let c=function(){const u=d.scrollHeight-d.clientHeight,h=Math.ceil(d.scrollTop)<u;i(h)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),a?t.jsx(Ji,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Zi.displayName=yn;var Ji=o.forwardRef((e,s)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,i=at("SelectScrollButton",n),l=o.useRef(null),c=Fs(n),d=o.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),qe(()=>{c().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),t.jsx(U.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:M(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:M(a.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:M(a.onPointerLeave,()=>{d()})})}),$m="SelectSeparator",ec=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e;return t.jsx(U.div,{"aria-hidden":!0,...r,ref:s})});ec.displayName=$m;var bn="SelectArrow",Um=o.forwardRef((e,s)=>{const{__scopeSelect:n,...r}=e,a=Ls(n),i=rt(bn,n),l=at(bn,n);return i.open&&l.position==="popper"?t.jsx(zr,{...a,...r,ref:s}):null});Um.displayName=bn;var qm="SelectBubbleInput",tc=o.forwardRef(({__scopeSelect:e,value:s,...n},r)=>{const a=o.useRef(null),i=Q(r,a),l=zn(s);return o.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&h){const f=new Event("change",{bubbles:!0});h.call(c,s),c.dispatchEvent(f)}},[l,s]),t.jsx(U.select,{...n,style:{...qc,...n.style},ref:i,defaultValue:s})});tc.displayName=qm;function sc(e){return e===""||e===void 0}function nc(e){const s=Se(e),n=o.useRef(""),r=o.useRef(0),a=o.useCallback(l=>{const c=n.current+l;s(c),(function d(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),i=o.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,i]}function rc(e,s,n){const a=s.length>1&&Array.from(s).every(u=>u===s[0])?s[0]:s,i=n?e.indexOf(n):-1;let l=Km(e,Math.max(i,0));a.length===1&&(l=l.filter(u=>u!==n));const d=l.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==n?d:void 0}function Km(e,s){return e.map((n,r)=>e[(s+r)%e.length])}var Bm=Pi,ac=Ii,Hm=Di,zm=Oi,Vm=Fi,oc=Li,Wm=Ki,ic=zi,cc=Wi,Gm=Gi,Qm=Yi,lc=Xi,dc=Zi,uc=ec;const tt=Bm,st=Hm,We=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(ac,{ref:r,className:T("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all duration-200",e),...n,children:[s,t.jsx(zm,{asChild:!0,children:t.jsx(In,{className:"h-4 w-4 opacity-50"})})]}));We.displayName=ac.displayName;const hc=o.forwardRef(({className:e,...s},n)=>t.jsx(lc,{ref:n,className:T("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(ca,{className:"h-4 w-4"})}));hc.displayName=lc.displayName;const fc=o.forwardRef(({className:e,...s},n)=>t.jsx(dc,{ref:n,className:T("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(In,{className:"h-4 w-4"})}));fc.displayName=dc.displayName;const Ge=o.forwardRef(({className:e,children:s,position:n="popper",...r},a)=>t.jsx(Vm,{children:t.jsxs(oc,{ref:a,className:T("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[t.jsx(hc,{}),t.jsx(Wm,{className:T("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(fc,{})]})}));Ge.displayName=oc.displayName;const Ym=o.forwardRef(({className:e,...s},n)=>t.jsx(ic,{ref:n,className:T("px-2 py-1.5 text-sm font-semibold",e),...s}));Ym.displayName=ic.displayName;const X=o.forwardRef(({className:e,children:s,...n},r)=>t.jsxs(cc,{ref:r,className:T("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Qm,{children:t.jsx(Ve,{className:"h-4 w-4"})})}),t.jsx(Gm,{children:s})]}));X.displayName=cc.displayName;const Xm=o.forwardRef(({className:e,...s},n)=>t.jsx(uc,{ref:n,className:T("-mx-1 my-1 h-px bg-muted",e),...s}));Xm.displayName=uc.displayName;function Zm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(null),[u,h]=o.useState(""),[f,m]=o.useState(""),[x,v]=o.useState("user"),{data:p,isLoading:g,refetch:y}=_e({queryKey:["users"],queryFn:ss.list,enabled:e}),j=Ae({mutationFn:S=>ss.create(S),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),N(),a(!1),$({title:"User created"})},onError:S=>{$({title:"Failed to create user",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),C=Ae({mutationFn:({id:S,data:O})=>ss.update(S,O),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),N(),l(null),$({title:"User updated"})},onError:S=>{$({title:"Failed to update user",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),_=Ae({mutationFn:S=>ss.delete(S),onSuccess:()=>{n.invalidateQueries({queryKey:["users"]}),d(null),$({title:"User deleted"})},onError:S=>{$({title:"Failed to delete user",description:S instanceof Error?S.message:"Unknown error",variant:"destructive"})}}),N=()=>{h(""),m(""),v("user")};o.useEffect(()=>{i?(h(i.username),m(""),v(i.role)):N()},[i]);const I=()=>{j.mutate({username:u,password:f,role:x})},w=()=>{if(!i)return;const S={};u!==i.username&&(S.username=u),f&&(S.password=f),x!==i.role&&(S.role=x),C.mutate({id:i.id,data:S})},R=S=>S==="admin"?t.jsxs(ee,{variant:"default",className:"gap-1",children:[t.jsx(Yd,{className:"h-3 w-3"}),"Admin"]}):t.jsxs(ee,{variant:"secondary",className:"gap-1",children:[t.jsx(Sn,{className:"h-3 w-3"}),"User"]});return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(xe,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(un,{className:"h-5 w-5"}),"User Management"]}),t.jsx(ye,{children:"Manage dashboard users and their permissions."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(P,{onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(P,{variant:"outline",size:"icon",onClick:()=>y(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),t.jsx(Ke,{className:"h-64 rounded-md border",children:g?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(me,{className:"h-6 w-6 animate-spin"})}):!p||p.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(un,{className:"h-8 w-8"}),t.jsx("p",{children:"No users"})]}):t.jsxs(Et,{children:[t.jsx(Rt,{children:t.jsxs(ke,{children:[t.jsx(Y,{children:"Username"}),t.jsx(Y,{children:"Role"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:p.map(S=>t.jsxs(ke,{children:[t.jsx(G,{className:"font-medium",children:S.username}),t.jsx(G,{children:R(S.role)}),t.jsx(G,{className:"text-sm text-muted-foreground",children:ze(S.created_at)}),t.jsx(G,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(S),children:t.jsx(Zd,{className:"h-4 w-4"})}),t.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(S),children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})]})})]},S.id))})]})})]})]})}),t.jsx(Ce,{open:r,onOpenChange:a,children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Create User"}),t.jsx(ye,{children:"Add a new dashboard user."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-username",children:"Username"}),t.jsx(he,{id:"create-username",placeholder:"johndoe",value:u,onChange:S=>h(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-password",children:"Password"}),t.jsx(he,{id:"create-password",type:"password",placeholder:"",value:f,onChange:S=>m(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"create-role",children:"Role"}),t.jsxs(tt,{value:x,onValueChange:S=>v(S),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"user",children:"User"}),t.jsx(X,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(P,{onClick:I,disabled:!u||!f||j.isPending,children:[j.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Ce,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Edit User"}),t.jsxs(ye,{children:['Update user "',i?.username,'".']})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-username",children:"Username"}),t.jsx(he,{id:"edit-username",value:u,onChange:S=>h(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-password",children:"Password (leave blank to keep)"}),t.jsx(he,{id:"edit-password",type:"password",placeholder:"",value:f,onChange:S=>m(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"edit-role",children:"Role"}),t.jsxs(tt,{value:x,onValueChange:S=>v(S),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"user",children:"User"}),t.jsx(X,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),t.jsxs(P,{onClick:w,disabled:!u||C.isPending,children:[C.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})}),t.jsx(Ds,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete User"}),t.jsxs(Jt,{children:['Are you sure you want to delete "',c?.username,'"? This action cannot be undone.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>c&&_.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[_.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function Jm({open:e,onOpenChange:s}){const n=Qe(),[r,a]=o.useState(!1),[i,l]=o.useState(72),[c,d]=o.useState(null),[u,h]=o.useState(null),[f,m]=o.useState(!1),{data:x,isLoading:v,refetch:p}=_e({queryKey:["invitations"],queryFn:Hs.list,enabled:e}),g=Ae({mutationFn:w=>Hs.create(w),onSuccess:w=>{n.invalidateQueries({queryKey:["invitations"]}),h(w),$({title:"Invitation code created"})},onError:w=>{$({title:"Failed to create invitation code",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),y=Ae({mutationFn:w=>Hs.revoke(w),onSuccess:()=>{n.invalidateQueries({queryKey:["invitations"]}),d(null),$({title:"Invitation code revoked"})},onError:w=>{$({title:"Failed to revoke invitation code",description:w instanceof Error?w.message:"Unknown error",variant:"destructive"})}}),j=()=>{g.mutate(i)},C=async()=>{u?.code&&(await navigator.clipboard.writeText(u.code),m(!0),setTimeout(()=>m(!1),2e3))},_=()=>{h(null),a(!1),m(!1)},N=w=>{switch(w){case"active":return t.jsxs(ee,{variant:"default",className:"gap-1 bg-green-600",children:[t.jsx(Ut,{className:"h-3 w-3"}),"Active"]});case"used":return t.jsxs(ee,{variant:"secondary",className:"gap-1",children:[t.jsx(us,{className:"h-3 w-3"}),"Used"]});case"revoked":return t.jsxs(ee,{variant:"destructive",className:"gap-1",children:[t.jsx($t,{className:"h-3 w-3"}),"Revoked"]});default:return t.jsx(ee,{variant:"outline",children:w})}},I=w=>new Date(w)<new Date;return t.jsxs(t.Fragment,{children:[t.jsx(Ce,{open:e,onOpenChange:s,children:t.jsxs(xe,{className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(nn,{className:"h-5 w-5"}),"Invitation Codes"]}),t.jsx(ye,{children:"Create and manage invitation codes for user registration."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(P,{onClick:()=>a(!0),children:[t.jsx(Ns,{className:"mr-2 h-4 w-4"}),"Create Code"]}),t.jsx(P,{variant:"outline",size:"icon",onClick:()=>p(),children:t.jsx(nt,{className:"h-4 w-4"})})]}),t.jsx(Ke,{className:"h-80 rounded-md border",children:v?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(me,{className:"h-6 w-6 animate-spin"})}):!x||x.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(nn,{className:"h-8 w-8"}),t.jsx("p",{children:"No invitation codes"})]}):t.jsxs(Et,{children:[t.jsx(Rt,{children:t.jsxs(ke,{children:[t.jsx(Y,{children:"ID"}),t.jsx(Y,{children:"Status"}),t.jsx(Y,{children:"Created"}),t.jsx(Y,{children:"Expires"}),t.jsx(Y,{children:"Used By"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:x.map(w=>t.jsxs(ke,{children:[t.jsxs(G,{className:"font-mono text-xs",children:[w.id.slice(0,8),"..."]}),t.jsx(G,{children:w.status==="active"&&I(w.expires_at)?t.jsxs(ee,{variant:"outline",className:"gap-1",children:[t.jsx($t,{className:"h-3 w-3"}),"Expired"]}):N(w.status)}),t.jsx(G,{className:"text-sm text-muted-foreground",children:ze(w.created_at)}),t.jsx(G,{className:"text-sm text-muted-foreground",children:ze(w.expires_at)}),t.jsx(G,{className:"font-mono text-xs text-muted-foreground",children:w.used_by?`${w.used_by.slice(0,8)}...`:"-"}),t.jsx(G,{className:"text-right",children:w.status==="active"&&!I(w.expires_at)&&t.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(w),children:t.jsx(Fl,{className:"h-4 w-4 text-destructive"})})})]},w.id))})]})})]})]})}),t.jsx(Ce,{open:r&&!u,onOpenChange:w=>!w&&a(!1),children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Create Invitation Code"}),t.jsx(ye,{children:"Generate a new invitation code for user registration."})]}),t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"expires-in",children:"Expires In"}),t.jsxs(tt,{value:String(i),onValueChange:w=>l(Number(w)),children:[t.jsx(We,{children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"24",children:"24 hours (1 day)"}),t.jsx(X,{value:"48",children:"48 hours (2 days)"}),t.jsx(X,{value:"72",children:"72 hours (3 days)"}),t.jsx(X,{value:"168",children:"168 hours (1 week)"}),t.jsx(X,{value:"720",children:"720 hours (30 days)"})]})]})]})}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(P,{onClick:j,disabled:g.isPending,children:[g.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Ce,{open:!!u,onOpenChange:_,children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2 text-green-600",children:[t.jsx(us,{className:"h-5 w-5"}),"Invitation Code Created"]}),t.jsx(ye,{children:"Copy this code and share it with the user. This code will only be shown once."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Invitation Code"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("code",{className:"flex-1 rounded-md bg-muted px-4 py-3 font-mono text-sm break-all",children:u?.code}),t.jsx(P,{variant:"outline",size:"icon",onClick:C,className:"shrink-0",children:f?t.jsx(Ve,{className:"h-4 w-4 text-green-600"}):t.jsx(St,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:t.jsxs("p",{children:["Expires: ",u&&new Date(u.expires_at).toLocaleString()]})})]}),t.jsx(De,{children:t.jsx(P,{onClick:_,children:"Done"})})]})}),t.jsx(Ds,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Revoke Invitation Code"}),t.jsx(Jt,{children:"Are you sure you want to revoke this invitation code? It will no longer be usable for registration."})]}),t.jsxs(Xt,{children:[t.jsx(ts,{children:"Cancel"}),t.jsxs(es,{onClick:()=>c&&y.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[y.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoke"]})]})]})})]})}function ep({user:e,isConnected:s=!0,lastRefreshed:n,fetchTimeMs:r}){const{logout:a}=Tn(),{theme:i,toggleTheme:l}=du(),[c,d]=o.useState(!1),[u,h]=o.useState(!1),[f,m]=o.useState(!1),[x,v]=o.useState(!1),p=()=>{v(!0),window.location.reload()};return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/80 backdrop-blur-xl",children:t.jsxs("div",{className:"mx-auto flex h-16 max-w-[1600px] items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10 glow-sm",children:t.jsx(_n,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-display text-lg font-semibold tracking-tight",children:"LLM Load Balancer"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{id:"connection-status",className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),"Connection: ",s?"Online":"Offline"]}),n&&t.jsxs("span",{id:"last-refreshed",children:["Last updated: ",n.toLocaleTimeString()]}),!n&&t.jsx("span",{id:"last-refreshed",children:"Last updated: --:--:--"}),r!=null&&t.jsxs("span",{id:"refresh-metrics",children:["Fetch time: ",r,"ms"]}),r==null&&t.jsx("span",{id:"refresh-metrics",children:"Fetch time: --ms"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(P,{id:"api-keys-button",variant:"outline",size:"sm",onClick:()=>d(!0),className:"hidden sm:inline-flex",children:[t.jsx(ms,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(P,{id:"refresh-button",variant:"ghost",size:"icon",onClick:p,disabled:x,children:t.jsx(nt,{className:`h-4 w-4 ${x?"animate-spin":""}`})}),t.jsx(P,{id:"theme-toggle",variant:"ghost",size:"icon",onClick:l,children:i==="dark"?t.jsx(eu,{className:"h-4 w-4"}):t.jsx(Od,{className:"h-4 w-4"})}),t.jsxs(Cf,{children:[t.jsx(Sf,{asChild:!0,children:t.jsx(P,{variant:"ghost",size:"icon",className:"relative",children:t.jsx(Sn,{className:"h-4 w-4"})})}),t.jsxs(wo,{align:"end",className:"w-56",children:[t.jsx(No,{children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:e?.username}),t.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e?.role})]})}),t.jsx(ds,{}),t.jsxs(Ot,{onClick:()=>d(!0),className:"sm:hidden",children:[t.jsx(ms,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(ds,{className:"sm:hidden"}),e?.role==="admin"&&t.jsxs(t.Fragment,{children:[t.jsxs(Ot,{onClick:()=>h(!0),children:[t.jsx(un,{className:"mr-2 h-4 w-4"}),"Manage Users"]}),t.jsxs(Ot,{onClick:()=>m(!0),children:[t.jsx(nn,{className:"mr-2 h-4 w-4"}),"Invitation Codes"]}),t.jsx(ds,{})]}),t.jsxs(Ot,{onClick:a,className:"text-destructive",children:[t.jsx(Td,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]})]})}),t.jsx(jm,{open:c,onOpenChange:d}),t.jsx(Zm,{open:u,onOpenChange:h}),t.jsx(Jm,{open:f,onOpenChange:m})]})}const Lr={primary:"bg-primary/10 group-hover:bg-primary/20","chart-1":"bg-chart-1/10 group-hover:bg-chart-1/20","chart-2":"bg-chart-2/10 group-hover:bg-chart-2/20","chart-3":"bg-chart-3/10 group-hover:bg-chart-3/20","chart-4":"bg-chart-4/10 group-hover:bg-chart-4/20","chart-5":"bg-chart-5/10 group-hover:bg-chart-5/20",success:"bg-success/10 group-hover:bg-success/20",warning:"bg-warning/10 group-hover:bg-warning/20",destructive:"bg-destructive/10 group-hover:bg-destructive/20"};function tp({title:e,value:s,subtitle:n,icon:r,accentColor:a="primary",isLoading:i,delay:l=0,dataStat:c}){return t.jsx(ct,{className:"stat-card group overflow-hidden animate-fade-up",style:{animationDelay:`${l}ms`},"data-stat":c,children:t.jsx(lt,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i?t.jsx("div",{className:"h-8 w-24 shimmer rounded"}):t.jsx("p",{className:"text-3xl font-bold tracking-tight",children:s}),n&&!i&&t.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg transition-colors ${Lr[a]||Lr.primary}`,children:r})]})})})}function sp({stats:e,endpoints:s,isLoading:n}){const r=e?{total:e.total_runtimes??e.total_nodes,online:e.online_runtimes??e.online_nodes,pending:e.pending_runtimes??e.pending_nodes,registering:e.registering_runtimes??e.registering_nodes,offline:e.offline_runtimes??e.offline_nodes}:void 0,a=s?{total:s.length,online:s.filter(m=>m.status==="online").length,pending:s.filter(m=>m.status==="pending").length,offline:s.filter(m=>m.status==="offline").length,error:s.filter(m=>m.status==="error").length}:void 0,i=a?.total??r?.total,l=a?.online??r?.online,c=a?.pending??r?.pending,d=a?.offline??r?.offline,u=a?.error,h=l!=null&&c!=null&&d!=null&&(u==null||u>=0)?[`${l} online`,`${c} pending`,`${d} offline`,...u!=null&&u>0?[`${u} error`]:[]].join(", "):void 0,f=[{title:"Total Endpoints",value:i!=null?ue(i):"",subtitle:h,icon:t.jsx(qt,{className:"h-5 w-5 text-primary"}),accentColor:"primary",dataStat:"total-endpoints"},{title:"Total Requests",value:e?ue(e.total_requests):"",subtitle:e?`${ue(e.successful_requests)} successful`:void 0,icon:t.jsx(Il,{className:"h-5 w-5 text-chart-2"}),accentColor:"chart-2",dataStat:"total-requests"},{title:"Total Tokens",value:e?ue(e.total_tokens):"",subtitle:e?`In: ${ue(e.total_input_tokens)} / Out: ${ue(e.total_output_tokens)}`:void 0,icon:t.jsx(ws,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"total-tokens"},{title:"Active Requests",value:e?ue(e.total_active_requests):"",icon:t.jsx(_n,{className:"h-5 w-5 text-chart-1"}),accentColor:"chart-1",dataStat:"active-requests"},{title:"Queued Requests",value:e?ue(e.queued_requests):"",icon:t.jsx(Cd,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"queued-requests"},{title:"Success Rate",value:e&&e.total_requests>0?zs(e.successful_requests/e.total_requests*100):"",subtitle:e?`${ue(e.failed_requests)} failed`:void 0,icon:e&&e.failed_requests>0?t.jsx($t,{className:"h-5 w-5 text-destructive"}):t.jsx(us,{className:"h-5 w-5 text-success"}),accentColor:e&&e.failed_requests>0?"destructive":"success",dataStat:"success-rate"},{title:"Avg Response Time",value:e?sn(e.average_response_time_ms):"",icon:t.jsx(Ut,{className:"h-5 w-5 text-warning"}),accentColor:"warning",dataStat:"average-response-time-ms"},{title:"Avg GPU Usage",value:e?zs(e.average_gpu_usage):"",icon:t.jsx(iu,{className:"h-5 w-5 text-chart-3"}),accentColor:"chart-3",dataStat:"average-gpu-usage"},{title:"Avg GPU Memory",value:e?zs(e.average_gpu_memory_usage):"",icon:t.jsx(jd,{className:"h-5 w-5 text-chart-4"}),accentColor:"chart-4",dataStat:"average-gpu-memory-usage"}];return t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:f.map((m,x)=>t.jsx(tp,{...m,isLoading:n,delay:x*50},m.title))})}const ir=o.forwardRef(({className:e,...s},n)=>t.jsx("textarea",{className:T("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:n,...s}));ir.displayName="Textarea";var np="Separator",$r="horizontal",rp=["horizontal","vertical"],mc=o.forwardRef((e,s)=>{const{decorative:n,orientation:r=$r,...a}=e,i=ap(r)?r:$r,c=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(Kc.div,{"data-orientation":i,...c,...a,ref:s})});mc.displayName=np;function ap(e){return rp.includes(e)}var pc=mc;const it=o.forwardRef(({className:e,orientation:s="horizontal",decorative:n=!0,...r},a)=>t.jsx(pc,{ref:a,decorative:n,orientation:s,className:T("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));it.displayName=pc.displayName;const xc=o.forwardRef(({className:e,value:s=0,...n},r)=>{const a=Math.min(100,Math.max(0,s));return t.jsx("div",{ref:r,role:"progressbar","aria-valuenow":a,"aria-valuemin":0,"aria-valuemax":100,className:T("relative h-2 w-full overflow-hidden rounded-full bg-muted",e),...n,children:t.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-a}%)`}})})});xc.displayName="Progress";function op({endpoint:e,open:s,onOpenChange:n}){const r=Qe(),[a,i]=o.useState(""),[l,c]=o.useState("idle"),[d,u]=o.useState(null),[h,f]=o.useState(0),[m,x]=o.useState(""),[v,p]=o.useState(""),g=o.useRef(null);o.useEffect(()=>{s||(i(""),c("idle"),u(null),f(0),x(""),p(""),g.current&&(clearInterval(g.current),g.current=null))},[s]),o.useEffect(()=>()=>{g.current&&clearInterval(g.current)},[]);const y=Ae({mutationFn:N=>Ne.downloadModel(e.id,N),onSuccess:N=>{c("downloading"),u(N.task_id),f(0),x("Starting download..."),j(N.task_id)},onError:N=>{c("error"),p(N instanceof Error?N.message:"Download failed"),$({title:"Download Failed",description:N instanceof Error?N.message:"Unknown error",variant:"destructive"})}}),j=N=>{g.current&&clearInterval(g.current);const I=async()=>{if(e)try{const w=await Ne.getDownloadProgress(e.id),R=w.tasks.find(S=>S.task_id===N)||w.tasks.find(S=>S.model===a);if(!R){x("Waiting for download to start...");return}R.status==="completed"?(c("completed"),f(100),x("Download completed"),g.current&&(clearInterval(g.current),g.current=null),r.invalidateQueries({queryKey:["endpoint-models",e.id]}),r.invalidateQueries({queryKey:["dashboard-endpoints"]}),$({title:"Download Completed",description:`Model ${a} has been downloaded successfully`})):R.status==="failed"||R.status==="cancelled"?(c("error"),p(R.error||"Download failed"),x(""),g.current&&(clearInterval(g.current),g.current=null)):(R.status==="downloading"||R.status==="pending")&&(f(R.progress||0),x(ip(R)))}catch{}};I(),g.current=window.setInterval(I,2e3)},C=()=>{if(!a.trim()){$({title:"Model name required",description:"Please enter a model name",variant:"destructive"});return}p(""),y.mutate({model:a.trim()})},_=()=>{if(l==="downloading"){$({title:"Download in progress",description:"Please wait for the download to complete"});return}n(!1)};return!e||e.endpoint_type!=="xllm"?null:t.jsx(Ce,{open:s,onOpenChange:N=>{if(N){n(!0);return}_()},children:t.jsxs(xe,{className:"sm:max-w-md",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(Dn,{className:"h-5 w-5"}),"Download Model"]}),t.jsxs(ye,{children:["Download a model to ",e.name]})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[l==="idle"&&t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"model-name",children:"Model Name"}),t.jsx(he,{id:"model-name",placeholder:"e.g., llama-3.1-8b-instruct",value:a,onChange:N=>i(N.target.value),disabled:y.isPending}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the model name as recognized by xLLM"})]}),l==="downloading"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(me,{className:"h-4 w-4 animate-spin"}),t.jsxs("span",{className:"text-sm font-medium",children:["Downloading ",a]})]}),t.jsx(xc,{value:h,className:"h-2"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:m})]}),l==="completed"&&t.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[t.jsx(ed,{className:"h-12 w-12 text-green-500"}),t.jsx("p",{className:"text-sm font-medium",children:"Download Completed"}),t.jsxs("p",{className:"text-xs text-muted-foreground",children:[a," is now available"]})]}),l==="error"&&t.jsxs("div",{className:"flex flex-col items-center gap-2 py-4",children:[t.jsx($t,{className:"h-12 w-12 text-destructive"}),t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Download Failed"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:v})]})]}),t.jsxs(De,{children:[(l==="idle"||l==="error")&&t.jsxs(t.Fragment,{children:[t.jsx(P,{variant:"outline",onClick:_,children:"Cancel"}),t.jsxs(P,{onClick:C,disabled:!a.trim()||y.isPending,children:[y.isPending&&t.jsx(me,{className:"mr-2 h-4 w-4 animate-spin"}),"Download"]})]}),l==="completed"&&t.jsx(P,{onClick:_,children:"Close"}),l==="downloading"&&t.jsx("p",{className:"text-xs text-muted-foreground",children:"Download in progress..."})]})]})})}function ip(e){const s=[];return e.speed_mbps!=null&&s.push(`${e.speed_mbps.toFixed(1)} Mbps`),e.eta_seconds!=null&&s.push(`ETA ${cp(e.eta_seconds)}`),s.join(" / ")||"Downloading..."}function cp(e){if(!Number.isFinite(e))return"-";const s=Math.max(0,Math.floor(e)),n=Math.floor(s/60),r=s%60;return n<=0?`${r}s`:`${n}m ${r}s`}function lp(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function dp(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function up(e){switch(e){case"xllm":return"xLLM";case"ollama":return"Ollama";case"vllm":return"vLLM";case"openai_compatible":return"OpenAI Compatible";case"unknown":return"Unknown";default:return"-"}}function hp(e){switch(e){case"xllm":return"default";case"ollama":case"vllm":return"secondary";default:return"outline"}}function fp({endpoint:e,open:s,onOpenChange:n}){const r=Qe(),[a,i]=o.useState(e?.name||""),[l,c]=o.useState(e?.notes||""),[d,u]=o.useState(e?.health_check_interval_secs?.toString()||"30"),[h,f]=o.useState(e?.inference_timeout_secs?.toString()||"120"),[m,x]=o.useState(!1);o.useEffect(()=>{e&&(i(e.name||""),c(e.notes||""),u(e.health_check_interval_secs?.toString()||"30"),f(e.inference_timeout_secs?.toString()||"120"))},[e]);const{data:v,isLoading:p}=_e({queryKey:["endpoint-models",e?.id],queryFn:()=>Ne.getModels(e.id),enabled:!!e?.id&&s}),g=()=>{e&&(window.location.hash=`playground/${e.id}`,n(!1))},y=Ae({mutationFn:N=>Ne.update(e.id,N),onSuccess:()=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),$({title:"Update Complete",description:"Endpoint settings updated"})},onError:N=>{$({title:"Update Failed",description:String(N),variant:"destructive"})}}),j=Ae({mutationFn:()=>Ne.test(e.id),onSuccess:N=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),$({title:N.success?"Connection Successful":"Connection Failed",description:N.message||(N.latency_ms?`Latency: ${N.latency_ms}ms`:""),variant:N.success?"default":"destructive"})},onError:N=>{$({title:"Connection Test Failed",description:String(N),variant:"destructive"})}}),C=Ae({mutationFn:()=>Ne.sync(e.id),onSuccess:N=>{r.invalidateQueries({queryKey:["dashboard-endpoints"]}),$({title:"Sync Complete",description:`Synced ${N.synced_models} models`})},onError:N=>{$({title:"Sync Failed",description:String(N),variant:"destructive"})}}),_=()=>{y.mutate({name:a!==e?.name?a:void 0,notes:l!==e?.notes?l:void 0,health_check_interval_secs:parseInt(d)!==e?.health_check_interval_secs?parseInt(d):void 0,inference_timeout_secs:parseInt(h)!==e?.inference_timeout_secs?parseInt(h):void 0})};return e?t.jsxs(Ce,{open:s,onOpenChange:n,children:[t.jsxs(xe,{className:"max-w-2xl",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),e.name]}),t.jsx(ye,{children:e.base_url})]}),t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ee,{variant:lp(e.status),children:dp(e.status)}),t.jsx(ee,{variant:hp(e.endpoint_type),children:up(e.endpoint_type)}),e.supports_responses_api&&t.jsx(ee,{variant:"outline",children:"Responses API"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Models: ",e.model_count]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(P,{variant:"outline",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending,children:[t.jsx(ua,{className:"h-4 w-4 mr-1"}),"Test Connection"]}),t.jsxs(P,{variant:"outline",size:"sm",onClick:()=>C.mutate(),disabled:C.isPending||e.status!=="online",children:[t.jsx(nt,{className:`h-4 w-4 mr-1 ${C.isPending?"animate-spin":""}`}),"Sync Models"]})]})]}),t.jsx(it,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),t.jsx("span",{className:"ml-2",children:e.latency_ms!=null?`${e.latency_ms}ms`:"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Registered:"}),t.jsx("span",{className:"ml-2",children:ze(e.registered_at)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Type Source:"}),t.jsx("span",{className:"ml-2",children:e.endpoint_type_source})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Type Detected:"}),t.jsx("span",{className:"ml-2",children:e.endpoint_type_detected_at?Qr(e.endpoint_type_detected_at):"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Seen:"}),t.jsx("span",{className:"ml-2",children:e.last_seen?ze(e.last_seen):"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Error Count:"}),t.jsx("span",{className:"ml-2",children:e.error_count})]}),t.jsxs("div",{className:"col-span-2",children:[t.jsx("span",{className:"text-muted-foreground",children:"Type Reason:"}),t.jsx("span",{className:"ml-2",children:e.endpoint_type_reason??"-"})]})]}),e.last_error&&t.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[t.jsx(la,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Last Error"})]}),t.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:e.last_error})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(J,{className:"flex items-center gap-2",children:[t.jsx(ql,{className:"h-4 w-4"}),"Models (",v?.models?.length||0,")"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[e.endpoint_type==="xllm"&&t.jsxs(P,{variant:"outline",size:"sm",onClick:()=>x(!0),disabled:e.status!=="online",children:[t.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Download Model"]}),t.jsxs(P,{variant:"default",size:"sm",onClick:g,disabled:e.status!=="online"||!v?.models?.length,children:[t.jsx(ws,{className:"h-4 w-4 mr-1"}),"Open Playground"]})]})]}),t.jsx(Ke,{className:"h-32 rounded-md border",children:t.jsx("div",{className:"p-3 space-y-2",children:p?t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(me,{className:"h-4 w-4 animate-spin text-muted-foreground"}),t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading models..."})]}):v?.models?.length?v.models.map(N=>t.jsxs("div",{className:"flex items-center justify-between text-sm py-1.5 px-2 rounded hover:bg-muted/50",children:[t.jsx("span",{className:"font-mono text-xs truncate flex-1",title:N.model_id,children:N.model_id}),t.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[N.max_tokens&&t.jsxs("span",{className:"text-xs text-muted-foreground",children:[(N.max_tokens/1024).toFixed(0),"K ctx"]}),N.capabilities&&N.capabilities.length>0&&t.jsx("div",{className:"flex gap-1",children:N.capabilities.slice(0,2).map(I=>t.jsx(ee,{variant:"outline",className:"text-xs",children:I},I))})]})]},N.model_id)):t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models available"})})})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"name",children:"Display Name"}),t.jsx(he,{id:"name",value:a,onChange:N=>i(N.target.value),placeholder:"Endpoint name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{htmlFor:"healthCheckInterval",children:[t.jsx(Ut,{className:"h-4 w-4 inline mr-1"}),"Health Check Interval (sec)"]}),t.jsx(he,{id:"healthCheckInterval",type:"number",min:"5",max:"3600",value:d,onChange:N=>u(N.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{htmlFor:"inferenceTimeout",children:[t.jsx(Ut,{className:"h-4 w-4 inline mr-1"}),"Inference Timeout (sec)"]}),t.jsx(he,{id:"inferenceTimeout",type:"number",min:"10",max:"600",value:h,onChange:N=>f(N.target.value)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{htmlFor:"notes",children:"Notes"}),t.jsx(ir,{id:"notes",value:l,onChange:N=>c(N.target.value),placeholder:"Notes about this endpoint...",rows:3})]})]})]}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>n(!1),children:"Close"}),t.jsxs(P,{onClick:_,disabled:y.isPending,children:[t.jsx(qd,{className:"h-4 w-4 mr-1"}),y.isPending?"Saving...":"Save"]})]})]}),t.jsx(op,{endpoint:e,open:m,onOpenChange:x})]}):null}const It=10;function mp(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function pp(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function xp(e){switch(e){case"xllm":return"xLLM";case"ollama":return"Ollama";case"vllm":return"vLLM";case"openai_compatible":return"OpenAI";case"unknown":return"Unknown";default:return e}}function gp(e){const s=[`Type source: ${e.endpoint_type_source}`];return e.endpoint_type_reason&&s.push(`Reason: ${e.endpoint_type_reason}`),e.endpoint_type_detected_at&&s.push(`Detected: ${Qr(e.endpoint_type_detected_at)}`),s.join(" | ")}function vp(e){switch(e){case"xllm":return"default";case"ollama":return"secondary";case"vllm":return"secondary";case"openai_compatible":return"outline";case"unknown":return"outline";default:return"outline"}}function yp({endpoints:e,isLoading:s}){const n=Qe(),[r,a]=o.useState(""),[i,l]=o.useState("all"),[c,d]=o.useState("all"),[u,h]=o.useState("status"),[f,m]=o.useState("desc"),[x,v]=o.useState(1),[p,g]=o.useState(null),[y,j]=o.useState(null),[C,_]=o.useState(!1),[N,I]=o.useState(null),[w,R]=o.useState(null),[S,O]=o.useState(!1),[L,K]=o.useState(!1),[E,q]=o.useState(null),[F,B]=o.useState({name:"",base_url:"",api_key:"",notes:""}),re=async()=>{if(!(!F.name||!F.base_url)){K(!0),q(null);try{await Ne.create({name:F.name,base_url:F.base_url,api_key:F.api_key||void 0,notes:F.notes||void 0}),await n.invalidateQueries({queryKey:["dashboard-endpoints"]}),O(!1),B({name:"",base_url:"",api_key:"",notes:""})}catch(b){console.error("Failed to create endpoint:",b),q(b instanceof Error?b.message:"Failed to create endpoint")}finally{K(!1)}}},ae=async()=>{if(y){_(!0);try{await Ne.delete(y.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(b){console.error("Failed to delete endpoint:",b)}finally{_(!1),j(null)}}},A=async b=>{I(b.id);try{await Ne.test(b.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(H){console.error("Failed to test endpoint:",H)}finally{I(null)}},je=async b=>{R(b.id);try{await Ne.sync(b.id),await n.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(H){console.error("Failed to sync endpoint:",H)}finally{R(null)}},oe=o.useMemo(()=>e.filter(b=>{const H=b.name.toLowerCase().includes(r.toLowerCase())||b.base_url.toLowerCase().includes(r.toLowerCase()),Z=i==="all"||b.status===i,V=c==="all"||b.endpoint_type===c;return H&&Z&&V}),[e,r,i,c]),le=o.useMemo(()=>[...oe].sort((b,H)=>{let Z=0;switch(u){case"name":Z=b.name.localeCompare(H.name);break;case"status":{const V={online:0,pending:1,offline:2,error:3};Z=V[b.status]-V[H.status];break}case"latency_ms":Z=(b.latency_ms??1/0)-(H.latency_ms??1/0);break;case"model_count":Z=b.model_count-H.model_count;break;case"registered_at":Z=new Date(b.registered_at).getTime()-new Date(H.registered_at).getTime();break}return f==="asc"?Z:-Z}),[oe,u,f]),Re=o.useMemo(()=>{const b=(x-1)*It;return le.slice(b,b+It)},[le,x]),de=Math.ceil(le.length/It),we=b=>{u===b?m(f==="asc"?"desc":"asc"):(h(b),m("desc"))},ie=({field:b})=>u!==b?null:f==="asc"?t.jsx(ca,{className:"ml-1 h-4 w-4 inline"}):t.jsx(In,{className:"ml-1 h-4 w-4 inline"});return s&&e.length===0?t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),"Endpoints"]})}),t.jsx(lt,{children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(qt,{className:"h-5 w-5"}),"Endpoints",t.jsx(ee,{variant:"secondary",className:"ml-2",children:oe.length})]}),t.jsxs(P,{onClick:()=>O(!0),children:[t.jsx(Ns,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),t.jsxs(lt,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Bd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(he,{placeholder:"Search by name or URL...",value:r,onChange:b=>{a(b.target.value),v(1)},className:"pl-10"})]}),t.jsxs(tt,{value:i,onValueChange:b=>{l(b),v(1)},children:[t.jsx(We,{className:"w-[140px]",children:t.jsx(st,{placeholder:"Status"})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All Status"}),t.jsx(X,{value:"online",children:"Online"}),t.jsx(X,{value:"pending",children:"Pending"}),t.jsx(X,{value:"offline",children:"Offline"}),t.jsx(X,{value:"error",children:"Error"})]})]}),t.jsxs(tt,{value:c,onValueChange:b=>{d(b),v(1)},children:[t.jsx(We,{className:"w-[140px]",children:t.jsx(st,{placeholder:"Type"})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All Types"}),t.jsx(X,{value:"xllm",children:"xLLM"}),t.jsx(X,{value:"ollama",children:"Ollama"}),t.jsx(X,{value:"vllm",children:"vLLM"}),t.jsx(X,{value:"openai_compatible",children:"OpenAI"}),t.jsx(X,{value:"unknown",children:"Unknown"})]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Et,{children:[t.jsx(Rt,{children:t.jsxs(ke,{children:[t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>we("name"),children:["Name",t.jsx(ie,{field:"name"})]}),t.jsx(Y,{children:"URL"}),t.jsx(Y,{children:"Type"}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>we("status"),children:["Status",t.jsx(ie,{field:"status"})]}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>we("latency_ms"),children:["Latency",t.jsx(ie,{field:"latency_ms"})]}),t.jsxs(Y,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>we("model_count"),children:["Models",t.jsx(ie,{field:"model_count"})]}),t.jsx(Y,{children:"Last Seen"}),t.jsx(Y,{className:"text-right",children:"Actions"})]})}),t.jsx(Mt,{children:Re.length===0?t.jsx(ke,{children:t.jsx(G,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:r||i!=="all"?"No endpoints match the filter criteria":"No endpoints registered"})}):Re.map(b=>t.jsxs(ke,{children:[t.jsx(G,{className:"font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:b.name}),b.supports_responses_api&&t.jsx(ee,{variant:"outline",className:"text-xs",children:"Responses API"})]})}),t.jsx(G,{children:t.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:b.base_url})}),t.jsx(G,{children:t.jsx(ee,{variant:vp(b.endpoint_type),title:gp(b),children:xp(b.endpoint_type)})}),t.jsxs(G,{children:[t.jsx(ee,{variant:mp(b.status),children:pp(b.status)}),b.last_error&&t.jsxs("span",{className:"ml-2 text-xs text-destructive",children:["(",b.error_count," errors)"]})]}),t.jsx(G,{className:"text-right",children:b.latency_ms!=null?`${b.latency_ms}ms`:"-"}),t.jsx(G,{className:"text-right",children:b.model_count}),t.jsx(G,{children:b.last_seen?ze(b.last_seen):"-"}),t.jsx(G,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>g(b),title:"Details",children:t.jsx(Ed,{className:"h-4 w-4"})}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>A(b),disabled:N===b.id,title:"Test Connection",children:t.jsx(ua,{className:T("h-4 w-4",N===b.id&&"animate-pulse")})}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>je(b),disabled:w===b.id||b.status!=="online",title:"Sync Models",children:t.jsx(nt,{className:T("h-4 w-4",w===b.id&&"animate-spin")})}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>j(b),title:"Delete",children:t.jsx(Ht,{className:"h-4 w-4 text-destructive"})})]})})]},b.id))})]})}),de>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(x-1)*It+1," -"," ",Math.min(x*It,le.length)," of ",le.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(P,{variant:"outline",size:"sm",onClick:()=>v(b=>Math.max(1,b-1)),disabled:x===1,children:t.jsx(ia,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm",children:[x," / ",de]}),t.jsx(P,{variant:"outline",size:"sm",onClick:()=>v(b=>Math.min(de,b+1)),disabled:x===de,children:t.jsx(An,{className:"h-4 w-4"})})]})]})]})]}),p&&t.jsx(fp,{endpoint:p,open:!!p,onOpenChange:b=>!b&&g(null)}),t.jsx(Ds,{open:!!y,onOpenChange:b=>!b&&j(null),children:t.jsxs(Qt,{children:[t.jsxs(Yt,{children:[t.jsx(Zt,{children:"Delete Endpoint?"}),t.jsxs(Jt,{children:['This will delete "',y?.name,'". This action cannot be undone. Models associated with this endpoint will no longer be available.']})]}),t.jsxs(Xt,{children:[t.jsx(ts,{disabled:C,children:"Cancel"}),t.jsx(es,{onClick:ae,disabled:C,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:C?"Deleting...":"Delete"})]})]})}),t.jsx(Ce,{open:S,onOpenChange:b=>{b||(q(null),B({name:"",base_url:"",api_key:"",notes:""})),O(b)},children:t.jsxs(xe,{className:"sm:max-w-[500px]",children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Add New Endpoint"}),t.jsx(ye,{children:"Register a new inference service endpoint (Ollama, vLLM, etc.)"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-name",children:"Name *"}),t.jsx(he,{id:"endpoint-name",placeholder:"e.g., Production Ollama",value:F.name,onChange:b=>B({...F,name:b.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-url",children:"Base URL *"}),t.jsx(he,{id:"endpoint-url",placeholder:"e.g., http://localhost:11434",value:F.base_url,onChange:b=>B({...F,base_url:b.target.value})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The base URL of the OpenAI-compatible API endpoint"})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-api-key",children:"API Key (optional)"}),t.jsx(he,{id:"endpoint-api-key",type:"password",placeholder:"sk-...",value:F.api_key,onChange:b=>B({...F,api_key:b.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(J,{htmlFor:"endpoint-notes",children:"Notes (optional)"}),t.jsx(he,{id:"endpoint-notes",placeholder:"Description or notes about this endpoint",value:F.notes,onChange:b=>B({...F,notes:b.target.value})})]}),E&&t.jsx("p",{className:"text-sm text-destructive",children:E})]}),t.jsxs(De,{children:[t.jsx(P,{variant:"outline",onClick:()=>O(!1),disabled:L,children:"Cancel"}),t.jsx(P,{onClick:re,disabled:L||!F.name||!F.base_url,children:L?"Creating...":"Create Endpoint"})]})]})})]})}var $s="Tabs",[bp]=Be($s,[Ss]),gc=Ss(),[jp,cr]=bp($s),vc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...u}=e,h=zt(c),[f,m]=et({prop:r,onChange:a,defaultProp:i??"",caller:$s});return t.jsx(jp,{scope:n,baseId:Ue(),value:f,onValueChange:m,orientation:l,dir:h,activationMode:d,children:t.jsx(U.div,{dir:h,"data-orientation":l,...u,ref:s})})});vc.displayName=$s;var yc="TabsList",bc=o.forwardRef((e,s)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,i=cr(yc,n),l=gc(n);return t.jsx(va,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx(U.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});bc.displayName=yc;var jc="TabsTrigger",wc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...i}=e,l=cr(jc,n),c=gc(n),d=Sc(l.baseId,r),u=_c(l.baseId,r),h=r===l.value;return t.jsx(ya,{asChild:!0,...c,focusable:!a,active:h,children:t.jsx(U.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:M(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?l.onValueChange(r):f.preventDefault()}),onKeyDown:M(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(r)}),onFocus:M(e.onFocus,()=>{const f=l.activationMode!=="manual";!h&&!a&&f&&l.onValueChange(r)})})})});wc.displayName=jc;var Nc="TabsContent",Cc=o.forwardRef((e,s)=>{const{__scopeTabs:n,value:r,forceMount:a,children:i,...l}=e,c=cr(Nc,n),d=Sc(c.baseId,r),u=_c(c.baseId,r),h=r===c.value,f=o.useRef(h);return o.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),t.jsx(Ee,{present:a||h,children:({present:m})=>t.jsx(U.div,{"data-state":h?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!m,id:u,tabIndex:0,...l,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});Cc.displayName=Nc;function Sc(e,s){return`${e}-trigger-${s}`}function _c(e,s){return`${e}-content-${s}`}var wp=vc,kc=bc,Ec=wc,Rc=Cc;const lr=wp,Us=o.forwardRef(({className:e,...s},n)=>t.jsx(kc,{ref:n,className:T("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));Us.displayName=kc.displayName;const Le=o.forwardRef(({className:e,...s},n)=>t.jsx(Ec,{ref:n,className:T("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));Le.displayName=Ec.displayName;const $e=o.forwardRef(({className:e,...s},n)=>t.jsx(Rc,{ref:n,className:T("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));$e.displayName=Rc.displayName;const Np=[25,50,100];function Cp({history:e,isLoading:s}){const[n,r]=o.useState(25),[a,i]=o.useState(1),[l,c]=o.useState(null),[d,u]=o.useState(null),h=Math.ceil(e.length/n),f=e.slice((a-1)*n,a*n),m=async(x,v)=>{try{await navigator.clipboard.writeText(x),u(v),setTimeout(()=>u(null),2e3),$({title:"Copied to clipboard"})}catch{$({title:"Failed to copy",variant:"destructive"})}};return s?t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(At,{className:"h-5 w-5"}),"Request History"]})}),t.jsx(lt,{children:t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((x,v)=>t.jsx("div",{className:"h-12 shimmer rounded"},v))})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(ct,{children:[t.jsx(Nt,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(At,{className:"h-5 w-5"}),"Request History",t.jsx(ee,{variant:"secondary",className:"ml-2",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),t.jsxs(tt,{value:n.toString(),onValueChange:x=>{r(Number(x)),i(1)},children:[t.jsx(We,{id:"history-per-page",className:"w-20",children:t.jsx(st,{})}),t.jsx(Ge,{children:Np.map(x=>t.jsx(X,{value:x.toString(),children:x},x))})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]})}),t.jsxs(lt,{className:"px-0",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Et,{children:[t.jsx(Rt,{children:t.jsxs(ke,{children:[t.jsx(Y,{children:"Time"}),t.jsx(Y,{children:"Model"}),t.jsx(Y,{children:"Node"}),t.jsx(Y,{children:"Status"}),t.jsx(Y,{children:"Duration"}),t.jsx(Y,{children:"Tokens"})]})}),t.jsx(Mt,{id:"request-history-tbody",children:f.length===0?t.jsx(ke,{children:t.jsx(G,{colSpan:6,className:"h-32 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t.jsx(At,{className:"h-8 w-8"}),t.jsx("p",{children:"No request history"})]})})}):f.map(x=>t.jsxs(ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>c(x),children:[t.jsx(G,{className:"font-mono text-xs",children:ze(x.timestamp)}),t.jsx(G,{children:t.jsx(ee,{variant:"secondary",children:x.model})}),t.jsx(G,{className:"text-sm",children:x.node_name||x.node_id?.slice(0,8)||""}),t.jsx(G,{children:t.jsxs(ee,{variant:x.status==="success"?"online":"destructive",className:"gap-1",children:[x.status==="success"?t.jsx(us,{className:"h-3 w-3"}):t.jsx($t,{className:"h-3 w-3"}),x.status]})}),t.jsx(G,{children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Ut,{className:"h-3 w-3 text-muted-foreground"}),sn(x.duration_ms)]})}),t.jsx(G,{className:"text-sm",children:x.total_tokens?.toLocaleString()||""})]},x.request_id))})]})}),h>1&&t.jsxs("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(a-1)*n+1," to"," ",Math.min(a*n,e.length)," of ",e.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(P,{id:"history-page-prev",variant:"outline",size:"sm",onClick:()=>i(x=>Math.max(1,x-1)),disabled:a===1,children:t.jsx(ia,{className:"h-4 w-4"})}),t.jsxs("span",{id:"history-page-info",className:"text-sm",children:["Page ",a," of ",h]}),t.jsx(P,{id:"history-page-next",variant:"outline",size:"sm",onClick:()=>i(x=>Math.min(h,x+1)),disabled:a===h,children:t.jsx(An,{className:"h-4 w-4"})})]})]})]})]}),t.jsx(Ce,{open:!!l,onOpenChange:()=>c(null),children:t.jsxs(xe,{id:"request-modal",className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(ge,{children:[t.jsxs(ve,{className:"flex items-center gap-2",children:[t.jsx(At,{className:"h-5 w-5"}),"Request Details"]}),t.jsxs(ye,{children:["Request ID: ",t.jsx("code",{className:"text-xs",children:l?.request_id})]})]}),l&&t.jsxs(lr,{defaultValue:"overview",className:"mt-4",children:[t.jsxs(Us,{className:"grid w-full grid-cols-3",children:[t.jsx(Le,{value:"overview",children:"Overview"}),t.jsx(Le,{value:"request",children:"Request"}),t.jsx(Le,{value:"response",children:"Response"})]}),t.jsxs($e,{value:"overview",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),t.jsx(ee,{variant:"secondary",children:l.model})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsx(ee,{variant:l.status==="success"?"online":"destructive",children:l.status})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Node"}),t.jsx("p",{className:"text-sm",children:l.node_name||l.node_id||""})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),t.jsx("p",{className:"text-sm",children:sn(l.duration_ms)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Timestamp"}),t.jsx("p",{className:"text-sm",children:new Date(l.timestamp).toLocaleString()})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),t.jsx("p",{className:"text-sm",children:l.total_tokens?.toLocaleString()||""})]})]}),l.error&&t.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error"}),t.jsx("p",{className:"mt-1 text-sm",children:l.error})]})]}),t.jsx($e,{value:"request",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(P,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>m(JSON.stringify(l.request_body,null,2),"request"),children:d==="request"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.request_body,null,2)||"No request body"})})]})}),t.jsx($e,{value:"response",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(P,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>m(JSON.stringify(l.response_body,null,2),"response"),children:d==="response"?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.response_body,null,2)||"No response body"})})]})})]})]})})]})}var qs="Switch",[Sp]=Be(qs),[_p,kp]=Sp(qs),Mc=o.forwardRef((e,s)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:u,form:h,...f}=e,[m,x]=o.useState(null),v=Q(s,C=>x(C)),p=o.useRef(!1),g=m?h||!!m.closest("form"):!0,[y,j]=et({prop:a,defaultProp:i??!1,onChange:u,caller:qs});return t.jsxs(_p,{scope:n,checked:y,disabled:c,children:[t.jsx(U.button,{type:"button",role:"switch","aria-checked":y,"aria-required":l,"data-state":Ac(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:v,onClick:M(e.onClick,C=>{j(_=>!_),g&&(p.current=C.isPropagationStopped(),p.current||C.stopPropagation())})}),g&&t.jsx(Ic,{control:m,bubbles:!p.current,name:r,value:d,checked:y,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});Mc.displayName=qs;var Pc="SwitchThumb",Tc=o.forwardRef((e,s)=>{const{__scopeSwitch:n,...r}=e,a=kp(Pc,n);return t.jsx(U.span,{"data-state":Ac(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:s})});Tc.displayName=Pc;var Ep="SwitchBubbleInput",Ic=o.forwardRef(({__scopeSwitch:e,control:s,checked:n,bubbles:r=!0,...a},i)=>{const l=o.useRef(null),c=Q(l,i),d=zn(n),u=Vr(s);return o.useEffect(()=>{const h=l.current;if(!h)return;const f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==n&&x){const v=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(v)}},[d,n,r]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:c,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Ic.displayName=Ep;function Ac(e){return e?"checked":"unchecked"}var Dc=Mc,Rp=Tc;const dr=o.forwardRef(({className:e,...s},n)=>t.jsx(Dc,{className:T("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:n,children:t.jsx(Rp,{className:T("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));dr.displayName=Dc.displayName;function Mp(){const[e,s]=o.useState("all"),[n,r]=o.useState(!0),a=o.useRef(null),{data:i,refetch:l,isRefetching:c}=_e({queryKey:["router-logs"],queryFn:()=>bt.getRouterLogs({limit:200}),refetchInterval:5e3}),u=i?.entries?.filter(v=>e==="all"?!0:v.level.toLowerCase()===e);o.useEffect(()=>{if(n&&a.current){const v=a.current.querySelector("[data-radix-scroll-area-viewport]");v&&(v.scrollTop=v.scrollHeight)}},[u,n]);const h=()=>{l()},f=()=>{$({title:"Log clearing is handled on the server side"})},m=()=>{if(!u||u.length===0){$({title:"No logs to download",variant:"destructive"});return}const v=u.map(j=>`[${j.timestamp}] [${j.level}] ${j.target?`[${j.target}] `:""}${j.message||""}`).join(`
`),p=new Blob([v],{type:"text/plain"}),g=URL.createObjectURL(p),y=document.createElement("a");y.href=g,y.download=`logs-llmlb-${new Date().toISOString().slice(0,10)}.txt`,y.click(),URL.revokeObjectURL(g),$({title:"Logs downloaded"})},x=v=>{const p=v.toLowerCase();return p==="error"?"text-destructive":p==="warn"||p==="warning"?"text-warning":p==="info"?"text-primary":p==="debug"?"text-muted-foreground":"text-foreground"};return t.jsxs(ct,{children:[t.jsx(Nt,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(da,{className:"h-5 w-5"}),"Log Viewer",u&&t.jsx(ee,{variant:"secondary",className:"ml-2",children:u.length})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border rounded-md bg-muted/30",children:[t.jsx(qt,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"LLM Load Balancer"})]}),t.jsxs(tt,{value:e,onValueChange:v=>s(v),children:[t.jsx(We,{className:"w-28",children:t.jsx(st,{})}),t.jsxs(Ge,{children:[t.jsx(X,{value:"all",children:"All"}),t.jsx(X,{value:"error",children:"Error"}),t.jsx(X,{value:"warn",children:"Warn"}),t.jsx(X,{value:"info",children:"Info"}),t.jsx(X,{value:"debug",children:"Debug"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(dr,{id:"auto-scroll",checked:n,onCheckedChange:r}),t.jsx(J,{htmlFor:"auto-scroll",className:"text-sm",children:"Auto-scroll"})]})]})]})}),t.jsxs(lt,{children:[t.jsxs("div",{className:"mb-4 flex gap-2",children:[t.jsxs(P,{id:"logs-router-refresh",variant:"outline",size:"sm",onClick:h,disabled:c,children:[t.jsx(nt,{className:T("mr-2 h-4 w-4",c&&"animate-spin")}),"Refresh"]}),t.jsxs(P,{variant:"outline",size:"sm",onClick:m,children:[t.jsx(Dn,{className:"mr-2 h-4 w-4"}),"Download"]}),t.jsxs(P,{variant:"outline",size:"sm",onClick:f,children:[t.jsx(Ht,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),t.jsx(Ke,{className:"h-96 rounded-md border bg-muted/30",ref:a,children:t.jsx("div",{id:"logs-router-list",className:"p-4 font-mono text-xs space-y-0.5",children:!u||u.length===0?t.jsx("div",{className:"flex h-32 items-center justify-center text-muted-foreground",children:"No logs available"}):u.map((v,p)=>t.jsxs("div",{className:"flex gap-2 py-0.5 hover:bg-muted/50 rounded px-1 -mx-1",children:[t.jsx("span",{className:"text-muted-foreground shrink-0",children:new Date(v.timestamp).toLocaleTimeString()}),t.jsx("span",{className:T("uppercase w-12 shrink-0 font-semibold",x(v.level)),children:v.level}),v.target&&t.jsxs("span",{className:"text-muted-foreground shrink-0",children:["[",v.target,"]"]}),t.jsx("span",{className:"break-all",children:v.message||""})]},p))})})]})]})}function Pp(){const{data:e,isLoading:s}=_e({queryKey:["token-stats-daily"],queryFn:()=>bt.getDailyTokenStats(7)}),{data:n,isLoading:r}=_e({queryKey:["token-stats-monthly"],queryFn:()=>bt.getMonthlyTokenStats(6)});return t.jsxs(ct,{children:[t.jsx(Nt,{children:t.jsxs(Ct,{className:"flex items-center gap-2",children:[t.jsx(ws,{className:"h-5 w-5"}),"Token Statistics"]})}),t.jsx(lt,{children:t.jsxs(lr,{defaultValue:"daily",className:"space-y-4",children:[t.jsxs(Us,{children:[t.jsxs(Le,{value:"daily",className:"gap-2",children:[t.jsx(nu,{className:"h-4 w-4"}),"Daily"]}),t.jsxs(Le,{value:"monthly",className:"gap-2",children:[t.jsx(Bl,{className:"h-4 w-4"}),"Monthly"]})]}),t.jsx($e,{value:"daily",children:s?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):e&&e.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Date"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),e.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.date}),t.jsx("div",{className:"text-right",children:ue(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:ue(a.total_tokens)})]},a.date))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No daily statistics available"})}),t.jsx($e,{value:"monthly",children:r?t.jsx("div",{className:"space-y-2",children:[...Array(3)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):n&&n.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Month"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),n.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.month}),t.jsx("div",{className:"text-right",children:ue(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:ue(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:ue(a.total_tokens)})]},a.month))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No monthly statistics available"})})]})})]})}function Tp(){const{user:e}=Tn(),{isConnected:s}=lu(),[n,r]=o.useState(null),[a,i]=o.useState(null),l=o.useRef(null),[c,d]=o.useState(!1),u=s?1e4:5e3,h=o.useCallback(async()=>{l.current=performance.now();const w=await bt.getOverview(),R=performance.now();return i(Math.round(R-(l.current||R))),r(new Date),w},[]),{data:f,isLoading:m,error:x,refetch:v}=_e({queryKey:["dashboard-overview"],queryFn:h,refetchInterval:u}),{data:p,refetch:g}=_e({queryKey:["system-info"],queryFn:()=>ur.getSystem(),refetchInterval:u}),{data:y,isLoading:j}=_e({queryKey:["request-responses"],queryFn:()=>bt.getRequestResponses({limit:100}),refetchInterval:u}),{data:C,isLoading:_}=_e({queryKey:["dashboard-endpoints"],queryFn:()=>bt.getEndpoints(),refetchInterval:u}),N=o.useMemo(()=>y?.records?y.records.map(w=>({request_id:w.id,timestamp:w.timestamp,model:w.model,node_id:w.node_id,node_name:w.node_machine_name,status:w.status.type,duration_ms:w.duration_ms,error:w.status.type==="error"?w.status.message:void 0,request_body:w.request_body,response_body:w.response_body})):[],[y]),I=o.useMemo(()=>{const w=p?.update;if(!w||w.state==="up_to_date")return null;const R=e?.role==="admin",S=R&&(w.state==="available"||w.state==="failed"),O=w.state==="draining"||w.state==="applying";let L="Update",K="",E=null,q=null;w.state==="available"?(L=`Update available: v${w.latest}`,K=`Current: v${w.current}`,E=w.release_url,w.payload?.payload==="downloading"?q="Downloading...":w.payload?.payload==="ready"?q="Ready":w.payload?.payload==="error"?q="Download failed":q="Preparing..."):w.state==="draining"?(L=`Updating to v${w.latest}`,K=`Waiting for in-flight requests: ${w.in_flight}`):w.state==="applying"?(L=`Applying update: v${w.latest}`,K="Restarting..."):w.state==="failed"&&(L="Update failed",K=w.message,E=w.release_url||null);const F=async()=>{d(!0);try{await ur.applyUpdate(),$({title:"Update queued",description:"llmlb will restart after in-flight requests complete."}),await g()}catch(B){$({title:"Failed to apply update",description:B instanceof Error?B.message:String(B),variant:"destructive"})}finally{d(!1)}};return t.jsx("section",{className:"mb-6",children:t.jsx("div",{className:"rounded-2xl border border-border/60 bg-card/60 backdrop-blur-xl px-5 py-4 shadow-sm",children:t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"mt-0.5 flex h-9 w-9 items-center justify-center rounded-xl bg-primary/10",children:O?t.jsx(me,{className:"h-5 w-5 animate-spin text-primary"}):t.jsx(Nr,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{className:"min-w-0",children:[t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("p",{className:"font-medium leading-6",children:L}),q&&t.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-xs text-muted-foreground",children:q})]}),K&&t.jsx("p",{className:"mt-0.5 text-sm text-muted-foreground",children:K})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[E&&t.jsxs("a",{href:E,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 rounded-lg border border-border/60 bg-background/60 px-3 py-2 text-sm hover:bg-background",children:[t.jsx(hd,{className:"h-4 w-4"}),"Release"]}),t.jsxs("button",{onClick:F,disabled:!S||c||O,className:"inline-flex items-center gap-2 rounded-lg bg-primary px-3 py-2 text-sm font-medium text-primary-foreground disabled:opacity-50",title:R?O?"Update is in progress":void 0:"Admin role is required",children:[c?t.jsx(me,{className:"h-4 w-4 animate-spin"}):t.jsx(Nr,{className:"h-4 w-4"}),"Restart to update"]})]})]})})})},[p?.update,e?.role,c,g]);return x?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:t.jsx(la,{className:"h-8 w-8 text-destructive"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Failed to load dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:x instanceof Error?x.message:"An error occurred"})]}),t.jsx("button",{onClick:()=>v(),className:"text-sm text-primary hover:underline",children:"Try again"})]})}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"fixed inset-0 bg-grid opacity-20 pointer-events-none"}),t.jsx(ep,{user:e,isConnected:!x,lastRefreshed:n,fetchTimeMs:a}),t.jsxs("main",{className:"relative mx-auto max-w-[1600px] px-4 py-6 sm:px-6 lg:px-8",children:[I,t.jsx("section",{className:"mb-8",children:t.jsx(sp,{stats:f?.stats,endpoints:C,isLoading:m})}),t.jsxs(lr,{defaultValue:"endpoints",className:"space-y-6",children:[t.jsxs(Us,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[t.jsxs(Le,{value:"endpoints",className:"gap-2",children:[t.jsx(yd,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Endpoints"})]}),t.jsxs(Le,{value:"statistics",className:"gap-2",children:[t.jsx(zl,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Statistics"})]}),t.jsxs(Le,{value:"history",className:"gap-2",children:[t.jsx(At,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"History"})]}),t.jsxs(Le,{value:"logs",className:"gap-2",children:[t.jsx(da,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Logs"})]})]}),t.jsx($e,{value:"endpoints",className:"animate-fade-in",children:t.jsx(yp,{endpoints:C||[],isLoading:_})}),t.jsx($e,{value:"statistics",className:"animate-fade-in",children:t.jsx(Pp,{})}),t.jsx($e,{value:"history",className:"animate-fade-in",children:t.jsx(Cp,{history:N,isLoading:j})}),t.jsx($e,{value:"logs",className:"animate-fade-in",children:t.jsx(Mp,{})})]})]})]})}function Ip({endpointId:e,onBack:s}){const[n,r]=o.useState([]),[a,i]=o.useState(""),[l,c]=o.useState(!1),[d,u]=o.useState(!1),[h,f]=o.useState(!1),[m,x]=o.useState(!1),[v,p]=o.useState(""),[g,y]=o.useState(""),[j,C]=o.useState(!0),[_,N]=o.useState(.7),[I,w]=o.useState(16384),R=o.useRef(null),S=o.useRef(null),O=o.useRef(null),L=o.useRef(null),K=o.useRef(null),[E,q]=o.useState([]),{data:F,isLoading:B}=_e({queryKey:["endpoint",e],queryFn:()=>Ne.get(e)}),{data:re,isLoading:ae,error:A}=_e({queryKey:["endpoint-models",e],queryFn:()=>Ne.getModels(e),retry:!1});o.useEffect(()=>{if(A){let k="Failed to fetch model list";A instanceof Bc&&(k=A.message),$({title:"Error",description:k,variant:"destructive"})}},[A]),o.useEffect(()=>{re?.models&&!v&&re.models.length>0&&p(re.models[0].model_id)},[re,v]),o.useEffect(()=>{R.current?.scrollIntoView({behavior:"smooth"})},[n]);const je=()=>{r([]),q([]),$({title:"Chat cleared"})},oe=async(k,z)=>{if(k){if(k.size>4*1024*1024){$({title:"File too large",description:"Maximum size is 4MB",variant:"destructive"});return}try{const W=new FileReader;W.onload=te=>{const se=te.target?.result,ne={type:z,name:k.name,data:se,mimeType:k.type};q(fe=>[...fe,ne]),$({title:`${z==="image"?"Image":"Audio"} attached`})},W.readAsDataURL(k)}catch{$({title:"Failed to read file",variant:"destructive"})}}},le=k=>{q(z=>z.filter((W,te)=>te!==k))},Re=k=>{const z=/(data:image\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(png|jpg|jpeg|gif|webp))/gi,W=/(data:audio\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(mp3|wav|ogg|m4a))/gi,te=k.match(z)||[],se=k.match(W)||[];return{imageMatches:te,audioMatches:se}},de=async()=>{if(!a.trim()&&E.length===0||!v||l)return;const k={role:"user",content:a.trim(),attachments:E.length>0?E:void 0},z=[...n,k];r(z),i(""),q([]),c(!0),S.current=new AbortController;try{const W=se=>{if(!se.attachments||se.attachments.length===0)return{role:se.role,content:se.content};const ne=[];return se.content.trim()&&ne.push({type:"text",text:se.content}),se.attachments.forEach(fe=>{if(fe.type==="image")ne.push({type:"image_url",image_url:{url:fe.data}});else if(fe.type==="audio"){const Tt=fe.data.startsWith("data:")?fe.data.split(",")[1]:fe.data;ne.push({type:"input_audio",input_audio:{data:Tt,format:"wav"}})}}),{role:se.role,content:ne}},te=g?[{role:"system",content:g},...z.map(W)]:z.map(W);if(j){let se="";r(ne=>[...ne,{role:"assistant",content:""}]),await Ne.chatCompletions(e,{model:v,messages:te,stream:!0,temperature:_,max_tokens:I},ne=>{se+=ne,r(fe=>{const Tt=[...fe];return Tt[Tt.length-1]={role:"assistant",content:se},Tt})})}else{const ne={role:"assistant",content:(await Ne.chatCompletions(e,{model:v,messages:te,stream:!1,temperature:_,max_tokens:I}))?.choices?.[0]?.message?.content||""};r(fe=>[...fe,ne])}}catch(W){W.name!=="AbortError"&&($({title:"Failed to send message",description:W instanceof Error?W.message:"Unknown error",variant:"destructive"}),r(n))}finally{c(!1),S.current=null,O.current?.focus()}},we=()=>{S.current?.abort(),c(!1)},ie=()=>{const k=g?[{role:"system",content:g},...n]:n;return V?`curl -X POST '${Z}/v1/chat/completions' \\
  -H 'Content-Type: application/json' \\
  -d '${JSON.stringify({model:v,messages:k,stream:j,temperature:_,max_tokens:I},null,2)}'`:"# Error: endpoint base_url is not configured. Please set it in the dashboard."},b=async k=>{try{await navigator.clipboard.writeText(k),x(!0),setTimeout(()=>x(!1),2e3),$({title:"Copied to clipboard"})}catch{$({title:"Failed to copy",variant:"destructive"})}},H=re?.models||[],Z=F?.base_url?.replace(/\/$/,"")||"",V=Z.length>0;return B?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(me,{className:"h-8 w-8 animate-spin text-primary"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading endpoint..."})]})}):t.jsxs("div",{className:"flex h-screen bg-background",children:[t.jsxs("div",{className:"w-64 border-r flex flex-col",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(_n,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-semibold text-sm truncate",title:F?.name,children:F?.name||"Endpoint"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Playground"})]})]})}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"URL:"})," ",t.jsx("span",{className:"truncate block",title:F?.base_url,children:V?F?.base_url:""})]}),!V&&t.jsx("div",{className:"text-xs text-destructive",children:"base_url "}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Status:"})," ",t.jsx(ee,{variant:F?.status==="online"?"default":"secondary",className:"text-xs",children:F?.status})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Models:"})," ",H.length]})]}),t.jsx(it,{}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:s,children:[t.jsx(Dl,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),t.jsxs(P,{variant:"ghost",className:"w-full justify-start",onClick:()=>u(!0),children:[t.jsx(Gd,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"p-3 border-t",children:t.jsxs(P,{variant:"outline",size:"sm",className:"w-full",onClick:je,children:[t.jsx(Ht,{className:"mr-2 h-4 w-4"}),"Clear Chat"]})})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(tt,{value:v,onValueChange:p,children:[t.jsx(We,{className:"w-64",children:t.jsx(st,{placeholder:"Select a model"})}),t.jsx(Ge,{children:ae?t.jsx(X,{value:"__loading__",disabled:!0,children:"Loading models..."}):H.length===0?t.jsx(X,{value:"__no_models__",disabled:!0,children:"No models available"}):H.map(k=>t.jsx(X,{value:k.model_id,children:k.model_id},k.model_id))})]}),t.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[t.jsx(sd,{className:T("h-3 w-3",F?.status==="online"?"text-green-500":"text-yellow-500")}),F?.status==="online"?"Online":F?.status]}),j&&t.jsx(ee,{variant:"secondary",className:"text-xs",children:"Streaming"})]}),t.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),children:[t.jsx(cd,{className:"mr-2 h-4 w-4"}),"cURL"]})]}),t.jsx(Ke,{className:"flex-1 p-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[t.jsx(ws,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),t.jsx("h2",{className:"text-lg font-medium",children:"Start a conversation"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a model and send a message to get started."})]}):n.map((k,z)=>t.jsxs("div",{className:T("flex gap-3",k.role==="user"?"justify-end":""),children:[k.role==="assistant"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:t.jsx($l,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{className:T("rounded-lg px-4 py-3 max-w-[80%] space-y-2",k.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:[k.content&&t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),k.attachments&&k.attachments.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:k.attachments.map((W,te)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:[W.type==="image"&&t.jsx("img",{src:W.data,alt:W.name,className:"w-full h-32 object-cover rounded-sm"}),W.type==="audio"&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[t.jsx(Sr,{className:"h-6 w-6"}),t.jsx("audio",{src:W.data,controls:!0,className:"w-full max-w-[120px]"})]})]},te))}),k.role==="assistant"&&(()=>{const{imageMatches:W,audioMatches:te}=Re(k.content);return t.jsxs(t.Fragment,{children:[W.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:W.map((se,ne)=>t.jsx("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:t.jsx("img",{src:se,alt:`assistant-image-${ne}`,className:"w-full h-32 object-cover rounded-sm"})},ne))}),te.length>0&&t.jsx("div",{className:"space-y-2 mt-2",children:te.map((se,ne)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-2 flex flex-col items-center justify-center gap-2",children:[t.jsx(Sr,{className:"h-4 w-4"}),t.jsx("audio",{src:se,controls:!0,className:"w-full max-w-[200px]"})]},ne))})]})})()]}),k.role==="user"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:t.jsx(Sn,{className:"h-4 w-4"})})]},z)),t.jsx("div",{ref:R})]})}),t.jsx("div",{className:"border-t p-4 bg-gradient-to-b from-background via-background to-muted/5",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[E.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-muted/40 border border-muted-foreground/10",children:E.map((k,z)=>t.jsxs("div",{className:"relative group inline-block rounded-md overflow-hidden bg-background border border-border",children:[k.type==="image"&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:k.data,alt:k.name,className:"h-16 w-16 object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:t.jsx("button",{onClick:()=>le(z),className:"text-white bg-destructive rounded-full p-1 hover:bg-destructive/80",children:t.jsx(tn,{className:"h-3 w-3"})})})]}),k.type==="audio"&&t.jsxs("div",{className:"h-16 w-16 flex flex-col items-center justify-center bg-muted gap-1",children:[t.jsx(Cr,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("button",{onClick:()=>le(z),className:"absolute -top-2 -right-2 text-white bg-destructive rounded-full p-0.5 hover:bg-destructive/80",children:t.jsx(tn,{className:"h-3 w-3"})})]})]},z))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:L,type:"file",accept:"image/*",className:"hidden",onChange:k=>k.target.files?.[0]&&oe(k.target.files[0],"image")}),t.jsx("input",{ref:K,type:"file",accept:"audio/*",className:"hidden",onChange:k=>k.target.files?.[0]&&oe(k.target.files[0],"audio")}),t.jsx(P,{variant:"outline",size:"icon",onClick:()=>L.current?.click(),title:"Attach image",className:"shrink-0",children:t.jsx(_d,{className:"h-4 w-4"})}),t.jsx(P,{variant:"outline",size:"icon",onClick:()=>K.current?.click(),title:"Attach audio",className:"shrink-0",children:t.jsx(Cr,{className:"h-4 w-4"})}),t.jsx(he,{ref:O,placeholder:"Type a message or attach files...",value:a,onChange:k=>i(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&!k.nativeEvent.isComposing&&(k.preventDefault(),de())},onPaste:k=>{const z=k.clipboardData?.files;if(z)for(const W of Array.from(z)){const te=W.type.startsWith("audio/")?"audio":W.type.startsWith("image/")?"image":null;te&&oe(W,te)}},disabled:l,className:"flex-1"}),l?t.jsxs(P,{variant:"destructive",onClick:we,className:"shrink-0",children:[t.jsx(nt,{className:"mr-2 h-4 w-4 animate-spin"}),"Stop"]}):t.jsxs(P,{onClick:de,disabled:!a.trim()&&E.length===0||!v,className:"shrink-0",children:[t.jsx(zd,{className:"mr-2 h-4 w-4"}),"Send"]})]})]})})]}),t.jsx(Ce,{open:d,onOpenChange:u,children:t.jsxs(xe,{children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"Settings"}),t.jsx(ye,{children:"Configure your chat preferences."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"System Prompt"}),t.jsx(ir,{placeholder:"You are a helpful assistant...",value:g,onChange:k=>y(k.target.value),rows:3})]}),t.jsx(it,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(J,{children:"Streaming"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses as they're generated"})]}),t.jsx(dr,{checked:j,onCheckedChange:C})]}),t.jsx(it,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(J,{children:["Temperature: ",_]}),t.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:_,onChange:k=>N(parseFloat(k.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(J,{children:"Max Tokens"}),t.jsx(he,{type:"number",value:I,onChange:k=>w(parseInt(k.target.value)||2048),min:1,max:32e3})]})]}),t.jsx(De,{children:t.jsx(P,{onClick:()=>u(!1),children:"Done"})})]})}),t.jsx(Ce,{open:h,onOpenChange:f,children:t.jsxs(xe,{className:"max-w-2xl",children:[t.jsxs(ge,{children:[t.jsx(ve,{children:"cURL Command"}),t.jsx(ye,{children:"Copy this command to replicate the API call."})]}),t.jsxs("div",{className:"relative",children:[t.jsx(P,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>b(ie()),disabled:!V,children:m?t.jsx(Ve,{className:"h-4 w-4"}):t.jsx(St,{className:"h-4 w-4"})}),t.jsx(Ke,{className:"h-64 rounded-md border bg-muted",children:t.jsx("pre",{className:"p-4 text-xs font-mono",children:ie()})})]}),t.jsx(De,{children:t.jsx(P,{variant:"outline",onClick:()=>f(!1),children:"Close"})})]})})]})}function Ur(){const e=window.location.hash.slice(1);if(e.startsWith("playground/")){const s=e.slice(11);if(s)return{type:"playground",endpointId:s}}return{type:"dashboard"}}function Ap(){const{isLoading:e,isLoggedIn:s}=Tn(),[n,r]=o.useState(Ur),a=o.useCallback(()=>{window.location.hash="",r({type:"dashboard"})},[]);if(o.useEffect(()=>{const i=()=>{r(Ur())};return window.addEventListener("hashchange",i),()=>window.removeEventListener("hashchange",i)},[]),o.useEffect(()=>{!e&&!s&&(window.location.href="/dashboard/login.html")},[e,s]),e)return t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20"}),t.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-spin rounded-full border-4 border-transparent border-t-primary"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});switch(n.type){case"playground":return t.jsx(Ip,{endpointId:n.endpointId,onBack:a});case"dashboard":default:return t.jsx(Tp,{})}}const Dp=new xl({defaultOptions:{queries:{staleTime:5e3,refetchInterval:5e3,retry:1}}});Hc.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(gl,{client:Dp,children:t.jsx(Rl,{children:t.jsxs(zc,{children:[t.jsx(Ap,{}),t.jsx(Vc,{})]})})})}));
