var Pa=e=>{throw TypeError(e)};var Jr=(e,s,r)=>s.has(e)||Pa("Cannot "+r);var x=(e,s,r)=>(Jr(e,s,"read from private field"),r?r.call(e):s.get(e)),$=(e,s,r)=>s.has(e)?Pa("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),P=(e,s,r,n)=>(Jr(e,s,"write to private field"),n?n.call(e,r):s.set(e,r),r),W=(e,s,r)=>(Jr(e,s,"access private method"),r);var dr=(e,s,r,n)=>({set _(a){P(e,s,a,r)},get _(){return x(e,s,n)}});import{r as o,j as t,i as go,a as en,b as hd,R as fd,u as at,c as H,g as md,d as Ae,e as ee,P as V,f as ct,h as Kn,k as I,l as It,m as Tr,n as yo,o as Fe,p as Hn,A as bo,q as Bn,D as zn,C as jo,s as pd,t as wo,v as No,w as L,x as Co,y as xd,z as vd,X as mn,B as gd,E as So,F as O,G as xt,L as ae,I as je,H as X,J as tn,K as Eo,V as yd,U as Vn,M as ur,N as sn,O as Wn,Q as be,S as rn,T as pn,W as Xt,Y as Zt,Z as bd,_ as $e,$ as Es,a0 as Rs,a1 as us,a2 as jd,a3 as wd,a4 as Nd,a5 as Cd}from"./index-BibPp9cq.js";import{T as xn,C as jr}from"./ticket-B8v_-39o.js";var Ms=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sd={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},wt,qn,oo,Ed=(oo=class{constructor(){$(this,wt,Sd);$(this,qn,!1)}setTimeoutProvider(e){P(this,wt,e)}setTimeout(e,s){return x(this,wt).setTimeout(e,s)}clearTimeout(e){x(this,wt).clearTimeout(e)}setInterval(e,s){return x(this,wt).setInterval(e,s)}clearInterval(e){x(this,wt).clearInterval(e)}},wt=new WeakMap,qn=new WeakMap,oo),$t=new Ed;function Rd(e){setTimeout(e,0)}var Jt=typeof window>"u"||"Deno"in globalThis;function Ce(){}function kd(e,s){return typeof e=="function"?e(s):e}function vn(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ro(e,s){return Math.max(e+(s||0)-Date.now(),0)}function Pt(e,s){return typeof e=="function"?e(s):e}function Ue(e,s){return typeof e=="function"?e(s):e}function Ta(e,s){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:l,stale:c}=e;if(l){if(n){if(s.queryHash!==Gn(l,s.options))return!1}else if(!Ks(s.queryKey,l))return!1}if(r!=="all"){const d=s.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||a&&a!==s.state.fetchStatus||i&&!i(s))}function Ia(e,s){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!s.options.mutationKey)return!1;if(r){if(es(s.options.mutationKey)!==es(i))return!1}else if(!Ks(s.options.mutationKey,i))return!1}return!(n&&s.state.status!==n||a&&!a(s))}function Gn(e,s){return((s==null?void 0:s.queryKeyHashFn)||es)(e)}function es(e){return JSON.stringify(e,(s,r)=>gn(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ks(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>Ks(e[r],s[r])):!1}var _d=Object.prototype.hasOwnProperty;function ko(e,s){if(e===s)return e;const r=Aa(e)&&Aa(s);if(!r&&!(gn(e)&&gn(s)))return s;const a=(r?e:Object.keys(e)).length,i=r?s:Object.keys(s),l=i.length,c=r?new Array(l):{};let d=0;for(let h=0;h<l;h++){const f=r?h:i[h],u=e[f],p=s[f];if(u===p){c[f]=u,(r?h<a:_d.call(e,f))&&d++;continue}if(u===null||p===null||typeof u!="object"||typeof p!="object"){c[f]=p;continue}const v=ko(u,p);c[f]=v,v===u&&d++}return a===l&&d===a?e:c}function wr(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function Aa(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gn(e){if(!Da(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!Da(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Da(e){return Object.prototype.toString.call(e)==="[object Object]"}function Md(e){return new Promise(s=>{$t.setTimeout(s,e)})}function yn(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?ko(e,s):s}function Pd(e,s,r=0){const n=[...e,s];return r&&n.length>r?n.slice(1):n}function Td(e,s,r=0){const n=[s,...e];return r&&n.length>r?n.slice(0,-1):n}var Qn=Symbol();function _o(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===Qn?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Yn(e,s){return typeof e=="function"?e(...s):!!e}function Id(e,s,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=s()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var qt,Nt,ms,io,Ad=(io=class extends Ms{constructor(){super();$(this,qt);$(this,Nt);$(this,ms);P(this,ms,s=>{if(!Jt&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Nt)||this.setEventListener(x(this,ms))}onUnsubscribe(){var s;this.hasListeners()||((s=x(this,Nt))==null||s.call(this),P(this,Nt,void 0))}setEventListener(s){var r;P(this,ms,s),(r=x(this,Nt))==null||r.call(this),P(this,Nt,s(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(s){x(this,qt)!==s&&(P(this,qt,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof x(this,qt)=="boolean"?x(this,qt):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},qt=new WeakMap,Nt=new WeakMap,ms=new WeakMap,io),Xn=new Ad;function bn(){let e,s;const r=new Promise((a,i)=>{e=a,s=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),s(a)},r}var Dd=Rd;function Od(){let e=[],s=0,r=c=>{c()},n=c=>{c()},a=Dd;const i=c=>{s?e.push(c):a(()=>{r(c)})},l=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;s++;try{d=c()}finally{s--,s||l()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var xe=Od(),ps,Ct,xs,co,Fd=(co=class extends Ms{constructor(){super();$(this,ps,!0);$(this,Ct);$(this,xs);P(this,xs,s=>{if(!Jt&&window.addEventListener){const r=()=>s(!0),n=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){x(this,Ct)||this.setEventListener(x(this,xs))}onUnsubscribe(){var s;this.hasListeners()||((s=x(this,Ct))==null||s.call(this),P(this,Ct,void 0))}setEventListener(s){var r;P(this,xs,s),(r=x(this,Ct))==null||r.call(this),P(this,Ct,s(this.setOnline.bind(this)))}setOnline(s){x(this,ps)!==s&&(P(this,ps,s),this.listeners.forEach(n=>{n(s)}))}isOnline(){return x(this,ps)}},ps=new WeakMap,Ct=new WeakMap,xs=new WeakMap,co),Nr=new Fd;function Ld(e){return Math.min(1e3*2**e,3e4)}function Mo(e){return(e??"online")==="online"?Nr.isOnline():!0}var jn=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Po(e){let s=!1,r=0,n;const a=bn(),i=()=>a.status!=="pending",l=m=>{var g;if(!i()){const j=new jn(m);p(j),(g=e.onCancel)==null||g.call(e,j)}},c=()=>{s=!0},d=()=>{s=!1},h=()=>Xn.isFocused()&&(e.networkMode==="always"||Nr.isOnline())&&e.canRun(),f=()=>Mo(e.networkMode)&&e.canRun(),u=m=>{i()||(n==null||n(),a.resolve(m))},p=m=>{i()||(n==null||n(),a.reject(m))},v=()=>new Promise(m=>{var g;n=j=>{(i()||h())&&m(j)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;n=void 0,i()||(m=e.onContinue)==null||m.call(e)}),y=()=>{if(i())return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(j){m=Promise.reject(j)}Promise.resolve(m).then(u).catch(j=>{var A;if(i())return;const b=e.retry??(Jt?0:3),w=e.retryDelay??Ld,N=typeof w=="function"?w(r,j):w,M=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,j);if(s||!M){p(j);return}r++,(A=e.onFail)==null||A.call(e,r,j),Md(N).then(()=>h()?void 0:v()).then(()=>{s?p(j):y()})})};return{promise:a,status:()=>a.status,cancel:l,continue:()=>(n==null||n(),a),cancelRetry:c,continueRetry:d,canStart:f,start:()=>(f()?y():v().then(y),a)}}var Kt,lo,To=(lo=class{constructor(){$(this,Kt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vn(this.gcTime)&&P(this,Kt,$t.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jt?1/0:300*1e3))}clearGcTimeout(){x(this,Kt)&&($t.clearTimeout(x(this,Kt)),P(this,Kt,void 0))}},Kt=new WeakMap,lo),Ht,vs,Le,Bt,ge,Ws,zt,Ve,dt,uo,Ud=(uo=class extends To{constructor(s){super();$(this,Ve);$(this,Ht);$(this,vs);$(this,Le);$(this,Bt);$(this,ge);$(this,Ws);$(this,zt);P(this,zt,!1),P(this,Ws,s.defaultOptions),this.setOptions(s.options),this.observers=[],P(this,Bt,s.client),P(this,Le,x(this,Bt).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,P(this,Ht,Fa(this.options)),this.state=s.state??x(this,Ht),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=x(this,ge))==null?void 0:s.promise}setOptions(s){if(this.options={...x(this,Ws),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Fa(this.options);r.data!==void 0&&(this.setState(Oa(r.data,r.dataUpdatedAt)),P(this,Ht,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,Le).remove(this)}setData(s,r){const n=yn(this.state.data,s,this.options);return W(this,Ve,dt).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(s,r){W(this,Ve,dt).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var n,a;const r=(n=x(this,ge))==null?void 0:n.promise;return(a=x(this,ge))==null||a.cancel(s),r?r.then(Ce).catch(Ce):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,Ht))}isActive(){return this.observers.some(s=>Ue(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Qn||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>Pt(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!Ro(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(n=>n.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=x(this,ge))==null||r.continue()}onOnline(){var r;const s=this.observers.find(n=>n.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=x(this,ge))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),x(this,Le).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(x(this,ge)&&(x(this,zt)?x(this,ge).cancel({revert:!0}):x(this,ge).cancelRetry()),this.scheduleGc()),x(this,Le).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||W(this,Ve,dt).call(this,{type:"invalidate"})}async fetch(s,r){var d,h,f,u,p,v,y,m,g,j,b,w;if(this.state.fetchStatus!=="idle"&&((d=x(this,ge))==null?void 0:d.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,ge))return x(this,ge).continueRetry(),x(this,ge).promise}if(s&&this.setOptions(s),!this.options.queryFn){const N=this.observers.find(M=>M.options.queryFn);N&&this.setOptions(N.options)}const n=new AbortController,a=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(P(this,zt,!0),n.signal)})},i=()=>{const N=_o(this.options,r),A=(()=>{const R={client:x(this,Bt),queryKey:this.queryKey,meta:this.meta};return a(R),R})();return P(this,zt,!1),this.options.persister?this.options.persister(N,A,this):N(A)},c=(()=>{const N={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:x(this,Bt),state:this.state,fetchFn:i};return a(N),N})();(h=this.options.behavior)==null||h.onFetch(c,this),P(this,vs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&W(this,Ve,dt).call(this,{type:"fetch",meta:(u=c.fetchOptions)==null?void 0:u.meta}),P(this,ge,Po({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:N=>{N instanceof jn&&N.revert&&this.setState({...x(this,vs),fetchStatus:"idle"}),n.abort()},onFail:(N,M)=>{W(this,Ve,dt).call(this,{type:"failed",failureCount:N,error:M})},onPause:()=>{W(this,Ve,dt).call(this,{type:"pause"})},onContinue:()=>{W(this,Ve,dt).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const N=await x(this,ge).start();if(N===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(N),(v=(p=x(this,Le).config).onSuccess)==null||v.call(p,N,this),(m=(y=x(this,Le).config).onSettled)==null||m.call(y,N,this.state.error,this),N}catch(N){if(N instanceof jn){if(N.silent)return x(this,ge).promise;if(N.revert){if(this.state.data===void 0)throw N;return this.state.data}}throw W(this,Ve,dt).call(this,{type:"error",error:N}),(j=(g=x(this,Le).config).onError)==null||j.call(g,N,this),(w=(b=x(this,Le).config).onSettled)==null||w.call(b,this.state.data,N,this),N}finally{this.scheduleGc()}}},Ht=new WeakMap,vs=new WeakMap,Le=new WeakMap,Bt=new WeakMap,ge=new WeakMap,Ws=new WeakMap,zt=new WeakMap,Ve=new WeakSet,dt=function(s){const r=n=>{switch(s.type){case"failed":return{...n,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Io(n.data,this.options),fetchMeta:s.meta??null};case"success":const a={...n,...Oa(s.data,s.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return P(this,vs,s.manual?a:void 0),a;case"error":const i=s.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...s.state}}};this.state=r(this.state),xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),x(this,Le).notify({query:this,type:"updated",action:s})})},uo);function Io(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mo(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Oa(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Fa(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Re,Y,Gs,we,Vt,gs,ut,St,Qs,ys,bs,Wt,Gt,Et,js,re,Fs,wn,Nn,Cn,Sn,En,Rn,kn,Ao,ho,$d=(ho=class extends Ms{constructor(s,r){super();$(this,re);$(this,Re);$(this,Y);$(this,Gs);$(this,we);$(this,Vt);$(this,gs);$(this,ut);$(this,St);$(this,Qs);$(this,ys);$(this,bs);$(this,Wt);$(this,Gt);$(this,Et);$(this,js,new Set);this.options=r,P(this,Re,s),P(this,St,null),P(this,ut,bn()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,Y).addObserver(this),La(x(this,Y),this.options)?W(this,re,Fs).call(this):this.updateResult(),W(this,re,Sn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _n(x(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _n(x(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,re,En).call(this),W(this,re,Rn).call(this),x(this,Y).removeObserver(this)}setOptions(s){const r=this.options,n=x(this,Y);if(this.options=x(this,Re).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ue(this.options.enabled,x(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");W(this,re,kn).call(this),x(this,Y).setOptions(this.options),r._defaulted&&!wr(this.options,r)&&x(this,Re).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,Y),observer:this});const a=this.hasListeners();a&&Ua(x(this,Y),n,this.options,r)&&W(this,re,Fs).call(this),this.updateResult(),a&&(x(this,Y)!==n||Ue(this.options.enabled,x(this,Y))!==Ue(r.enabled,x(this,Y))||Pt(this.options.staleTime,x(this,Y))!==Pt(r.staleTime,x(this,Y)))&&W(this,re,wn).call(this);const i=W(this,re,Nn).call(this);a&&(x(this,Y)!==n||Ue(this.options.enabled,x(this,Y))!==Ue(r.enabled,x(this,Y))||i!==x(this,Et))&&W(this,re,Cn).call(this,i)}getOptimisticResult(s){const r=x(this,Re).getQueryCache().build(x(this,Re),s),n=this.createResult(r,s);return Kd(this,n)&&(P(this,we,n),P(this,gs,this.options),P(this,Vt,x(this,Y).state)),n}getCurrentResult(){return x(this,we)}trackResult(s,r){return new Proxy(s,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&x(this,ut).status==="pending"&&x(this,ut).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(s){x(this,js).add(s)}getCurrentQuery(){return x(this,Y)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=x(this,Re).defaultQueryOptions(s),n=x(this,Re).getQueryCache().build(x(this,Re),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(s){return W(this,re,Fs).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,we)))}createResult(s,r){var C;const n=x(this,Y),a=this.options,i=x(this,we),l=x(this,Vt),c=x(this,gs),h=s!==n?s.state:x(this,Gs),{state:f}=s;let u={...f},p=!1,v;if(r._optimisticResults){const T=this.hasListeners(),U=!T&&La(s,r),Q=T&&Ua(s,n,r,a);(U||Q)&&(u={...u,...Io(f.data,s.options)}),r._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:y,errorUpdatedAt:m,status:g}=u;v=u.data;let j=!1;if(r.placeholderData!==void 0&&v===void 0&&g==="pending"){let T;i!=null&&i.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData)?(T=i.data,j=!0):T=typeof r.placeholderData=="function"?r.placeholderData((C=x(this,bs))==null?void 0:C.state.data,x(this,bs)):r.placeholderData,T!==void 0&&(g="success",v=yn(i==null?void 0:i.data,T,r),p=!0)}if(r.select&&v!==void 0&&!j)if(i&&v===(l==null?void 0:l.data)&&r.select===x(this,Qs))v=x(this,ys);else try{P(this,Qs,r.select),v=r.select(v),v=yn(i==null?void 0:i.data,v,r),P(this,ys,v),P(this,St,null)}catch(T){P(this,St,T)}x(this,St)&&(y=x(this,St),v=x(this,ys),m=Date.now(),g="error");const b=u.fetchStatus==="fetching",w=g==="pending",N=g==="error",M=w&&b,A=v!==void 0,S={status:g,fetchStatus:u.fetchStatus,isPending:w,isSuccess:g==="success",isError:N,isInitialLoading:M,isLoading:M,data:v,dataUpdatedAt:u.dataUpdatedAt,error:y,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>h.dataUpdateCount||u.errorUpdateCount>h.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:N&&!A,isPaused:u.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&A,isStale:Zn(s,r),refetch:this.refetch,promise:x(this,ut),isEnabled:Ue(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const T=k=>{S.status==="error"?k.reject(S.error):S.data!==void 0&&k.resolve(S.data)},U=()=>{const k=P(this,ut,S.promise=bn());T(k)},Q=x(this,ut);switch(Q.status){case"pending":s.queryHash===n.queryHash&&T(Q);break;case"fulfilled":(S.status==="error"||S.data!==Q.value)&&U();break;case"rejected":(S.status!=="error"||S.error!==Q.reason)&&U();break}}return S}updateResult(){const s=x(this,we),r=this.createResult(x(this,Y),this.options);if(P(this,Vt,x(this,Y).state),P(this,gs,this.options),x(this,Vt).data!==void 0&&P(this,bs,x(this,Y)),wr(r,s))return;P(this,we,r);const n=()=>{if(!s)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!x(this,js).size)return!0;const l=new Set(i??x(this,js));return this.options.throwOnError&&l.add("error"),Object.keys(x(this,we)).some(c=>{const d=c;return x(this,we)[d]!==s[d]&&l.has(d)})};W(this,re,Ao).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,re,Sn).call(this)}},Re=new WeakMap,Y=new WeakMap,Gs=new WeakMap,we=new WeakMap,Vt=new WeakMap,gs=new WeakMap,ut=new WeakMap,St=new WeakMap,Qs=new WeakMap,ys=new WeakMap,bs=new WeakMap,Wt=new WeakMap,Gt=new WeakMap,Et=new WeakMap,js=new WeakMap,re=new WeakSet,Fs=function(s){W(this,re,kn).call(this);let r=x(this,Y).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(Ce)),r},wn=function(){W(this,re,En).call(this);const s=Pt(this.options.staleTime,x(this,Y));if(Jt||x(this,we).isStale||!vn(s))return;const n=Ro(x(this,we).dataUpdatedAt,s)+1;P(this,Wt,$t.setTimeout(()=>{x(this,we).isStale||this.updateResult()},n))},Nn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,Y)):this.options.refetchInterval)??!1},Cn=function(s){W(this,re,Rn).call(this),P(this,Et,s),!(Jt||Ue(this.options.enabled,x(this,Y))===!1||!vn(x(this,Et))||x(this,Et)===0)&&P(this,Gt,$t.setInterval(()=>{(this.options.refetchIntervalInBackground||Xn.isFocused())&&W(this,re,Fs).call(this)},x(this,Et)))},Sn=function(){W(this,re,wn).call(this),W(this,re,Cn).call(this,W(this,re,Nn).call(this))},En=function(){x(this,Wt)&&($t.clearTimeout(x(this,Wt)),P(this,Wt,void 0))},Rn=function(){x(this,Gt)&&($t.clearInterval(x(this,Gt)),P(this,Gt,void 0))},kn=function(){const s=x(this,Re).getQueryCache().build(x(this,Re),this.options);if(s===x(this,Y))return;const r=x(this,Y);P(this,Y,s),P(this,Gs,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},Ao=function(s){xe.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(x(this,we))}),x(this,Re).getQueryCache().notify({query:x(this,Y),type:"observerResultsUpdated"})})},ho);function qd(e,s){return Ue(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function La(e,s){return qd(e,s)||e.state.data!==void 0&&_n(e,s,s.refetchOnMount)}function _n(e,s,r){if(Ue(s.enabled,e)!==!1&&Pt(s.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Zn(e,s)}return!1}function Ua(e,s,r,n){return(e!==s||Ue(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Zn(e,r)}function Zn(e,s){return Ue(s.enabled,e)!==!1&&e.isStaleByTime(Pt(s.staleTime,e))}function Kd(e,s){return!wr(e.getCurrentResult(),s)}function $a(e){return{onFetch:(s,r)=>{var f,u,p,v,y;const n=s.options,a=(p=(u=(f=s.fetchOptions)==null?void 0:f.meta)==null?void 0:u.fetchMore)==null?void 0:p.direction,i=((v=s.state.data)==null?void 0:v.pages)||[],l=((y=s.state.data)==null?void 0:y.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const h=async()=>{let m=!1;const g=w=>{Id(w,()=>s.signal,()=>m=!0)},j=_o(s.options,s.fetchOptions),b=async(w,N,M)=>{if(m)return Promise.reject();if(N==null&&w.pages.length)return Promise.resolve(w);const R=(()=>{const U={client:s.client,queryKey:s.queryKey,pageParam:N,direction:M?"backward":"forward",meta:s.options.meta};return g(U),U})(),S=await j(R),{maxPages:C}=s.options,T=M?Td:Pd;return{pages:T(w.pages,S,C),pageParams:T(w.pageParams,N,C)}};if(a&&i.length){const w=a==="backward",N=w?Hd:qa,M={pages:i,pageParams:l},A=N(n,M);c=await b(M,A,w)}else{const w=e??i.length;do{const N=d===0?l[0]??n.initialPageParam:qa(n,c);if(d>0&&N==null)break;c=await b(c,N),d++}while(d<w)}return c};s.options.persister?s.fetchFn=()=>{var m,g;return(g=(m=s.options).persister)==null?void 0:g.call(m,h,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=h}}}function qa(e,{pages:s,pageParams:r}){const n=s.length-1;return s.length>0?e.getNextPageParam(s[n],s,r[n],r):void 0}function Hd(e,{pages:s,pageParams:r}){var n;return s.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,s[0],s,r[0],r):void 0}var Ys,Xe,Ne,Qt,Ze,bt,fo,Bd=(fo=class extends To{constructor(s){super();$(this,Ze);$(this,Ys);$(this,Xe);$(this,Ne);$(this,Qt);P(this,Ys,s.client),this.mutationId=s.mutationId,P(this,Ne,s.mutationCache),P(this,Xe,[]),this.state=s.state||Do(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){x(this,Xe).includes(s)||(x(this,Xe).push(s),this.clearGcTimeout(),x(this,Ne).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){P(this,Xe,x(this,Xe).filter(r=>r!==s)),this.scheduleGc(),x(this,Ne).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){x(this,Xe).length||(this.state.status==="pending"?this.scheduleGc():x(this,Ne).remove(this))}continue(){var s;return((s=x(this,Qt))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var l,c,d,h,f,u,p,v,y,m,g,j,b,w,N,M,A,R,S,C;const r=()=>{W(this,Ze,bt).call(this,{type:"continue"})},n={client:x(this,Ys),meta:this.options.meta,mutationKey:this.options.mutationKey};P(this,Qt,Po({fn:()=>this.options.mutationFn?this.options.mutationFn(s,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,U)=>{W(this,Ze,bt).call(this,{type:"failed",failureCount:T,error:U})},onPause:()=>{W(this,Ze,bt).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,Ne).canRun(this)}));const a=this.state.status==="pending",i=!x(this,Qt).canStart();try{if(a)r();else{W(this,Ze,bt).call(this,{type:"pending",variables:s,isPaused:i}),await((c=(l=x(this,Ne).config).onMutate)==null?void 0:c.call(l,s,this,n));const U=await((h=(d=this.options).onMutate)==null?void 0:h.call(d,s,n));U!==this.state.context&&W(this,Ze,bt).call(this,{type:"pending",context:U,variables:s,isPaused:i})}const T=await x(this,Qt).start();return await((u=(f=x(this,Ne).config).onSuccess)==null?void 0:u.call(f,T,s,this.state.context,this,n)),await((v=(p=this.options).onSuccess)==null?void 0:v.call(p,T,s,this.state.context,n)),await((m=(y=x(this,Ne).config).onSettled)==null?void 0:m.call(y,T,null,this.state.variables,this.state.context,this,n)),await((j=(g=this.options).onSettled)==null?void 0:j.call(g,T,null,s,this.state.context,n)),W(this,Ze,bt).call(this,{type:"success",data:T}),T}catch(T){try{await((w=(b=x(this,Ne).config).onError)==null?void 0:w.call(b,T,s,this.state.context,this,n))}catch(U){Promise.reject(U)}try{await((M=(N=this.options).onError)==null?void 0:M.call(N,T,s,this.state.context,n))}catch(U){Promise.reject(U)}try{await((R=(A=x(this,Ne).config).onSettled)==null?void 0:R.call(A,void 0,T,this.state.variables,this.state.context,this,n))}catch(U){Promise.reject(U)}try{await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,T,s,this.state.context,n))}catch(U){Promise.reject(U)}throw W(this,Ze,bt).call(this,{type:"error",error:T}),T}finally{x(this,Ne).runNext(this)}}},Ys=new WeakMap,Xe=new WeakMap,Ne=new WeakMap,Qt=new WeakMap,Ze=new WeakSet,bt=function(s){const r=n=>{switch(s.type){case"failed":return{...n,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...n,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:s.error,failureCount:n.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xe.batch(()=>{x(this,Xe).forEach(n=>{n.onMutationUpdate(s)}),x(this,Ne).notify({mutation:this,type:"updated",action:s})})},fo);function Do(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ht,We,Xs,mo,zd=(mo=class extends Ms{constructor(s={}){super();$(this,ht);$(this,We);$(this,Xs);this.config=s,P(this,ht,new Set),P(this,We,new Map),P(this,Xs,0)}build(s,r,n){const a=new Bd({client:s,mutationCache:this,mutationId:++dr(this,Xs)._,options:s.defaultMutationOptions(r),state:n});return this.add(a),a}add(s){x(this,ht).add(s);const r=hr(s);if(typeof r=="string"){const n=x(this,We).get(r);n?n.push(s):x(this,We).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(x(this,ht).delete(s)){const r=hr(s);if(typeof r=="string"){const n=x(this,We).get(r);if(n)if(n.length>1){const a=n.indexOf(s);a!==-1&&n.splice(a,1)}else n[0]===s&&x(this,We).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=hr(s);if(typeof r=="string"){const n=x(this,We).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===s}else return!0}runNext(s){var n;const r=hr(s);if(typeof r=="string"){const a=(n=x(this,We).get(r))==null?void 0:n.find(i=>i!==s&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xe.batch(()=>{x(this,ht).forEach(s=>{this.notify({type:"removed",mutation:s})}),x(this,ht).clear(),x(this,We).clear()})}getAll(){return Array.from(x(this,ht))}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Ia(r,n))}findAll(s={}){return this.getAll().filter(r=>Ia(s,r))}notify(s){xe.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return xe.batch(()=>Promise.all(s.map(r=>r.continue().catch(Ce))))}},ht=new WeakMap,We=new WeakMap,Xs=new WeakMap,mo);function hr(e){var s;return(s=e.options.scope)==null?void 0:s.id}var ft,Rt,ke,mt,pt,vr,Mn,po,Vd=(po=class extends Ms{constructor(r,n){super();$(this,pt);$(this,ft);$(this,Rt);$(this,ke);$(this,mt);P(this,ft,r),this.setOptions(n),this.bindMethods(),W(this,pt,vr).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=x(this,ft).defaultMutationOptions(r),wr(this.options,n)||x(this,ft).getMutationCache().notify({type:"observerOptionsUpdated",mutation:x(this,ke),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&es(n.mutationKey)!==es(this.options.mutationKey)?this.reset():((a=x(this,ke))==null?void 0:a.state.status)==="pending"&&x(this,ke).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=x(this,ke))==null||r.removeObserver(this)}onMutationUpdate(r){W(this,pt,vr).call(this),W(this,pt,Mn).call(this,r)}getCurrentResult(){return x(this,Rt)}reset(){var r;(r=x(this,ke))==null||r.removeObserver(this),P(this,ke,void 0),W(this,pt,vr).call(this),W(this,pt,Mn).call(this)}mutate(r,n){var a;return P(this,mt,n),(a=x(this,ke))==null||a.removeObserver(this),P(this,ke,x(this,ft).getMutationCache().build(x(this,ft),this.options)),x(this,ke).addObserver(this),x(this,ke).execute(r)}},ft=new WeakMap,Rt=new WeakMap,ke=new WeakMap,mt=new WeakMap,pt=new WeakSet,vr=function(){var n;const r=((n=x(this,ke))==null?void 0:n.state)??Do();P(this,Rt,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Mn=function(r){xe.batch(()=>{var n,a,i,l,c,d,h,f;if(x(this,mt)&&this.hasListeners()){const u=x(this,Rt).variables,p=x(this,Rt).context,v={client:x(this,ft),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=x(this,mt)).onSuccess)==null||a.call(n,r.data,u,p,v)}catch(y){Promise.reject(y)}try{(l=(i=x(this,mt)).onSettled)==null||l.call(i,r.data,null,u,p,v)}catch(y){Promise.reject(y)}}else if((r==null?void 0:r.type)==="error"){try{(d=(c=x(this,mt)).onError)==null||d.call(c,r.error,u,p,v)}catch(y){Promise.reject(y)}try{(f=(h=x(this,mt)).onSettled)==null||f.call(h,void 0,r.error,u,p,v)}catch(y){Promise.reject(y)}}}this.listeners.forEach(u=>{u(x(this,Rt))})})},po),Je,xo,Wd=(xo=class extends Ms{constructor(s={}){super();$(this,Je);this.config=s,P(this,Je,new Map)}build(s,r,n){const a=r.queryKey,i=r.queryHash??Gn(a,r);let l=this.get(i);return l||(l=new Ud({client:s,queryKey:a,queryHash:i,options:s.defaultQueryOptions(r),state:n,defaultOptions:s.getQueryDefaults(a)}),this.add(l)),l}add(s){x(this,Je).has(s.queryHash)||(x(this,Je).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=x(this,Je).get(s.queryHash);r&&(s.destroy(),r===s&&x(this,Je).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){xe.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return x(this,Je).get(s)}getAll(){return[...x(this,Je).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(n=>Ta(r,n))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(n=>Ta(s,n)):r}notify(s){xe.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){xe.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){xe.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},Je=new WeakMap,xo),ue,kt,_t,ws,Ns,Mt,Cs,Ss,vo,Gd=(vo=class{constructor(e={}){$(this,ue);$(this,kt);$(this,_t);$(this,ws);$(this,Ns);$(this,Mt);$(this,Cs);$(this,Ss);P(this,ue,e.queryCache||new Wd),P(this,kt,e.mutationCache||new zd),P(this,_t,e.defaultOptions||{}),P(this,ws,new Map),P(this,Ns,new Map),P(this,Mt,0)}mount(){dr(this,Mt)._++,x(this,Mt)===1&&(P(this,Cs,Xn.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ue).onFocus())})),P(this,Ss,Nr.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,ue).onOnline())})))}unmount(){var e,s;dr(this,Mt)._--,x(this,Mt)===0&&((e=x(this,Cs))==null||e.call(this),P(this,Cs,void 0),(s=x(this,Ss))==null||s.call(this),P(this,Ss,void 0))}isFetching(e){return x(this,ue).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,kt).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=x(this,ue).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=x(this,ue).build(this,s),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Pt(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(n))}getQueriesData(e){return x(this,ue).findAll(e).map(({queryKey:s,state:r})=>{const n=r.data;return[s,n]})}setQueryData(e,s,r){const n=this.defaultQueryOptions({queryKey:e}),a=x(this,ue).get(n.queryHash),i=a==null?void 0:a.state.data,l=kd(s,i);if(l!==void 0)return x(this,ue).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(e,s,r){return xe.batch(()=>x(this,ue).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,s,r)]))}getQueryState(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=x(this,ue).get(s.queryHash))==null?void 0:r.state}removeQueries(e){const s=x(this,ue);xe.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=x(this,ue);return xe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},n=xe.batch(()=>x(this,ue).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ce).catch(Ce)}invalidateQueries(e,s={}){return xe.batch(()=>(x(this,ue).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},n=xe.batch(()=>x(this,ue).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ce)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ce)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=x(this,ue).build(this,s);return r.isStaleByTime(Pt(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ce).catch(Ce)}fetchInfiniteQuery(e){return e.behavior=$a(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ce).catch(Ce)}ensureInfiniteQueryData(e){return e.behavior=$a(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nr.isOnline()?x(this,kt).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,ue)}getMutationCache(){return x(this,kt)}getDefaultOptions(){return x(this,_t)}setDefaultOptions(e){P(this,_t,e)}setQueryDefaults(e,s){x(this,ws).set(es(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...x(this,ws).values()],r={};return s.forEach(n=>{Ks(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,s){x(this,Ns).set(es(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...x(this,Ns).values()],r={};return s.forEach(n=>{Ks(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...x(this,_t).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=Gn(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===Qn&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,_t).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,ue).clear(),x(this,kt).clear()}},ue=new WeakMap,kt=new WeakMap,_t=new WeakMap,ws=new WeakMap,Ns=new WeakMap,Mt=new WeakMap,Cs=new WeakMap,Ss=new WeakMap,vo),Oo=o.createContext(void 0),Ot=e=>{const s=o.useContext(Oo);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Qd=({client:e,children:s})=>(o.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Oo.Provider,{value:e,children:s})),Fo=o.createContext(!1),Yd=()=>o.useContext(Fo);Fo.Provider;function Xd(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Zd=o.createContext(Xd()),Jd=()=>o.useContext(Zd),eu=(e,s,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Yn(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(s.isReset()||(e.retryOnMount=!1))},tu=e=>{o.useEffect(()=>{e.clearReset()},[e])},su=({result:e,errorResetBoundary:s,throwOnError:r,query:n,suspense:a})=>e.isError&&!s.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Yn(r,[e.error,n])),ru=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},nu=(e,s)=>e.isLoading&&e.isFetching&&!s,au=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,Ka=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function ou(e,s,r){var p,v,y,m;const n=Yd(),a=Jd(),i=Ot(),l=i.defaultQueryOptions(e);(v=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||v.call(p,l);const c=i.getQueryCache().get(l.queryHash);l._optimisticResults=n?"isRestoring":"optimistic",ru(l),eu(l,a,c),tu(a);const d=!i.getQueryCache().get(l.queryHash),[h]=o.useState(()=>new s(i,l)),f=h.getOptimisticResult(l),u=!n&&e.subscribed!==!1;if(o.useSyncExternalStore(o.useCallback(g=>{const j=u?h.subscribe(xe.batchCalls(g)):Ce;return h.updateResult(),j},[h,u]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),o.useEffect(()=>{h.setOptions(l)},[l,h]),au(l,f))throw Ka(l,h,a);if(su({result:f,errorResetBoundary:a,throwOnError:l.throwOnError,query:c,suspense:l.suspense}))throw f.error;if((m=(y=i.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||m.call(y,l,f),l.experimental_prefetchInRender&&!Jt&&nu(f,n)){const g=d?Ka(l,h,a):c==null?void 0:c.promise;g==null||g.catch(Ce).finally(()=>{h.updateResult()})}return l.notifyOnChangeProps?f:h.trackResult(f)}function Ke(e,s){return ou(e,$d)}function rt(e,s){const r=Ot(),[n]=o.useState(()=>new Vd(r,e));o.useEffect(()=>{n.setOptions(e)},[n,e]);const a=o.useSyncExternalStore(o.useCallback(l=>n.subscribe(xe.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=o.useCallback((l,c)=>{n.mutate(l,c).catch(Ce)},[n]);if(a.error&&Yn(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Lo=o.createContext(null);function iu({children:e}){const[s,r]=o.useState(null),[n,a]=o.useState(!0),i=o.useCallback(async()=>{if(!go()){r(null),a(!1);return}try{const d=await en.me();r(d)}catch{hd(),r(null)}finally{a(!1)}},[]),l=o.useCallback(async(d,h)=>{await en.login(d,h),await i()},[i]),c=o.useCallback(async()=>{await en.logout(),r(null),window.location.href="/dashboard/login.html"},[]);return o.useEffect(()=>{i()},[i]),t.jsx(Lo.Provider,{value:{user:s,isLoading:n,isLoggedIn:!!s,login:l,logout:c,checkAuth:i},children:e})}function Jn(){const e=o.useContext(Lo);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}var cu=fd[" useId ".trim().toString()]||(()=>{}),lu=0;function nt(e){const[s,r]=o.useState(cu());return at(()=>{r(n=>n??String(lu++))},[e]),s?`radix-${s}`:""}/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=H("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=H("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=H("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=H("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=H("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=H("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=H("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=H("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=H("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=H("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=H("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=H("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=H("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=H("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=H("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=H("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=H("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=H("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=H("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=H("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=H("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=H("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ku=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=H("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=H("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=H("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=H("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=H("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=H("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=H("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=H("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=H("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Uu(e={}){const{onMessage:s,onConnect:r,onDisconnect:n,reconnectInterval:a=3e3}=e,i=Ot(),l=o.useRef(null),c=o.useRef(null),[d,h]=o.useState(!1),[f,u]=o.useState(null),p=o.useCallback(()=>{const y=md();if(!y){console.warn("No JWT token available for WebSocket connection"),c.current=setTimeout(p,a);return}const g=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/dashboard?token=${encodeURIComponent(y)}`;try{const j=new WebSocket(g);l.current=j,j.onopen=()=>{h(!0),r==null||r()},j.onmessage=b=>{try{const w=JSON.parse(b.data);switch(u(w),s==null||s(w),w.type){case"NodeRegistered":case"NodeRemoved":case"NodeStatusChanged":i.invalidateQueries({queryKey:["dashboard-overview"]}),i.invalidateQueries({queryKey:["request-responses"]});break;case"MetricsUpdated":i.invalidateQueries({queryKey:["dashboard-overview"]});break}}catch(w){console.error("Failed to parse WebSocket message:",w)}},j.onclose=()=>{h(!1),n==null||n(),l.current=null,c.current&&clearTimeout(c.current),c.current=setTimeout(p,a)},j.onerror=b=>{console.error("WebSocket error:",b),j.close()}}catch(j){console.error("Failed to create WebSocket:",j),c.current=setTimeout(p,a)}},[s,r,n,a,i]),v=o.useCallback(()=>{c.current&&(clearTimeout(c.current),c.current=null),l.current&&(l.current.close(),l.current=null),h(!1)},[]);return o.useEffect(()=>(p(),()=>{v()}),[p,v]),{isConnected:d,lastEvent:f,reconnect:p,disconnect:v}}function $u(){const{isConnected:e,lastEvent:s,reconnect:r}=Uu({onConnect:()=>{console.log("Dashboard WebSocket connected")},onDisconnect:()=>{console.log("Dashboard WebSocket disconnected")}});return{isConnected:e,lastEvent:s,reconnect:r}}const nn="llmlb-theme";function qu(){const[e,s]=o.useState(()=>{if(typeof window>"u")return"dark";const n=localStorage.getItem(nn);return n==="light"||n==="dark"?n:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});o.useEffect(()=>{document.documentElement.classList.toggle("dark",e==="dark"),localStorage.setItem(nn,e)},[e]),o.useEffect(()=>{const n=window.matchMedia("(prefers-color-scheme: dark)"),a=i=>{localStorage.getItem(nn)||s(i.matches?"dark":"light")};return n.addEventListener("change",a),()=>n.removeEventListener("change",a)},[]);const r=o.useCallback(()=>{s(n=>n==="dark"?"light":"dark")},[]);return{theme:e,setTheme:s,toggleTheme:r}}var Ku=o.createContext(void 0);function Js(e){const s=o.useContext(Ku);return e||s||"ltr"}var an=0;function sa(){o.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??za()),document.body.insertAdjacentElement("beforeend",e[1]??za()),an++,()=>{an===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),an--}},[])}function za(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var on="focusScope.autoFocusOnMount",cn="focusScope.autoFocusOnUnmount",Va={bubbles:!1,cancelable:!0},Hu="FocusScope",Dr=o.forwardRef((e,s)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...l}=e,[c,d]=o.useState(null),h=Ae(a),f=Ae(i),u=o.useRef(null),p=ee(s,m=>d(m)),v=o.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;o.useEffect(()=>{if(n){let m=function(w){if(v.paused||!c)return;const N=w.target;c.contains(N)?u.current=N:jt(u.current,{select:!0})},g=function(w){if(v.paused||!c)return;const N=w.relatedTarget;N!==null&&(c.contains(N)||jt(u.current,{select:!0}))},j=function(w){if(document.activeElement===document.body)for(const M of w)M.removedNodes.length>0&&jt(c)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const b=new MutationObserver(j);return c&&b.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),b.disconnect()}}},[n,c,v.paused]),o.useEffect(()=>{if(c){Ga.add(v);const m=document.activeElement;if(!c.contains(m)){const j=new CustomEvent(on,Va);c.addEventListener(on,h),c.dispatchEvent(j),j.defaultPrevented||(Bu(Qu(Bo(c)),{select:!0}),document.activeElement===m&&jt(c))}return()=>{c.removeEventListener(on,h),setTimeout(()=>{const j=new CustomEvent(cn,Va);c.addEventListener(cn,f),c.dispatchEvent(j),j.defaultPrevented||jt(m??document.body,{select:!0}),c.removeEventListener(cn,f),Ga.remove(v)},0)}}},[c,h,f,v]);const y=o.useCallback(m=>{if(!r&&!n||v.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,j=document.activeElement;if(g&&j){const b=m.currentTarget,[w,N]=zu(b);w&&N?!m.shiftKey&&j===N?(m.preventDefault(),r&&jt(w,{select:!0})):m.shiftKey&&j===w&&(m.preventDefault(),r&&jt(N,{select:!0})):j===b&&m.preventDefault()}},[r,n,v.paused]);return t.jsx(V.div,{tabIndex:-1,...l,ref:p,onKeyDown:y})});Dr.displayName=Hu;function Bu(e,{select:s=!1}={}){const r=document.activeElement;for(const n of e)if(jt(n,{select:s}),document.activeElement!==r)return}function zu(e){const s=Bo(e),r=Wa(s,e),n=Wa(s.reverse(),e);return[r,n]}function Bo(e){const s=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)s.push(r.currentNode);return s}function Wa(e,s){for(const r of e)if(!Vu(r,{upTo:s}))return r}function Vu(e,{upTo:s}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(s!==void 0&&e===s)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wu(e){return e instanceof HTMLInputElement&&"select"in e}function jt(e,{select:s=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Wu(e)&&s&&e.select()}}var Ga=Gu();function Gu(){let e=[];return{add(s){const r=e[0];s!==r&&(r==null||r.pause()),e=Qa(e,s),e.unshift(s)},remove(s){var r;e=Qa(e,s),(r=e[0])==null||r.resume()}}}function Qa(e,s){const r=[...e],n=r.indexOf(s);return n!==-1&&r.splice(n,1),r}function Qu(e){return e.filter(s=>s.tagName!=="A")}var ln="rovingFocusGroup.onEntryFocus",Yu={bubbles:!1,cancelable:!0},er="RovingFocusGroup",[Tn,zo,Xu]=Kn(er),[Zu,Or]=ct(er,[Xu]),[Ju,eh]=Zu(er),Vo=o.forwardRef((e,s)=>t.jsx(Tn.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Tn.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(th,{...e,ref:s})})}));Vo.displayName=er;var th=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:f=!1,...u}=e,p=o.useRef(null),v=ee(s,p),y=Js(i),[m,g]=It({prop:l,defaultProp:c??null,onChange:d,caller:er}),[j,b]=o.useState(!1),w=Ae(h),N=zo(r),M=o.useRef(!1),[A,R]=o.useState(0);return o.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(ln,w),()=>S.removeEventListener(ln,w)},[w]),t.jsx(Ju,{scope:r,orientation:n,dir:y,loop:a,currentTabStopId:m,onItemFocus:o.useCallback(S=>g(S),[g]),onItemShiftTab:o.useCallback(()=>b(!0),[]),onFocusableItemAdd:o.useCallback(()=>R(S=>S+1),[]),onFocusableItemRemove:o.useCallback(()=>R(S=>S-1),[]),children:t.jsx(V.div,{tabIndex:j||A===0?-1:0,"data-orientation":n,...u,ref:v,style:{outline:"none",...e.style},onMouseDown:I(e.onMouseDown,()=>{M.current=!0}),onFocus:I(e.onFocus,S=>{const C=!M.current;if(S.target===S.currentTarget&&C&&!j){const T=new CustomEvent(ln,Yu);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const U=N().filter(te=>te.focusable),Q=U.find(te=>te.active),k=U.find(te=>te.id===m),q=[Q,k,...U].filter(Boolean).map(te=>te.ref.current);Qo(q,f)}}M.current=!1}),onBlur:I(e.onBlur,()=>b(!1))})})}),Wo="RovingFocusGroupItem",Go=o.forwardRef((e,s)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:l,...c}=e,d=nt(),h=i||d,f=eh(Wo,r),u=f.currentTabStopId===h,p=zo(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:m}=f;return o.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),t.jsx(Tn.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:t.jsx(V.span,{tabIndex:u?0:-1,"data-orientation":f.orientation,...c,ref:s,onMouseDown:I(e.onMouseDown,g=>{n?f.onItemFocus(h):g.preventDefault()}),onFocus:I(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:I(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){f.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const j=nh(g,f.orientation,f.dir);if(j!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let w=p().filter(N=>N.focusable).map(N=>N.ref.current);if(j==="last")w.reverse();else if(j==="prev"||j==="next"){j==="prev"&&w.reverse();const N=w.indexOf(g.currentTarget);w=f.loop?ah(w,N+1):w.slice(N+1)}setTimeout(()=>Qo(w))}}),children:typeof l=="function"?l({isCurrentTabStop:u,hasTabStop:m!=null}):l})})});Go.displayName=Wo;var sh={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rh(e,s){return s!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function nh(e,s,r){const n=rh(e.key,r);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sh[n]}function Qo(e,s=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:s}),document.activeElement!==r))return}function ah(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var Yo=Vo,Xo=Go,oh=function(e){if(typeof document>"u")return null;var s=Array.isArray(e)?e[0]:e;return s.ownerDocument.body},cs=new WeakMap,fr=new WeakMap,mr={},dn=0,Zo=function(e){return e&&(e.host||Zo(e.parentNode))},ih=function(e,s){return s.map(function(r){if(e.contains(r))return r;var n=Zo(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},ch=function(e,s,r,n){var a=ih(s,Array.isArray(e)?e:[e]);mr[r]||(mr[r]=new WeakMap);var i=mr[r],l=[],c=new Set,d=new Set(a),h=function(u){!u||c.has(u)||(c.add(u),h(u.parentNode))};a.forEach(h);var f=function(u){!u||d.has(u)||Array.prototype.forEach.call(u.children,function(p){if(c.has(p))f(p);else try{var v=p.getAttribute(n),y=v!==null&&v!=="false",m=(cs.get(p)||0)+1,g=(i.get(p)||0)+1;cs.set(p,m),i.set(p,g),l.push(p),m===1&&y&&fr.set(p,!0),g===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",p,j)}})};return f(s),c.clear(),dn++,function(){l.forEach(function(u){var p=cs.get(u)-1,v=i.get(u)-1;cs.set(u,p),i.set(u,v),p||(fr.has(u)||u.removeAttribute(n),fr.delete(u)),v||u.removeAttribute(r)}),dn--,dn||(cs=new WeakMap,cs=new WeakMap,fr=new WeakMap,mr={})}},ra=function(e,s,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=oh(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),ch(n,a,r,"aria-hidden")):function(){return null}},et=function(){return et=Object.assign||function(s){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(s[i]=r[i])}return s},et.apply(this,arguments)};function Jo(e,s){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&s.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)s.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function lh(e,s,r){if(r||arguments.length===2)for(var n=0,a=s.length,i;n<a;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return e.concat(i||Array.prototype.slice.call(s))}var gr="right-scroll-bar-position",yr="width-before-scroll-bar",dh="with-scroll-bars-hidden",uh="--removed-body-scroll-bar-size";function un(e,s){return typeof e=="function"?e(s):e&&(e.current=s),e}function hh(e,s){var r=o.useState(function(){return{value:e,callback:s,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=s,r.facade}var fh=typeof window<"u"?o.useLayoutEffect:o.useEffect,Ya=new WeakMap;function mh(e,s){var r=hh(null,function(n){return e.forEach(function(a){return un(a,n)})});return fh(function(){var n=Ya.get(r);if(n){var a=new Set(n),i=new Set(e),l=r.current;a.forEach(function(c){i.has(c)||un(c,null)}),i.forEach(function(c){a.has(c)||un(c,l)})}Ya.set(r,e)},[e]),r}function ph(e){return e}function xh(e,s){s===void 0&&(s=ph);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var l=s(i,n);return r.push(l),function(){r=r.filter(function(c){return c!==l})}},assignSyncMedium:function(i){for(n=!0;r.length;){var l=r;r=[],l.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var l=[];if(r.length){var c=r;r=[],c.forEach(i),l=r}var d=function(){var f=l;l=[],f.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(f){l.push(f),h()},filter:function(f){return l=l.filter(f),r}}}};return a}function vh(e){e===void 0&&(e={});var s=xh(null);return s.options=et({async:!0,ssr:!1},e),s}var ei=function(e){var s=e.sideCar,r=Jo(e,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return o.createElement(n,et({},r))};ei.isSideCarExport=!0;function gh(e,s){return e.useMedium(s),ei}var ti=vh(),hn=function(){},Fr=o.forwardRef(function(e,s){var r=o.useRef(null),n=o.useState({onScrollCapture:hn,onWheelCapture:hn,onTouchMoveCapture:hn}),a=n[0],i=n[1],l=e.forwardProps,c=e.children,d=e.className,h=e.removeScrollBar,f=e.enabled,u=e.shards,p=e.sideCar,v=e.noRelative,y=e.noIsolation,m=e.inert,g=e.allowPinchZoom,j=e.as,b=j===void 0?"div":j,w=e.gapMode,N=Jo(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=p,A=mh([r,s]),R=et(et({},N),a);return o.createElement(o.Fragment,null,f&&o.createElement(M,{sideCar:ti,removeScrollBar:h,shards:u,noRelative:v,noIsolation:y,inert:m,setCallbacks:i,allowPinchZoom:!!g,lockRef:r,gapMode:w}),l?o.cloneElement(o.Children.only(c),et(et({},R),{ref:A})):o.createElement(b,et({},R,{className:d,ref:A}),c))});Fr.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Fr.classNames={fullWidth:yr,zeroRight:gr};var yh=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bh(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var s=yh();return s&&e.setAttribute("nonce",s),e}function jh(e,s){e.styleSheet?e.styleSheet.cssText=s:e.appendChild(document.createTextNode(s))}function wh(e){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(e)}var Nh=function(){var e=0,s=null;return{add:function(r){e==0&&(s=bh())&&(jh(s,r),wh(s)),e++},remove:function(){e--,!e&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Ch=function(){var e=Nh();return function(s,r){o.useEffect(function(){return e.add(s),function(){e.remove()}},[s&&r])}},si=function(){var e=Ch(),s=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return s},Sh={left:0,top:0,right:0,gap:0},fn=function(e){return parseInt(e||"",10)||0},Eh=function(e){var s=window.getComputedStyle(document.body),r=s[e==="padding"?"paddingLeft":"marginLeft"],n=s[e==="padding"?"paddingTop":"marginTop"],a=s[e==="padding"?"paddingRight":"marginRight"];return[fn(r),fn(n),fn(a)]},Rh=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Sh;var s=Eh(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-r+s[2]-s[0])}},kh=si(),hs="data-scroll-locked",_h=function(e,s,r,n){var a=e.left,i=e.top,l=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(dh,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(hs,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gr,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(yr,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(gr," .").concat(gr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yr," .").concat(yr,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(hs,`] {
    `).concat(uh,": ").concat(c,`px;
  }
`)},Xa=function(){var e=parseInt(document.body.getAttribute(hs)||"0",10);return isFinite(e)?e:0},Mh=function(){o.useEffect(function(){return document.body.setAttribute(hs,(Xa()+1).toString()),function(){var e=Xa()-1;e<=0?document.body.removeAttribute(hs):document.body.setAttribute(hs,e.toString())}},[])},Ph=function(e){var s=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Mh();var i=o.useMemo(function(){return Rh(a)},[a]);return o.createElement(kh,{styles:_h(i,!s,a,r?"":"!important")})},In=!1;if(typeof window<"u")try{var pr=Object.defineProperty({},"passive",{get:function(){return In=!0,!0}});window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{In=!1}var ls=In?{passive:!1}:!1,Th=function(e){return e.tagName==="TEXTAREA"},ri=function(e,s){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[s]!=="hidden"&&!(r.overflowY===r.overflowX&&!Th(e)&&r[s]==="visible")},Ih=function(e){return ri(e,"overflowY")},Ah=function(e){return ri(e,"overflowX")},Za=function(e,s){var r=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ni(e,n);if(a){var i=ai(e,n),l=i[1],c=i[2];if(l>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Dh=function(e){var s=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[s,r,n]},Oh=function(e){var s=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[s,r,n]},ni=function(e,s){return e==="v"?Ih(s):Ah(s)},ai=function(e,s){return e==="v"?Dh(s):Oh(s)},Fh=function(e,s){return e==="h"&&s==="rtl"?-1:1},Lh=function(e,s,r,n,a){var i=Fh(e,window.getComputedStyle(s).direction),l=i*n,c=r.target,d=s.contains(c),h=!1,f=l>0,u=0,p=0;do{if(!c)break;var v=ai(e,c),y=v[0],m=v[1],g=v[2],j=m-g-i*y;(y||j)&&ni(e,c)&&(u+=j,p+=y);var b=c.parentNode;c=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!d&&c!==document.body||d&&(s.contains(c)||s===c));return(f&&Math.abs(u)<1||!f&&Math.abs(p)<1)&&(h=!0),h},xr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ja=function(e){return[e.deltaX,e.deltaY]},eo=function(e){return e&&"current"in e?e.current:e},Uh=function(e,s){return e[0]===s[0]&&e[1]===s[1]},$h=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qh=0,ds=[];function Kh(e){var s=o.useRef([]),r=o.useRef([0,0]),n=o.useRef(),a=o.useState(qh++)[0],i=o.useState(si)[0],l=o.useRef(e);o.useEffect(function(){l.current=e},[e]),o.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=lh([e.lockRef.current],(e.shards||[]).map(eo),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=o.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!l.current.allowPinchZoom;var j=xr(m),b=r.current,w="deltaX"in m?m.deltaX:b[0]-j[0],N="deltaY"in m?m.deltaY:b[1]-j[1],M,A=m.target,R=Math.abs(w)>Math.abs(N)?"h":"v";if("touches"in m&&R==="h"&&A.type==="range")return!1;var S=window.getSelection(),C=S&&S.anchorNode,T=C?C===A||C.contains(A):!1;if(T)return!1;var U=Za(R,A);if(!U)return!0;if(U?M=R:(M=R==="v"?"h":"v",U=Za(R,A)),!U)return!1;if(!n.current&&"changedTouches"in m&&(w||N)&&(n.current=M),!M)return!0;var Q=n.current||M;return Lh(Q,g,m,Q==="h"?w:N)},[]),d=o.useCallback(function(m){var g=m;if(!(!ds.length||ds[ds.length-1]!==i)){var j="deltaY"in g?Ja(g):xr(g),b=s.current.filter(function(M){return M.name===g.type&&(M.target===g.target||g.target===M.shadowParent)&&Uh(M.delta,j)})[0];if(b&&b.should){g.cancelable&&g.preventDefault();return}if(!b){var w=(l.current.shards||[]).map(eo).filter(Boolean).filter(function(M){return M.contains(g.target)}),N=w.length>0?c(g,w[0]):!l.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),h=o.useCallback(function(m,g,j,b){var w={name:m,delta:g,target:j,should:b,shadowParent:Hh(j)};s.current.push(w),setTimeout(function(){s.current=s.current.filter(function(N){return N!==w})},1)},[]),f=o.useCallback(function(m){r.current=xr(m),n.current=void 0},[]),u=o.useCallback(function(m){h(m.type,Ja(m),m.target,c(m,e.lockRef.current))},[]),p=o.useCallback(function(m){h(m.type,xr(m),m.target,c(m,e.lockRef.current))},[]);o.useEffect(function(){return ds.push(i),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:p}),document.addEventListener("wheel",d,ls),document.addEventListener("touchmove",d,ls),document.addEventListener("touchstart",f,ls),function(){ds=ds.filter(function(m){return m!==i}),document.removeEventListener("wheel",d,ls),document.removeEventListener("touchmove",d,ls),document.removeEventListener("touchstart",f,ls)}},[]);var v=e.removeScrollBar,y=e.inert;return o.createElement(o.Fragment,null,y?o.createElement(i,{styles:$h(a)}):null,v?o.createElement(Ph,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hh(e){for(var s=null;e!==null;)e instanceof ShadowRoot&&(s=e.host,e=e.host),e=e.parentNode;return s}const Bh=gh(ti,Kh);var Lr=o.forwardRef(function(e,s){return o.createElement(Fr,et({},e,{ref:s,sideCar:Bh}))});Lr.classNames=Fr.classNames;var An=["Enter"," "],zh=["ArrowDown","PageUp","Home"],oi=["ArrowUp","PageDown","End"],Vh=[...zh,...oi],Wh={ltr:[...An,"ArrowRight"],rtl:[...An,"ArrowLeft"]},Gh={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tr="Menu",[zs,Qh,Yh]=Kn(tr),[os,ii]=ct(tr,[Yh,Tr,Or]),Ur=Tr(),ci=Or(),[Xh,is]=os(tr),[Zh,sr]=os(tr),li=e=>{const{__scopeMenu:s,open:r=!1,children:n,dir:a,onOpenChange:i,modal:l=!0}=e,c=Ur(s),[d,h]=o.useState(null),f=o.useRef(!1),u=Ae(i),p=Js(a);return o.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),t.jsx(wo,{...c,children:t.jsx(Xh,{scope:s,open:r,onOpenChange:u,content:d,onContentChange:h,children:t.jsx(Zh,{scope:s,onClose:o.useCallback(()=>u(!1),[u]),isUsingKeyboardRef:f,dir:p,modal:l,children:n})})})};li.displayName=tr;var Jh="MenuAnchor",na=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e,a=Ur(r);return t.jsx(bo,{...a,...n,ref:s})});na.displayName=Jh;var aa="MenuPortal",[ef,di]=os(aa,{forceMount:void 0}),ui=e=>{const{__scopeMenu:s,forceMount:r,children:n,container:a}=e,i=is(aa,s);return t.jsx(ef,{scope:s,forceMount:r,children:t.jsx(Fe,{present:r||i.open,children:t.jsx(Hn,{asChild:!0,container:a,children:n})})})};ui.displayName=aa;var He="MenuContent",[tf,oa]=os(He),hi=o.forwardRef((e,s)=>{const r=di(He,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=is(He,e.__scopeMenu),l=sr(He,e.__scopeMenu);return t.jsx(zs.Provider,{scope:e.__scopeMenu,children:t.jsx(Fe,{present:n||i.open,children:t.jsx(zs.Slot,{scope:e.__scopeMenu,children:l.modal?t.jsx(sf,{...a,ref:s}):t.jsx(rf,{...a,ref:s})})})})}),sf=o.forwardRef((e,s)=>{const r=is(He,e.__scopeMenu),n=o.useRef(null),a=ee(s,n);return o.useEffect(()=>{const i=n.current;if(i)return ra(i)},[]),t.jsx(ia,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:I(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),rf=o.forwardRef((e,s)=>{const r=is(He,e.__scopeMenu);return t.jsx(ia,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),nf=Bn("MenuContent.ScrollLock"),ia=o.forwardRef((e,s)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,disableOutsideScroll:y,...m}=e,g=is(He,r),j=sr(He,r),b=Ur(r),w=ci(r),N=Qh(r),[M,A]=o.useState(null),R=o.useRef(null),S=ee(s,R,g.onContentChange),C=o.useRef(0),T=o.useRef(""),U=o.useRef(0),Q=o.useRef(null),k=o.useRef("right"),G=o.useRef(0),q=y?Lr:o.Fragment,te=y?{as:nf,allowPinchZoom:!0}:void 0,oe=F=>{var D,Z;const ie=T.current+F,de=N().filter(E=>!E.disabled),me=document.activeElement,Ee=(D=de.find(E=>E.ref.current===me))==null?void 0:D.textValue,ve=de.map(E=>E.textValue),_=vf(ve,ie,Ee),ne=(Z=de.find(E=>E.textValue===_))==null?void 0:Z.ref.current;(function E(K){T.current=K,window.clearTimeout(C.current),K!==""&&(C.current=window.setTimeout(()=>E(""),1e3))})(ie),ne&&setTimeout(()=>ne.focus())};o.useEffect(()=>()=>window.clearTimeout(C.current),[]),sa();const fe=o.useCallback(F=>{var de,me;return k.current===((de=Q.current)==null?void 0:de.side)&&yf(F,(me=Q.current)==null?void 0:me.area)},[]);return t.jsx(tf,{scope:r,searchRef:T,onItemEnter:o.useCallback(F=>{fe(F)&&F.preventDefault()},[fe]),onItemLeave:o.useCallback(F=>{var ie;fe(F)||((ie=R.current)==null||ie.focus(),A(null))},[fe]),onTriggerLeave:o.useCallback(F=>{fe(F)&&F.preventDefault()},[fe]),pointerGraceTimerRef:U,onPointerGraceIntentChange:o.useCallback(F=>{Q.current=F},[]),children:t.jsx(q,{...te,children:t.jsx(Dr,{asChild:!0,trapped:a,onMountAutoFocus:I(i,F=>{var ie;F.preventDefault(),(ie=R.current)==null||ie.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:t.jsx(zn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:f,onFocusOutside:u,onInteractOutside:p,onDismiss:v,children:t.jsx(Yo,{asChild:!0,...w,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:M,onCurrentTabStopIdChange:A,onEntryFocus:I(d,F=>{j.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(jo,{role:"menu","aria-orientation":"vertical","data-state":ki(g.open),"data-radix-menu-content":"",dir:j.dir,...b,...m,ref:S,style:{outline:"none",...m.style},onKeyDown:I(m.onKeyDown,F=>{const de=F.target.closest("[data-radix-menu-content]")===F.currentTarget,me=F.ctrlKey||F.altKey||F.metaKey,Ee=F.key.length===1;de&&(F.key==="Tab"&&F.preventDefault(),!me&&Ee&&oe(F.key));const ve=R.current;if(F.target!==ve||!Vh.includes(F.key))return;F.preventDefault();const ne=N().filter(D=>!D.disabled).map(D=>D.ref.current);oi.includes(F.key)&&ne.reverse(),pf(ne)}),onBlur:I(e.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(C.current),T.current="")}),onPointerMove:I(e.onPointerMove,Vs(F=>{const ie=F.target,de=G.current!==F.clientX;if(F.currentTarget.contains(ie)&&de){const me=F.clientX>G.current?"right":"left";k.current=me,G.current=F.clientX}}))})})})})})})});hi.displayName=He;var af="MenuGroup",ca=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(V.div,{role:"group",...n,ref:s})});ca.displayName=af;var of="MenuLabel",fi=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(V.div,{...n,ref:s})});fi.displayName=of;var Er="MenuItem",to="menu.itemSelect",$r=o.forwardRef((e,s)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=o.useRef(null),l=sr(Er,e.__scopeMenu),c=oa(Er,e.__scopeMenu),d=ee(s,i),h=o.useRef(!1),f=()=>{const u=i.current;if(!r&&u){const p=new CustomEvent(to,{bubbles:!0,cancelable:!0});u.addEventListener(to,v=>n==null?void 0:n(v),{once:!0}),pd(u,p),p.defaultPrevented?h.current=!1:l.onClose()}};return t.jsx(mi,{...a,ref:d,disabled:r,onClick:I(e.onClick,f),onPointerDown:u=>{var p;(p=e.onPointerDown)==null||p.call(e,u),h.current=!0},onPointerUp:I(e.onPointerUp,u=>{var p;h.current||(p=u.currentTarget)==null||p.click()}),onKeyDown:I(e.onKeyDown,u=>{const p=c.searchRef.current!=="";r||p&&u.key===" "||An.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});$r.displayName=Er;var mi=o.forwardRef((e,s)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,l=oa(Er,r),c=ci(r),d=o.useRef(null),h=ee(s,d),[f,u]=o.useState(!1),[p,v]=o.useState("");return o.useEffect(()=>{const y=d.current;y&&v((y.textContent??"").trim())},[i.children]),t.jsx(zs.ItemSlot,{scope:r,disabled:n,textValue:a??p,children:t.jsx(Xo,{asChild:!0,...c,focusable:!n,children:t.jsx(V.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:I(e.onPointerMove,Vs(y=>{n?l.onItemLeave(y):(l.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:I(e.onPointerLeave,Vs(y=>l.onItemLeave(y))),onFocus:I(e.onFocus,()=>u(!0)),onBlur:I(e.onBlur,()=>u(!1))})})})}),cf="MenuCheckboxItem",pi=o.forwardRef((e,s)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return t.jsx(bi,{scope:e.__scopeMenu,checked:r,children:t.jsx($r,{role:"menuitemcheckbox","aria-checked":Rr(r)?"mixed":r,...a,ref:s,"data-state":da(r),onSelect:I(a.onSelect,()=>n==null?void 0:n(Rr(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pi.displayName=cf;var xi="MenuRadioGroup",[lf,df]=os(xi,{value:void 0,onValueChange:()=>{}}),vi=o.forwardRef((e,s)=>{const{value:r,onValueChange:n,...a}=e,i=Ae(n);return t.jsx(lf,{scope:e.__scopeMenu,value:r,onValueChange:i,children:t.jsx(ca,{...a,ref:s})})});vi.displayName=xi;var gi="MenuRadioItem",yi=o.forwardRef((e,s)=>{const{value:r,...n}=e,a=df(gi,e.__scopeMenu),i=r===a.value;return t.jsx(bi,{scope:e.__scopeMenu,checked:i,children:t.jsx($r,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":da(i),onSelect:I(n.onSelect,()=>{var l;return(l=a.onValueChange)==null?void 0:l.call(a,r)},{checkForDefaultPrevented:!1})})})});yi.displayName=gi;var la="MenuItemIndicator",[bi,uf]=os(la,{checked:!1}),ji=o.forwardRef((e,s)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=uf(la,r);return t.jsx(Fe,{present:n||Rr(i.checked)||i.checked===!0,children:t.jsx(V.span,{...a,ref:s,"data-state":da(i.checked)})})});ji.displayName=la;var hf="MenuSeparator",wi=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e;return t.jsx(V.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});wi.displayName=hf;var ff="MenuArrow",Ni=o.forwardRef((e,s)=>{const{__scopeMenu:r,...n}=e,a=Ur(r);return t.jsx(No,{...a,...n,ref:s})});Ni.displayName=ff;var mf="MenuSub",[lx,Ci]=os(mf),Us="MenuSubTrigger",Si=o.forwardRef((e,s)=>{const r=is(Us,e.__scopeMenu),n=sr(Us,e.__scopeMenu),a=Ci(Us,e.__scopeMenu),i=oa(Us,e.__scopeMenu),l=o.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:e.__scopeMenu},f=o.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return o.useEffect(()=>f,[f]),o.useEffect(()=>{const u=c.current;return()=>{window.clearTimeout(u),d(null)}},[c,d]),t.jsx(na,{asChild:!0,...h,children:t.jsx(mi,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":ki(r.open),...e,ref:yo(s,a.onTriggerChange),onClick:u=>{var p;(p=e.onClick)==null||p.call(e,u),!(e.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:I(e.onPointerMove,Vs(u=>{i.onItemEnter(u),!u.defaultPrevented&&!e.disabled&&!r.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:I(e.onPointerLeave,Vs(u=>{var v,y;f();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const m=(y=r.content)==null?void 0:y.dataset.side,g=m==="right",j=g?-5:5,b=p[g?"left":"right"],w=p[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:u.clientX+j,y:u.clientY},{x:b,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x:b,y:p.bottom}],side:m}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(u),u.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:I(e.onKeyDown,u=>{var v;const p=i.searchRef.current!=="";e.disabled||p&&u.key===" "||Wh[n.dir].includes(u.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),u.preventDefault())})})})});Si.displayName=Us;var Ei="MenuSubContent",Ri=o.forwardRef((e,s)=>{const r=di(He,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=is(He,e.__scopeMenu),l=sr(He,e.__scopeMenu),c=Ci(Ei,e.__scopeMenu),d=o.useRef(null),h=ee(s,d);return t.jsx(zs.Provider,{scope:e.__scopeMenu,children:t.jsx(Fe,{present:n||i.open,children:t.jsx(zs.Slot,{scope:e.__scopeMenu,children:t.jsx(ia,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var u;l.isUsingKeyboardRef.current&&((u=d.current)==null||u.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:I(e.onFocusOutside,f=>{f.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:I(e.onEscapeKeyDown,f=>{l.onClose(),f.preventDefault()}),onKeyDown:I(e.onKeyDown,f=>{var v;const u=f.currentTarget.contains(f.target),p=Gh[l.dir].includes(f.key);u&&p&&(i.onOpenChange(!1),(v=c.trigger)==null||v.focus(),f.preventDefault())})})})})})});Ri.displayName=Ei;function ki(e){return e?"open":"closed"}function Rr(e){return e==="indeterminate"}function da(e){return Rr(e)?"indeterminate":e?"checked":"unchecked"}function pf(e){const s=document.activeElement;for(const r of e)if(r===s||(r.focus(),document.activeElement!==s))return}function xf(e,s){return e.map((r,n)=>e[(s+n)%e.length])}function vf(e,s,r){const a=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=r?e.indexOf(r):-1;let l=xf(e,Math.max(i,0));a.length===1&&(l=l.filter(h=>h!==r));const d=l.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function gf(e,s){const{x:r,y:n}=e;let a=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i],d=s[l],h=c.x,f=c.y,u=d.x,p=d.y;f>n!=p>n&&r<(u-h)*(n-f)/(p-f)+h&&(a=!a)}return a}function yf(e,s){if(!s)return!1;const r={x:e.clientX,y:e.clientY};return gf(r,s)}function Vs(e){return s=>s.pointerType==="mouse"?e(s):void 0}var bf=li,jf=na,wf=ui,Nf=hi,Cf=ca,Sf=fi,Ef=$r,Rf=pi,kf=vi,_f=yi,Mf=ji,Pf=wi,Tf=Ni,If=Si,Af=Ri,qr="DropdownMenu",[Df]=ct(qr,[ii]),Se=ii(),[Of,_i]=Df(qr),Mi=e=>{const{__scopeDropdownMenu:s,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:l,modal:c=!0}=e,d=Se(s),h=o.useRef(null),[f,u]=It({prop:a,defaultProp:i??!1,onChange:l,caller:qr});return t.jsx(Of,{scope:s,triggerId:nt(),triggerRef:h,contentId:nt(),open:f,onOpenChange:u,onOpenToggle:o.useCallback(()=>u(p=>!p),[u]),modal:c,children:t.jsx(bf,{...d,open:f,onOpenChange:u,dir:n,modal:c,children:r})})};Mi.displayName=qr;var Pi="DropdownMenuTrigger",Ti=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=_i(Pi,r),l=Se(r);return t.jsx(jf,{asChild:!0,...l,children:t.jsx(V.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:yo(s,i.triggerRef),onPointerDown:I(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:I(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});Ti.displayName=Pi;var Ff="DropdownMenuPortal",Ii=e=>{const{__scopeDropdownMenu:s,...r}=e,n=Se(s);return t.jsx(wf,{...n,...r})};Ii.displayName=Ff;var Ai="DropdownMenuContent",Di=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=_i(Ai,r),i=Se(r),l=o.useRef(!1);return t.jsx(Nf,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:s,onCloseAutoFocus:I(e.onCloseAutoFocus,c=>{var d;l.current||(d=a.triggerRef.current)==null||d.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:I(e.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,f=d.button===2||h;(!a.modal||f)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Di.displayName=Ai;var Lf="DropdownMenuGroup",Uf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Cf,{...a,...n,ref:s})});Uf.displayName=Lf;var $f="DropdownMenuLabel",Oi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Sf,{...a,...n,ref:s})});Oi.displayName=$f;var qf="DropdownMenuItem",Fi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Ef,{...a,...n,ref:s})});Fi.displayName=qf;var Kf="DropdownMenuCheckboxItem",Li=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Rf,{...a,...n,ref:s})});Li.displayName=Kf;var Hf="DropdownMenuRadioGroup",Bf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(kf,{...a,...n,ref:s})});Bf.displayName=Hf;var zf="DropdownMenuRadioItem",Ui=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(_f,{...a,...n,ref:s})});Ui.displayName=zf;var Vf="DropdownMenuItemIndicator",$i=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Mf,{...a,...n,ref:s})});$i.displayName=Vf;var Wf="DropdownMenuSeparator",qi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Pf,{...a,...n,ref:s})});qi.displayName=Wf;var Gf="DropdownMenuArrow",Qf=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Tf,{...a,...n,ref:s})});Qf.displayName=Gf;var Yf="DropdownMenuSubTrigger",Ki=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(If,{...a,...n,ref:s})});Ki.displayName=Yf;var Xf="DropdownMenuSubContent",Hi=o.forwardRef((e,s)=>{const{__scopeDropdownMenu:r,...n}=e,a=Se(r);return t.jsx(Af,{...a,...n,ref:s,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Hi.displayName=Xf;var Zf=Mi,Jf=Ti,em=Ii,Bi=Di,zi=Oi,Vi=Fi,Wi=Li,Gi=Ui,Qi=$i,Yi=qi,Xi=Ki,Zi=Hi;const tm=Zf,sm=Jf,rm=o.forwardRef(({className:e,inset:s,children:r,...n},a)=>t.jsxs(Xi,{ref:a,className:L("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",e),...n,children:[r,t.jsx(ta,{className:"ml-auto"})]}));rm.displayName=Xi.displayName;const nm=o.forwardRef(({className:e,...s},r)=>t.jsx(Zi,{ref:r,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));nm.displayName=Zi.displayName;const Ji=o.forwardRef(({className:e,sideOffset:s=4,...r},n)=>t.jsx(em,{children:t.jsx(Bi,{ref:n,sideOffset:s,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ji.displayName=Bi.displayName;const $s=o.forwardRef(({className:e,inset:s,...r},n)=>t.jsx(Vi,{ref:n,className:L("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",e),...r}));$s.displayName=Vi.displayName;const am=o.forwardRef(({className:e,children:s,checked:r,...n},a)=>t.jsxs(Wi,{ref:a,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Qi,{children:t.jsx(vt,{className:"h-4 w-4"})})}),s]}));am.displayName=Wi.displayName;const om=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Gi,{ref:n,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Qi,{children:t.jsx(gu,{className:"h-2 w-2 fill-current"})})}),s]}));om.displayName=Gi.displayName;const ec=o.forwardRef(({className:e,inset:s,...r},n)=>t.jsx(zi,{ref:n,className:L("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...r}));ec.displayName=zi.displayName;const br=o.forwardRef(({className:e,...s},r)=>t.jsx(Yi,{ref:r,className:L("-mx-1 my-1 h-px bg-muted",e),...s}));br.displayName=Yi.displayName;function ua(e){const s=o.useRef({value:e,previous:e});return o.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}var Kr="Checkbox",[im]=ct(Kr),[cm,ha]=im(Kr);function lm(e){const{__scopeCheckbox:s,checked:r,children:n,defaultChecked:a,disabled:i,form:l,name:c,onCheckedChange:d,required:h,value:f="on",internal_do_not_use_render:u}=e,[p,v]=It({prop:r,defaultProp:a??!1,onChange:d,caller:Kr}),[y,m]=o.useState(null),[g,j]=o.useState(null),b=o.useRef(!1),w=y?!!l||!!y.closest("form"):!0,N={checked:p,disabled:i,setChecked:v,control:y,setControl:m,name:c,form:l,value:f,hasConsumerStoppedPropagationRef:b,required:h,defaultChecked:Tt(a)?!1:a,isFormControl:w,bubbleInput:g,setBubbleInput:j};return t.jsx(cm,{scope:s,...N,children:dm(u)?u(N):n})}var tc="CheckboxTrigger",sc=o.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:r,...n},a)=>{const{control:i,value:l,disabled:c,checked:d,required:h,setControl:f,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:y}=ha(tc,e),m=ee(a,f),g=o.useRef(d);return o.useEffect(()=>{const j=i==null?void 0:i.form;if(j){const b=()=>u(g.current);return j.addEventListener("reset",b),()=>j.removeEventListener("reset",b)}},[i,u]),t.jsx(V.button,{type:"button",role:"checkbox","aria-checked":Tt(d)?"mixed":d,"aria-required":h,"data-state":ic(d),"data-disabled":c?"":void 0,disabled:c,value:l,...n,ref:m,onKeyDown:I(s,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:I(r,j=>{u(b=>Tt(b)?!0:!b),y&&v&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})})});sc.displayName=tc;var fa=o.forwardRef((e,s)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:l,disabled:c,value:d,onCheckedChange:h,form:f,...u}=e;return t.jsx(lm,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:l,onCheckedChange:h,name:n,form:f,value:d,internal_do_not_use_render:({isFormControl:p})=>t.jsxs(t.Fragment,{children:[t.jsx(sc,{...u,ref:s,__scopeCheckbox:r}),p&&t.jsx(oc,{__scopeCheckbox:r})]})})});fa.displayName=Kr;var rc="CheckboxIndicator",nc=o.forwardRef((e,s)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=ha(rc,r);return t.jsx(Fe,{present:n||Tt(i.checked)||i.checked===!0,children:t.jsx(V.span,{"data-state":ic(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:s,style:{pointerEvents:"none",...e.style}})})});nc.displayName=rc;var ac="CheckboxBubbleInput",oc=o.forwardRef(({__scopeCheckbox:e,...s},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:l,required:c,disabled:d,name:h,value:f,form:u,bubbleInput:p,setBubbleInput:v}=ha(ac,e),y=ee(r,v),m=ua(i),g=Co(n);o.useEffect(()=>{const b=p;if(!b)return;const w=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(w,"checked").set,A=!a.current;if(m!==i&&M){const R=new Event("click",{bubbles:A});b.indeterminate=Tt(i),M.call(b,Tt(i)?!1:i),b.dispatchEvent(R)}},[p,m,i,a]);const j=o.useRef(Tt(i)?!1:i);return t.jsx(V.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??j.current,required:c,disabled:d,name:h,value:f,form:u,...s,tabIndex:-1,ref:y,style:{...s.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oc.displayName=ac;function dm(e){return typeof e=="function"}function Tt(e){return e==="indeterminate"}function ic(e){return Tt(e)?"indeterminate":e?"checked":"unchecked"}const cc=o.forwardRef(({className:e,...s},r)=>t.jsx(fa,{ref:r,className:L("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:t.jsx(nc,{className:L("flex items-center justify-center text-current"),children:t.jsx(vt,{className:"h-4 w-4"})})}));cc.displayName=fa.displayName;const um=xd("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground",success:"border-transparent bg-success/20 text-success",warning:"border-transparent bg-warning/20 text-warning",online:"border-transparent bg-success/20 text-success",offline:"border-transparent bg-destructive/20 text-destructive",pending:"border-transparent bg-warning/20 text-warning"}},defaultVariants:{variant:"default"}});function ce({className:e,variant:s,...r}){return t.jsx("div",{className:L(um({variant:s}),e),...r})}function Dn(e,[s,r]){return Math.min(r,Math.max(s,e))}function hm(e,s){return o.useReducer((r,n)=>s[r][n]??r,e)}var ma="ScrollArea",[lc]=ct(ma),[fm,Be]=lc(ma),dc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...l}=e,[c,d]=o.useState(null),[h,f]=o.useState(null),[u,p]=o.useState(null),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(0),[w,N]=o.useState(0),[M,A]=o.useState(!1),[R,S]=o.useState(!1),C=ee(s,U=>d(U)),T=Js(a);return t.jsx(fm,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:f,content:u,onContentChange:p,scrollbarX:v,onScrollbarXChange:y,scrollbarXEnabled:M,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:R,onScrollbarYEnabledChange:S,onCornerWidthChange:b,onCornerHeightChange:N,children:t.jsx(V.div,{dir:T,...l,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});dc.displayName=ma;var uc="ScrollAreaViewport",hc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,l=Be(uc,r),c=o.useRef(null),d=ee(s,c,l.onViewportChange);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),t.jsx(V.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:t.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});hc.displayName=uc;var lt="ScrollAreaScrollbar",pa=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Be(lt,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=a,c=e.orientation==="horizontal";return o.useEffect(()=>(c?i(!0):l(!0),()=>{c?i(!1):l(!1)}),[c,i,l]),a.type==="hover"?t.jsx(mm,{...n,ref:s,forceMount:r}):a.type==="scroll"?t.jsx(pm,{...n,ref:s,forceMount:r}):a.type==="auto"?t.jsx(fc,{...n,ref:s,forceMount:r}):a.type==="always"?t.jsx(xa,{...n,ref:s}):null});pa.displayName=lt;var mm=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Be(lt,e.__scopeScrollArea),[i,l]=o.useState(!1);return o.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const h=()=>{window.clearTimeout(d),l(!0)},f=()=>{d=window.setTimeout(()=>l(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",f)}}},[a.scrollArea,a.scrollHideDelay]),t.jsx(Fe,{present:r||i,children:t.jsx(fc,{"data-state":i?"visible":"hidden",...n,ref:s})})}),pm=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=Be(lt,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Br(()=>d("SCROLL_END"),100),[c,d]=hm("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return o.useEffect(()=>{if(c==="idle"){const h=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[c,a.scrollHideDelay,d]),o.useEffect(()=>{const h=a.viewport,f=i?"scrollLeft":"scrollTop";if(h){let u=h[f];const p=()=>{const v=h[f];u!==v&&(d("SCROLL"),l()),u=v};return h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,i,d,l]),t.jsx(Fe,{present:r||c!=="hidden",children:t.jsx(xa,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:s,onPointerEnter:I(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:I(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),fc=o.forwardRef((e,s)=>{const r=Be(lt,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,l]=o.useState(!1),c=e.orientation==="horizontal",d=Br(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;l(c?h:f)}},10);return _s(r.viewport,d),_s(r.content,d),t.jsx(Fe,{present:n||i,children:t.jsx(xa,{"data-state":i?"visible":"hidden",...a,ref:s})})}),xa=o.forwardRef((e,s)=>{const{orientation:r="vertical",...n}=e,a=Be(lt,e.__scopeScrollArea),i=o.useRef(null),l=o.useRef(0),[c,d]=o.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=gc(c.viewport,c.content),f={...n,sizes:c,onSizesChange:d,hasThumb:h>0&&h<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:p=>l.current=p};function u(p,v){return jm(p,l.current,c,v)}return r==="horizontal"?t.jsx(xm,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollLeft,v=so(p,c,a.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollLeft=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollLeft=u(p,a.dir))}}):r==="vertical"?t.jsx(vm,{...f,ref:s,onThumbPositionChange:()=>{if(a.viewport&&i.current){const p=a.viewport.scrollTop,v=so(p,c);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:p=>{a.viewport&&(a.viewport.scrollTop=p)},onDragScroll:p=>{a.viewport&&(a.viewport.scrollTop=u(p))}}):null}),xm=o.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Be(lt,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),h=ee(s,d,i.onScrollbarXChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(pc,{"data-orientation":"horizontal",...a,ref:h,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Hr(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),bc(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:_r(l.paddingLeft),paddingEnd:_r(l.paddingRight)}})}})}),vm=o.forwardRef((e,s)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Be(lt,e.__scopeScrollArea),[l,c]=o.useState(),d=o.useRef(null),h=ee(s,d,i.onScrollbarYChange);return o.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),t.jsx(pc,{"data-orientation":"vertical",...a,ref:h,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Hr(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,u)=>{if(i.viewport){const p=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),bc(p,u)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:_r(l.paddingTop),paddingEnd:_r(l.paddingBottom)}})}})}),[gm,mc]=lc(lt),pc=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:h,onWheelScroll:f,onResize:u,...p}=e,v=Be(lt,r),[y,m]=o.useState(null),g=ee(s,C=>m(C)),j=o.useRef(null),b=o.useRef(""),w=v.viewport,N=n.content-n.viewport,M=Ae(f),A=Ae(d),R=Br(u,10);function S(C){if(j.current){const T=C.clientX-j.current.left,U=C.clientY-j.current.top;h({x:T,y:U})}}return o.useEffect(()=>{const C=T=>{const U=T.target;(y==null?void 0:y.contains(U))&&M(T,N)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,y,N,M]),o.useEffect(A,[n,A]),_s(y,R),_s(v.content,R),t.jsx(gm,{scope:r,scrollbar:y,hasThumb:a,onThumbChange:Ae(i),onThumbPointerUp:Ae(l),onThumbPositionChange:A,onThumbPointerDown:Ae(c),children:t.jsx(V.div,{...p,ref:g,style:{position:"absolute",...p.style},onPointerDown:I(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),j.current=y.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),S(C))}),onPointerMove:I(e.onPointerMove,S),onPointerUp:I(e.onPointerUp,C=>{const T=C.target;T.hasPointerCapture(C.pointerId)&&T.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=b.current,v.viewport&&(v.viewport.style.scrollBehavior=""),j.current=null})})})}),kr="ScrollAreaThumb",xc=o.forwardRef((e,s)=>{const{forceMount:r,...n}=e,a=mc(kr,e.__scopeScrollArea);return t.jsx(Fe,{present:r||a.hasThumb,children:t.jsx(ym,{ref:s,...n})})}),ym=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Be(kr,r),l=mc(kr,r),{onThumbPositionChange:c}=l,d=ee(s,u=>l.onThumbChange(u)),h=o.useRef(void 0),f=Br(()=>{h.current&&(h.current(),h.current=void 0)},100);return o.useEffect(()=>{const u=i.viewport;if(u){const p=()=>{if(f(),!h.current){const v=wm(u,c);h.current=v,c()}};return c(),u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,f,c]),t.jsx(V.div,{"data-state":l.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:I(e.onPointerDownCapture,u=>{const v=u.target.getBoundingClientRect(),y=u.clientX-v.left,m=u.clientY-v.top;l.onThumbPointerDown({x:y,y:m})}),onPointerUp:I(e.onPointerUp,l.onThumbPointerUp)})});xc.displayName=kr;var va="ScrollAreaCorner",vc=o.forwardRef((e,s)=>{const r=Be(va,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?t.jsx(bm,{...e,ref:s}):null});vc.displayName=va;var bm=o.forwardRef((e,s)=>{const{__scopeScrollArea:r,...n}=e,a=Be(va,r),[i,l]=o.useState(0),[c,d]=o.useState(0),h=!!(i&&c);return _s(a.scrollbarX,()=>{var u;const f=((u=a.scrollbarX)==null?void 0:u.offsetHeight)||0;a.onCornerHeightChange(f),d(f)}),_s(a.scrollbarY,()=>{var u;const f=((u=a.scrollbarY)==null?void 0:u.offsetWidth)||0;a.onCornerWidthChange(f),l(f)}),h?t.jsx(V.div,{...n,ref:s,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function _r(e){return e?parseInt(e,10):0}function gc(e,s){const r=e/s;return isNaN(r)?0:r}function Hr(e){const s=gc(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*s;return Math.max(n,18)}function jm(e,s,r,n="ltr"){const a=Hr(r),i=a/2,l=s||i,c=a-l,d=r.scrollbar.paddingStart+l,h=r.scrollbar.size-r.scrollbar.paddingEnd-c,f=r.content-r.viewport,u=n==="ltr"?[0,f]:[f*-1,0];return yc([d,h],u)(e)}function so(e,s,r="ltr"){const n=Hr(s),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,i=s.scrollbar.size-a,l=s.content-s.viewport,c=i-n,d=r==="ltr"?[0,l]:[l*-1,0],h=Dn(e,d);return yc([0,l],[0,c])(h)}function yc(e,s){return r=>{if(e[0]===e[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(e[1]-e[0]);return s[0]+n*(r-e[0])}}function bc(e,s){return e>0&&e<s}var wm=(e,s=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},l=r.left!==i.left,c=r.top!==i.top;(l||c)&&s(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Br(e,s){const r=Ae(e),n=o.useRef(0);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),o.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,s)},[r,s])}function _s(e,s){const r=Ae(s);at(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var jc=dc,Nm=hc,Cm=vc;const ot=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(jc,{ref:n,className:L("relative overflow-hidden",e),...r,children:[t.jsx(Nm,{className:"h-full w-full rounded-[inherit]",children:s}),t.jsx(wc,{}),t.jsx(Cm,{})]}));ot.displayName=jc.displayName;const wc=o.forwardRef(({className:e,orientation:s="vertical",...r},n)=>t.jsx(pa,{ref:n,orientation:s,className:L("flex touch-none select-none transition-colors",s==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",s==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:t.jsx(xc,{className:"relative flex-1 rounded-full bg-border"})}));wc.displayName=pa.displayName;var zr="Dialog",[Nc,Cc]=ct(zr),[Sm,Ge]=Nc(zr),Sc=e=>{const{__scopeDialog:s,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:l=!0}=e,c=o.useRef(null),d=o.useRef(null),[h,f]=It({prop:n,defaultProp:a??!1,onChange:i,caller:zr});return t.jsx(Sm,{scope:s,triggerRef:c,contentRef:d,contentId:nt(),titleId:nt(),descriptionId:nt(),open:h,onOpenChange:f,onOpenToggle:o.useCallback(()=>f(u=>!u),[f]),modal:l,children:r})};Sc.displayName=zr;var Ec="DialogTrigger",Rc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ge(Ec,r),i=ee(s,a.triggerRef);return t.jsx(V.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":ba(a.open),...n,ref:i,onClick:I(e.onClick,a.onOpenToggle)})});Rc.displayName=Ec;var ga="DialogPortal",[Em,kc]=Nc(ga,{forceMount:void 0}),_c=e=>{const{__scopeDialog:s,forceMount:r,children:n,container:a}=e,i=Ge(ga,s);return t.jsx(Em,{scope:s,forceMount:r,children:o.Children.map(n,l=>t.jsx(Fe,{present:r||i.open,children:t.jsx(Hn,{asChild:!0,container:a,children:l})}))})};_c.displayName=ga;var Mr="DialogOverlay",Mc=o.forwardRef((e,s)=>{const r=kc(Mr,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ge(Mr,e.__scopeDialog);return i.modal?t.jsx(Fe,{present:n||i.open,children:t.jsx(km,{...a,ref:s})}):null});Mc.displayName=Mr;var Rm=Bn("DialogOverlay.RemoveScroll"),km=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ge(Mr,r);return t.jsx(Lr,{as:Rm,allowPinchZoom:!0,shards:[a.contentRef],children:t.jsx(V.div,{"data-state":ba(a.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),ts="DialogContent",Pc=o.forwardRef((e,s)=>{const r=kc(ts,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ge(ts,e.__scopeDialog);return t.jsx(Fe,{present:n||i.open,children:i.modal?t.jsx(_m,{...a,ref:s}):t.jsx(Mm,{...a,ref:s})})});Pc.displayName=ts;var _m=o.forwardRef((e,s)=>{const r=Ge(ts,e.__scopeDialog),n=o.useRef(null),a=ee(s,r.contentRef,n);return o.useEffect(()=>{const i=n.current;if(i)return ra(i)},[]),t.jsx(Tc,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:I(e.onCloseAutoFocus,i=>{var l;i.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:I(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&i.preventDefault()}),onFocusOutside:I(e.onFocusOutside,i=>i.preventDefault())})}),Mm=o.forwardRef((e,s)=>{const r=Ge(ts,e.__scopeDialog),n=o.useRef(!1),a=o.useRef(!1);return t.jsx(Tc,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var l,c;(l=e.onCloseAutoFocus)==null||l.call(e,i),i.defaultPrevented||(n.current||(c=r.triggerRef.current)==null||c.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var d,h;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const l=i.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Tc=o.forwardRef((e,s)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...l}=e,c=Ge(ts,r),d=o.useRef(null),h=ee(s,d);return sa(),t.jsxs(t.Fragment,{children:[t.jsx(Dr,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:t.jsx(zn,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ba(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(Tm,{titleId:c.titleId}),t.jsx(Am,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ya="DialogTitle",Ic=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ge(ya,r);return t.jsx(V.h2,{id:a.titleId,...n,ref:s})});Ic.displayName=ya;var Ac="DialogDescription",Dc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ge(Ac,r);return t.jsx(V.p,{id:a.descriptionId,...n,ref:s})});Dc.displayName=Ac;var Oc="DialogClose",Fc=o.forwardRef((e,s)=>{const{__scopeDialog:r,...n}=e,a=Ge(Oc,r);return t.jsx(V.button,{type:"button",...n,ref:s,onClick:I(e.onClick,()=>a.onOpenChange(!1))})});Fc.displayName=Oc;function ba(e){return e?"open":"closed"}var Lc="DialogTitleWarning",[Pm,Uc]=vd(Lc,{contentName:ts,titleName:ya,docsSlug:"dialog"}),Tm=({titleId:e})=>{const s=Uc(Lc),r=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return o.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Im="DialogDescriptionWarning",Am=({contentRef:e,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Uc(Im).contentName}}.`;return o.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");s&&a&&(document.getElementById(s)||console.warn(n))},[n,e,s]),null},$c=Sc,Dm=Rc,qc=_c,ja=Mc,wa=Pc,Na=Ic,Ca=Dc,Sa=Fc;const De=$c,Om=qc,Kc=o.forwardRef(({className:e,...s},r)=>t.jsx(ja,{ref:r,className:L("fixed inset-0 z-50 bg-black/60 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));Kc.displayName=ja.displayName;const _e=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Om,{children:[t.jsx(Kc,{}),t.jsxs(wa,{ref:n,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-2xl duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-xl",e),...r,children:[s,t.jsxs(Sa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(mn,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_e.displayName=wa.displayName;const Me=({className:e,...s})=>t.jsx("div",{className:L("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});Me.displayName="DialogHeader";const it=({className:e,...s})=>t.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});it.displayName="DialogFooter";const Pe=o.forwardRef(({className:e,...s},r)=>t.jsx(Na,{ref:r,className:L("text-lg font-semibold leading-none tracking-tight",e),...s}));Pe.displayName=Na.displayName;const Te=o.forwardRef(({className:e,...s},r)=>t.jsx(Ca,{ref:r,className:L("text-sm text-muted-foreground",e),...s}));Te.displayName=Ca.displayName;const Ps=o.forwardRef(({className:e,...s},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:L("w-full caption-bottom text-sm",e),...s})}));Ps.displayName="Table";const Ts=o.forwardRef(({className:e,...s},r)=>t.jsx("thead",{ref:r,className:L("[&_tr]:border-b",e),...s}));Ts.displayName="TableHeader";const Is=o.forwardRef(({className:e,...s},r)=>t.jsx("tbody",{ref:r,className:L("[&_tr:last-child]:border-0",e),...s}));Is.displayName="TableBody";const Fm=o.forwardRef(({className:e,...s},r)=>t.jsx("tfoot",{ref:r,className:L("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s}));Fm.displayName="TableFooter";const Oe=o.forwardRef(({className:e,...s},r)=>t.jsx("tr",{ref:r,className:L("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));Oe.displayName="TableRow";const se=o.forwardRef(({className:e,...s},r)=>t.jsx("th",{ref:r,className:L("h-11 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));se.displayName="TableHead";const J=o.forwardRef(({className:e,...s},r)=>t.jsx("td",{ref:r,className:L("p-4 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));J.displayName="TableCell";const Lm=o.forwardRef(({className:e,...s},r)=>t.jsx("caption",{ref:r,className:L("mt-4 text-sm text-muted-foreground",e),...s}));Lm.displayName="TableCaption";var Hc="AlertDialog",[Um]=ct(Hc,[Cc]),gt=Cc(),Bc=e=>{const{__scopeAlertDialog:s,...r}=e,n=gt(s);return t.jsx($c,{...n,...r,modal:!0})};Bc.displayName=Hc;var $m="AlertDialogTrigger",qm=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=gt(r);return t.jsx(Dm,{...a,...n,ref:s})});qm.displayName=$m;var Km="AlertDialogPortal",zc=e=>{const{__scopeAlertDialog:s,...r}=e,n=gt(s);return t.jsx(qc,{...n,...r})};zc.displayName=Km;var Hm="AlertDialogOverlay",Vc=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=gt(r);return t.jsx(ja,{...a,...n,ref:s})});Vc.displayName=Hm;var fs="AlertDialogContent",[Bm,zm]=Um(fs),Vm=gd("AlertDialogContent"),Wc=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=gt(r),l=o.useRef(null),c=ee(s,l),d=o.useRef(null);return t.jsx(Pm,{contentName:fs,titleName:Gc,docsSlug:"alert-dialog",children:t.jsx(Bm,{scope:r,cancelRef:d,children:t.jsxs(wa,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:I(a.onOpenAutoFocus,h=>{var f;h.preventDefault(),(f=d.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[t.jsx(Vm,{children:n}),t.jsx(Gm,{contentRef:l})]})})})});Wc.displayName=fs;var Gc="AlertDialogTitle",Qc=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=gt(r);return t.jsx(Na,{...a,...n,ref:s})});Qc.displayName=Gc;var Yc="AlertDialogDescription",Xc=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=gt(r);return t.jsx(Ca,{...a,...n,ref:s})});Xc.displayName=Yc;var Wm="AlertDialogAction",Zc=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,a=gt(r);return t.jsx(Sa,{...a,...n,ref:s})});Zc.displayName=Wm;var Jc="AlertDialogCancel",el=o.forwardRef((e,s)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=zm(Jc,r),i=gt(r),l=ee(s,a);return t.jsx(Sa,{...i,...n,ref:l})});el.displayName=Jc;var Gm=({contentRef:e})=>{const s=`\`${fs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${fs}\` by passing a \`${Yc}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${fs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},Qm=Bc,Ym=zc,tl=Vc,sl=Wc,rl=Zc,nl=el,al=Qc,ol=Xc;const Vr=Qm,Xm=Ym,il=o.forwardRef(({className:e,...s},r)=>t.jsx(tl,{className:L("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:r}));il.displayName=tl.displayName;const rr=o.forwardRef(({className:e,...s},r)=>t.jsxs(Xm,{children:[t.jsx(il,{}),t.jsx(sl,{ref:r,className:L("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s})]}));rr.displayName=sl.displayName;const nr=({className:e,...s})=>t.jsx("div",{className:L("flex flex-col space-y-2 text-center sm:text-left",e),...s});nr.displayName="AlertDialogHeader";const ar=({className:e,...s})=>t.jsx("div",{className:L("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});ar.displayName="AlertDialogFooter";const or=o.forwardRef(({className:e,...s},r)=>t.jsx(al,{ref:r,className:L("text-lg font-semibold",e),...s}));or.displayName=al.displayName;const ir=o.forwardRef(({className:e,...s},r)=>t.jsx(ol,{ref:r,className:L("text-sm text-muted-foreground",e),...s}));ir.displayName=ol.displayName;const cr=o.forwardRef(({className:e,...s},r)=>t.jsx(rl,{ref:r,className:L(So(),e),...s}));cr.displayName=rl.displayName;const lr=o.forwardRef(({className:e,...s},r)=>t.jsx(nl,{ref:r,className:L(So({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));lr.displayName=nl.displayName;function Zm({open:e,onOpenChange:s}){const r=Ot(),[n,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(""),[h,f]=o.useState(""),[u,p]=o.useState(["api"]),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(null),{data:w,isLoading:N,refetch:M}=Ke({queryKey:["api-keys"],queryFn:tn.list,enabled:e}),A=rt({mutationFn:k=>tn.create(k),onSuccess:k=>{r.invalidateQueries({queryKey:["api-keys"]}),y(k.key),d(""),f(""),p(["api"]),X({title:"API key created"})},onError:k=>{X({title:"Failed to create API key",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}}),R=rt({mutationFn:k=>tn.delete(k),onSuccess:()=>{r.invalidateQueries({queryKey:["api-keys"]}),l(null),X({title:"API key deleted"})},onError:k=>{X({title:"Failed to delete API key",description:k instanceof Error?k.message:"Unknown error",variant:"destructive"})}});o.useEffect(()=>{e||(y(null),g(null))},[e]),o.useEffect(()=>{n||(d(""),f(""),p(["api"]))},[n]);const S=async(k,G)=>{try{await navigator.clipboard.writeText(k),b(G),setTimeout(()=>b(null),2e3),X({title:"Copied to clipboard"})}catch{X({title:"Failed to copy",variant:"destructive"})}},C=()=>{A.mutate({name:c,expires_at:h||void 0,scopes:u})},T=k=>k?new Date(k)<new Date:!1,U=(k,G)=>{p(q=>G?q.includes(k)?q:[...q,k]:q.filter(te=>te!==k))},Q=[{value:"api",label:"api",description:"OpenAI-compatible API inference access"},{value:"endpoint",label:"endpoint",description:"Endpoint registration and sync"},{value:"admin",label:"admin",description:"Administrator (full access)"}];return t.jsxs(t.Fragment,{children:[t.jsx(De,{open:e,onOpenChange:s,children:t.jsxs(_e,{id:"api-keys-modal",className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2",children:[t.jsx(Sr,{className:"h-5 w-5"}),"API Keys"]}),t.jsx(Te,{children:"Manage your API keys for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(O,{id:"create-api-key",onClick:()=>a(!0),children:[t.jsx(Ar,{className:"mr-2 h-4 w-4"}),"Create Key"]}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>M(),children:t.jsx(Ft,{className:"h-4 w-4"})})]}),v&&t.jsxs("div",{className:"rounded-lg border border-success/50 bg-success/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-success mb-2",children:"API Key Created Successfully"}),t.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Copy this key now. You won't be able to see it again."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"flex-1 rounded bg-muted px-2 py-1 text-xs font-mono break-all",children:m==="created"?v:"".repeat(32)}),t.jsx(O,{variant:"ghost",size:"icon",onClick:()=>g(m==="created"?null:"created"),children:m==="created"?t.jsx(ju,{className:"h-4 w-4"}):t.jsx(wu,{className:"h-4 w-4"})}),t.jsx(O,{id:"copy-api-key",variant:"ghost",size:"icon",onClick:()=>S(v,"created"),children:j==="created"?t.jsx(vt,{className:"h-4 w-4"}):t.jsx(ks,{className:"h-4 w-4"})})]})]}),t.jsx(ot,{className:"h-64 rounded-md border",children:N?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(qe,{className:"h-6 w-6 animate-spin"})}):!w||w.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(Sr,{className:"h-8 w-8"}),t.jsx("p",{children:"No API keys"})]}):t.jsxs(Ps,{children:[t.jsx(Ts,{children:t.jsxs(Oe,{children:[t.jsx(se,{children:"Name"}),t.jsx(se,{children:"Scopes"}),t.jsx(se,{children:"Key"}),t.jsx(se,{children:"Created"}),t.jsx(se,{children:"Expires"}),t.jsx(se,{className:"text-right",children:"Actions"})]})}),t.jsx(Is,{children:w.map(k=>t.jsxs(Oe,{children:[t.jsx(J,{className:"font-medium",children:k.name}),t.jsx(J,{children:t.jsx("div",{className:"flex flex-wrap gap-1",children:k.scopes.map(G=>t.jsx(ce,{variant:"secondary",children:G},G))})}),t.jsx(J,{children:k.key_prefix?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"text-xs font-mono",children:[k.key_prefix,"..."]}),t.jsx(O,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>S(k.key_prefix,k.id),children:j===k.id?t.jsx(vt,{className:"h-3 w-3"}):t.jsx(ks,{className:"h-3 w-3"})})]}):t.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.id.slice(0,8),"..."]})}),t.jsx(J,{className:"text-sm text-muted-foreground",children:xt(k.created_at)}),t.jsx(J,{children:k.expires_at?t.jsx(ce,{variant:T(k.expires_at)?"destructive":"outline",children:T(k.expires_at)?"Expired":xt(k.expires_at)}):t.jsx(ce,{variant:"secondary",children:"Never"})}),t.jsx(J,{className:"text-right",children:t.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(k),children:t.jsx(Zs,{className:"h-4 w-4 text-destructive"})})})]},k.id))})]})})]})]})}),t.jsx(De,{open:n,onOpenChange:a,children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Create API Key"}),t.jsx(Te,{children:"Create a new API key for programmatic access."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"api-key-name",children:"Name"}),t.jsx(je,{id:"api-key-name",placeholder:"My API Key",value:c,onChange:k=>d(k.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"key-expires",children:"Expires (optional)"}),t.jsx(je,{id:"key-expires",type:"datetime-local",value:h,onChange:k=>f(k.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{children:"Scopes"}),t.jsx("div",{className:"grid gap-2",children:Q.map(k=>{const G=`scope-${k.value.replace(/[^a-z0-9]/gi,"-")}`;return t.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[t.jsx(cc,{id:G,checked:u.includes(k.value),onCheckedChange:q=>U(k.value,!!q)}),t.jsxs("label",{htmlFor:G,className:"flex flex-col gap-1 cursor-pointer",children:[t.jsx("span",{className:"font-mono text-xs",children:k.label}),t.jsx("span",{className:"text-xs text-muted-foreground",children:k.description})]})]},k.value)})})]})]}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(O,{onClick:C,disabled:!c||u.length===0||A.isPending,children:[A.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(Vr,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(rr,{children:[t.jsxs(nr,{children:[t.jsx(or,{children:"Delete API Key"}),t.jsxs(ir,{children:['Are you sure you want to delete "',i==null?void 0:i.name,'"? This action cannot be undone.']})]}),t.jsxs(ar,{children:[t.jsx(lr,{children:"Cancel"}),t.jsxs(cr,{onClick:()=>i&&R.mutate(i.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[R.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}var Jm=[" ","Enter","ArrowUp","ArrowDown"],ep=[" ","Enter"],ss="Select",[Wr,Gr,tp]=Kn(ss),[As]=ct(ss,[tp,Tr]),Qr=Tr(),[sp,Lt]=As(ss),[rp,np]=As(ss),cl=e=>{const{__scopeSelect:s,children:r,open:n,defaultOpen:a,onOpenChange:i,value:l,defaultValue:c,onValueChange:d,dir:h,name:f,autoComplete:u,disabled:p,required:v,form:y}=e,m=Qr(s),[g,j]=o.useState(null),[b,w]=o.useState(null),[N,M]=o.useState(!1),A=Js(h),[R,S]=It({prop:n,defaultProp:a??!1,onChange:i,caller:ss}),[C,T]=It({prop:l,defaultProp:c,onChange:d,caller:ss}),U=o.useRef(null),Q=g?y||!!g.closest("form"):!0,[k,G]=o.useState(new Set),q=Array.from(k).map(te=>te.props.value).join(";");return t.jsx(wo,{...m,children:t.jsxs(sp,{required:v,scope:s,trigger:g,onTriggerChange:j,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:N,onValueNodeHasChildrenChange:M,contentId:nt(),value:C,onValueChange:T,open:R,onOpenChange:S,dir:A,triggerPointerDownPosRef:U,disabled:p,children:[t.jsx(Wr.Provider,{scope:s,children:t.jsx(rp,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(te=>{G(oe=>new Set(oe).add(te))},[]),onNativeOptionRemove:o.useCallback(te=>{G(oe=>{const fe=new Set(oe);return fe.delete(te),fe})},[]),children:r})}),Q?t.jsxs(Tl,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:u,value:C,onChange:te=>T(te.target.value),disabled:p,form:y,children:[C===void 0?t.jsx("option",{value:""}):null,Array.from(k)]},q):null]})})};cl.displayName=ss;var ll="SelectTrigger",dl=o.forwardRef((e,s)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Qr(r),l=Lt(ll,r),c=l.disabled||n,d=ee(s,l.onTriggerChange),h=Gr(r),f=o.useRef("touch"),[u,p,v]=Al(m=>{const g=h().filter(w=>!w.disabled),j=g.find(w=>w.value===l.value),b=Dl(g,m,j);b!==void 0&&l.onValueChange(b.value)}),y=m=>{c||(l.onOpenChange(!0),v()),m&&(l.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return t.jsx(bo,{asChild:!0,...i,children:t.jsx(V.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Il(l.value)?"":void 0,...a,ref:d,onClick:I(a.onClick,m=>{m.currentTarget.focus(),f.current!=="mouse"&&y(m)}),onPointerDown:I(a.onPointerDown,m=>{f.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(y(m),m.preventDefault())}),onKeyDown:I(a.onKeyDown,m=>{const g=u.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&p(m.key),!(g&&m.key===" ")&&Jm.includes(m.key)&&(y(),m.preventDefault())})})})});dl.displayName=ll;var ul="SelectValue",hl=o.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:l="",...c}=e,d=Lt(ul,r),{onValueNodeHasChildrenChange:h}=d,f=i!==void 0,u=ee(s,d.onValueNodeChange);return at(()=>{h(f)},[h,f]),t.jsx(V.span,{...c,ref:u,style:{pointerEvents:"none"},children:Il(d.value)?t.jsx(t.Fragment,{children:l}):i})});hl.displayName=ul;var ap="SelectIcon",fl=o.forwardRef((e,s)=>{const{__scopeSelect:r,children:n,...a}=e;return t.jsx(V.span,{"aria-hidden":!0,...a,ref:s,children:n||""})});fl.displayName=ap;var op="SelectPortal",ml=e=>t.jsx(Hn,{asChild:!0,...e});ml.displayName=op;var rs="SelectContent",pl=o.forwardRef((e,s)=>{const r=Lt(rs,e.__scopeSelect),[n,a]=o.useState();if(at(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Eo.createPortal(t.jsx(xl,{scope:e.__scopeSelect,children:t.jsx(Wr.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),i):null}return t.jsx(vl,{...e,ref:s})});pl.displayName=rs;var ze=10,[xl,Ut]=As(rs),ip="SelectContentImpl",cp=Bn("SelectContent.RemoveScroll"),vl=o.forwardRef((e,s)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:l,side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:m,avoidCollisions:g,...j}=e,b=Lt(rs,r),[w,N]=o.useState(null),[M,A]=o.useState(null),R=ee(s,D=>N(D)),[S,C]=o.useState(null),[T,U]=o.useState(null),Q=Gr(r),[k,G]=o.useState(!1),q=o.useRef(!1);o.useEffect(()=>{if(w)return ra(w)},[w]),sa();const te=o.useCallback(D=>{const[Z,...E]=Q().map(z=>z.ref.current),[K]=E.slice(-1),B=document.activeElement;for(const z of D)if(z===B||(z==null||z.scrollIntoView({block:"nearest"}),z===Z&&M&&(M.scrollTop=0),z===K&&M&&(M.scrollTop=M.scrollHeight),z==null||z.focus(),document.activeElement!==B))return},[Q,M]),oe=o.useCallback(()=>te([S,w]),[te,S,w]);o.useEffect(()=>{k&&oe()},[k,oe]);const{onOpenChange:fe,triggerPointerDownPosRef:F}=b;o.useEffect(()=>{if(w){let D={x:0,y:0};const Z=K=>{var B,z;D={x:Math.abs(Math.round(K.pageX)-(((B=F.current)==null?void 0:B.x)??0)),y:Math.abs(Math.round(K.pageY)-(((z=F.current)==null?void 0:z.y)??0))}},E=K=>{D.x<=10&&D.y<=10?K.preventDefault():w.contains(K.target)||fe(!1),document.removeEventListener("pointermove",Z),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",E,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",E,{capture:!0})}}},[w,fe,F]),o.useEffect(()=>{const D=()=>fe(!1);return window.addEventListener("blur",D),window.addEventListener("resize",D),()=>{window.removeEventListener("blur",D),window.removeEventListener("resize",D)}},[fe]);const[ie,de]=Al(D=>{const Z=Q().filter(B=>!B.disabled),E=Z.find(B=>B.ref.current===document.activeElement),K=Dl(Z,D,E);K&&setTimeout(()=>K.ref.current.focus())}),me=o.useCallback((D,Z,E)=>{const K=!q.current&&!E;(b.value!==void 0&&b.value===Z||K)&&(C(D),K&&(q.current=!0))},[b.value]),Ee=o.useCallback(()=>w==null?void 0:w.focus(),[w]),ve=o.useCallback((D,Z,E)=>{const K=!q.current&&!E;(b.value!==void 0&&b.value===Z||K)&&U(D)},[b.value]),_=n==="popper"?On:gl,ne=_===On?{side:c,sideOffset:d,align:h,alignOffset:f,arrowPadding:u,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:m,avoidCollisions:g}:{};return t.jsx(xl,{scope:r,content:w,viewport:M,onViewportChange:A,itemRefCallback:me,selectedItem:S,onItemLeave:Ee,itemTextRefCallback:ve,focusSelectedItem:oe,selectedItemText:T,position:n,isPositioned:k,searchRef:ie,children:t.jsx(Lr,{as:cp,allowPinchZoom:!0,children:t.jsx(Dr,{asChild:!0,trapped:b.open,onMountAutoFocus:D=>{D.preventDefault()},onUnmountAutoFocus:I(a,D=>{var Z;(Z=b.trigger)==null||Z.focus({preventScroll:!0}),D.preventDefault()}),children:t.jsx(zn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:D=>D.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:t.jsx(_,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:D=>D.preventDefault(),...j,...ne,onPlaced:()=>G(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:I(j.onKeyDown,D=>{const Z=D.ctrlKey||D.altKey||D.metaKey;if(D.key==="Tab"&&D.preventDefault(),!Z&&D.key.length===1&&de(D.key),["ArrowUp","ArrowDown","Home","End"].includes(D.key)){let K=Q().filter(B=>!B.disabled).map(B=>B.ref.current);if(["ArrowUp","End"].includes(D.key)&&(K=K.slice().reverse()),["ArrowUp","ArrowDown"].includes(D.key)){const B=D.target,z=K.indexOf(B);K=K.slice(z+1)}setTimeout(()=>te(K)),D.preventDefault()}})})})})})})});vl.displayName=ip;var lp="SelectItemAlignedPosition",gl=o.forwardRef((e,s)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Lt(rs,r),l=Ut(rs,r),[c,d]=o.useState(null),[h,f]=o.useState(null),u=ee(s,R=>f(R)),p=Gr(r),v=o.useRef(!1),y=o.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:j,focusSelectedItem:b}=l,w=o.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&m&&g&&j){const R=i.trigger.getBoundingClientRect(),S=h.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),T=j.getBoundingClientRect();if(i.dir!=="rtl"){const B=T.left-S.left,z=C.left-B,he=R.left-z,ye=R.width+he,Ie=Math.max(ye,S.width),yt=window.innerWidth-ze,pe=Dn(z,[ze,Math.max(ze,yt-Ie)]);c.style.minWidth=ye+"px",c.style.left=pe+"px"}else{const B=S.right-T.right,z=window.innerWidth-C.right-B,he=window.innerWidth-R.right-z,ye=R.width+he,Ie=Math.max(ye,S.width),yt=window.innerWidth-ze,pe=Dn(z,[ze,Math.max(ze,yt-Ie)]);c.style.minWidth=ye+"px",c.style.right=pe+"px"}const U=p(),Q=window.innerHeight-ze*2,k=m.scrollHeight,G=window.getComputedStyle(h),q=parseInt(G.borderTopWidth,10),te=parseInt(G.paddingTop,10),oe=parseInt(G.borderBottomWidth,10),fe=parseInt(G.paddingBottom,10),F=q+te+k+fe+oe,ie=Math.min(g.offsetHeight*5,F),de=window.getComputedStyle(m),me=parseInt(de.paddingTop,10),Ee=parseInt(de.paddingBottom,10),ve=R.top+R.height/2-ze,_=Q-ve,ne=g.offsetHeight/2,D=g.offsetTop+ne,Z=q+te+D,E=F-Z;if(Z<=ve){const B=U.length>0&&g===U[U.length-1].ref.current;c.style.bottom="0px";const z=h.clientHeight-m.offsetTop-m.offsetHeight,he=Math.max(_,ne+(B?Ee:0)+z+oe),ye=Z+he;c.style.height=ye+"px"}else{const B=U.length>0&&g===U[0].ref.current;c.style.top="0px";const he=Math.max(ve,q+m.offsetTop+(B?me:0)+ne)+E;c.style.height=he+"px",m.scrollTop=Z-ve+m.offsetTop}c.style.margin=`${ze}px 0`,c.style.minHeight=ie+"px",c.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,i.trigger,i.valueNode,c,h,m,g,j,i.dir,n]);at(()=>w(),[w]);const[N,M]=o.useState();at(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const A=o.useCallback(R=>{R&&y.current===!0&&(w(),b==null||b(),y.current=!1)},[w,b]);return t.jsx(up,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:v,onScrollButtonChange:A,children:t.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:t.jsx(V.div,{...a,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});gl.displayName=lp;var dp="SelectPopperPosition",On=o.forwardRef((e,s)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ze,...i}=e,l=Qr(r);return t.jsx(jo,{...l,...i,ref:s,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});On.displayName=dp;var[up,Ea]=As(rs,{}),Fn="SelectViewport",yl=o.forwardRef((e,s)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Ut(Fn,r),l=Ea(Fn,r),c=ee(s,i.onViewportChange),d=o.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),t.jsx(Wr.Slot,{scope:r,children:t.jsx(V.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:I(a.onScroll,h=>{const f=h.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:p}=l;if(p!=null&&p.current&&u){const v=Math.abs(d.current-f.scrollTop);if(v>0){const y=window.innerHeight-ze*2,m=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),j=Math.max(m,g);if(j<y){const b=j+v,w=Math.min(y,b),N=b-w;u.style.height=w+"px",u.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,u.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});yl.displayName=Fn;var bl="SelectGroup",[hp,fp]=As(bl),mp=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=nt();return t.jsx(hp,{scope:r,id:a,children:t.jsx(V.div,{role:"group","aria-labelledby":a,...n,ref:s})})});mp.displayName=bl;var jl="SelectLabel",wl=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=fp(jl,r);return t.jsx(V.div,{id:a.id,...n,ref:s})});wl.displayName=jl;var Pr="SelectItem",[pp,Nl]=As(Pr),Cl=o.forwardRef((e,s)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...l}=e,c=Lt(Pr,r),d=Ut(Pr,r),h=c.value===n,[f,u]=o.useState(i??""),[p,v]=o.useState(!1),y=ee(s,b=>{var w;return(w=d.itemRefCallback)==null?void 0:w.call(d,b,n,a)}),m=nt(),g=o.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(pp,{scope:r,value:n,disabled:a,textId:m,isSelected:h,onItemTextChange:o.useCallback(b=>{u(w=>w||((b==null?void 0:b.textContent)??"").trim())},[]),children:t.jsx(Wr.ItemSlot,{scope:r,value:n,disabled:a,textValue:f,children:t.jsx(V.div,{role:"option","aria-labelledby":m,"data-highlighted":p?"":void 0,"aria-selected":h&&p,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...l,ref:y,onFocus:I(l.onFocus,()=>v(!0)),onBlur:I(l.onBlur,()=>v(!1)),onClick:I(l.onClick,()=>{g.current!=="mouse"&&j()}),onPointerUp:I(l.onPointerUp,()=>{g.current==="mouse"&&j()}),onPointerDown:I(l.onPointerDown,b=>{g.current=b.pointerType}),onPointerMove:I(l.onPointerMove,b=>{var w;g.current=b.pointerType,a?(w=d.onItemLeave)==null||w.call(d):g.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:I(l.onPointerLeave,b=>{var w;b.currentTarget===document.activeElement&&((w=d.onItemLeave)==null||w.call(d))}),onKeyDown:I(l.onKeyDown,b=>{var N;((N=d.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(ep.includes(b.key)&&j(),b.key===" "&&b.preventDefault())})})})})});Cl.displayName=Pr;var qs="SelectItemText",Sl=o.forwardRef((e,s)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,l=Lt(qs,r),c=Ut(qs,r),d=Nl(qs,r),h=np(qs,r),[f,u]=o.useState(null),p=ee(s,j=>u(j),d.onItemTextChange,j=>{var b;return(b=c.itemTextRefCallback)==null?void 0:b.call(c,j,d.value,d.disabled)}),v=f==null?void 0:f.textContent,y=o.useMemo(()=>t.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=h;return at(()=>(m(y),()=>g(y)),[m,g,y]),t.jsxs(t.Fragment,{children:[t.jsx(V.span,{id:d.textId,...i,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Eo.createPortal(i.children,l.valueNode):null]})});Sl.displayName=qs;var El="SelectItemIndicator",Rl=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return Nl(El,r).isSelected?t.jsx(V.span,{"aria-hidden":!0,...n,ref:s}):null});Rl.displayName=El;var Ln="SelectScrollUpButton",kl=o.forwardRef((e,s)=>{const r=Ut(Ln,e.__scopeSelect),n=Ea(Ln,e.__scopeSelect),[a,i]=o.useState(!1),l=ee(s,n.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(Ml,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});kl.displayName=Ln;var Un="SelectScrollDownButton",_l=o.forwardRef((e,s)=>{const r=Ut(Un,e.__scopeSelect),n=Ea(Un,e.__scopeSelect),[a,i]=o.useState(!1),l=ee(s,n.onScrollButtonChange);return at(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<h;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?t.jsx(Ml,{...e,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});_l.displayName=Un;var Ml=o.forwardRef((e,s)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Ut("SelectScrollButton",r),l=o.useRef(null),c=Gr(r),d=o.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),at(()=>{var f;const h=c().find(u=>u.ref.current===document.activeElement);(f=h==null?void 0:h.ref.current)==null||f.scrollIntoView({block:"nearest"})},[c]),t.jsx(V.div,{"aria-hidden":!0,...a,ref:s,style:{flexShrink:0,...a.style},onPointerDown:I(a.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:I(a.onPointerMove,()=>{var h;(h=i.onItemLeave)==null||h.call(i),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:I(a.onPointerLeave,()=>{d()})})}),xp="SelectSeparator",Pl=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e;return t.jsx(V.div,{"aria-hidden":!0,...n,ref:s})});Pl.displayName=xp;var $n="SelectArrow",vp=o.forwardRef((e,s)=>{const{__scopeSelect:r,...n}=e,a=Qr(r),i=Lt($n,r),l=Ut($n,r);return i.open&&l.position==="popper"?t.jsx(No,{...a,...n,ref:s}):null});vp.displayName=$n;var gp="SelectBubbleInput",Tl=o.forwardRef(({__scopeSelect:e,value:s,...r},n)=>{const a=o.useRef(null),i=ee(n,a),l=ua(s);return o.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&f){const u=new Event("change",{bubbles:!0});f.call(c,s),c.dispatchEvent(u)}},[l,s]),t.jsx(V.select,{...r,style:{...yd,...r.style},ref:i,defaultValue:s})});Tl.displayName=gp;function Il(e){return e===""||e===void 0}function Al(e){const s=Ae(e),r=o.useRef(""),n=o.useRef(0),a=o.useCallback(l=>{const c=r.current+l;s(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),i=o.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function Dl(e,s,r){const a=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=r?e.indexOf(r):-1;let l=yp(e,Math.max(i,0));a.length===1&&(l=l.filter(h=>h!==r));const d=l.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function yp(e,s){return e.map((r,n)=>e[(s+n)%e.length])}var bp=cl,Ol=dl,jp=hl,wp=fl,Np=ml,Fl=pl,Cp=yl,Ll=wl,Ul=Cl,Sp=Sl,Ep=Rl,$l=kl,ql=_l,Kl=Pl;const ns=bp,as=jp,At=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Ol,{ref:n,className:L("flex h-10 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 transition-all duration-200",e),...r,children:[s,t.jsx(wp,{asChild:!0,children:t.jsx(ea,{className:"h-4 w-4 opacity-50"})})]}));At.displayName=Ol.displayName;const Hl=o.forwardRef(({className:e,...s},r)=>t.jsx($l,{ref:r,className:L("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx($o,{className:"h-4 w-4"})}));Hl.displayName=$l.displayName;const Bl=o.forwardRef(({className:e,...s},r)=>t.jsx(ql,{ref:r,className:L("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(ea,{className:"h-4 w-4"})}));Bl.displayName=ql.displayName;const Dt=o.forwardRef(({className:e,children:s,position:r="popper",...n},a)=>t.jsx(Np,{children:t.jsxs(Fl,{ref:a,className:L("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[t.jsx(Hl,{}),t.jsx(Cp,{className:L("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(Bl,{})]})}));Dt.displayName=Fl.displayName;const Rp=o.forwardRef(({className:e,...s},r)=>t.jsx(Ll,{ref:r,className:L("px-2 py-1.5 text-sm font-semibold",e),...s}));Rp.displayName=Ll.displayName;const le=o.forwardRef(({className:e,children:s,...r},n)=>t.jsxs(Ul,{ref:n,className:L("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(Ep,{children:t.jsx(vt,{className:"h-4 w-4"})})}),t.jsx(Sp,{children:s})]}));le.displayName=Ul.displayName;const kp=o.forwardRef(({className:e,...s},r)=>t.jsx(Kl,{ref:r,className:L("-mx-1 my-1 h-px bg-muted",e),...s}));kp.displayName=Kl.displayName;function _p({open:e,onOpenChange:s}){const r=Ot(),[n,a]=o.useState(!1),[i,l]=o.useState(null),[c,d]=o.useState(null),[h,f]=o.useState(""),[u,p]=o.useState(""),[v,y]=o.useState("user"),{data:m,isLoading:g,refetch:j}=Ke({queryKey:["users"],queryFn:ur.list,enabled:e}),b=rt({mutationFn:C=>ur.create(C),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),M(),a(!1),X({title:"User created"})},onError:C=>{X({title:"Failed to create user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),w=rt({mutationFn:({id:C,data:T})=>ur.update(C,T),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),M(),l(null),X({title:"User updated"})},onError:C=>{X({title:"Failed to update user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),N=rt({mutationFn:C=>ur.delete(C),onSuccess:()=>{r.invalidateQueries({queryKey:["users"]}),d(null),X({title:"User deleted"})},onError:C=>{X({title:"Failed to delete user",description:C instanceof Error?C.message:"Unknown error",variant:"destructive"})}}),M=()=>{f(""),p(""),y("user")};o.useEffect(()=>{i?(f(i.username),p(""),y(i.role)):M()},[i]);const A=()=>{b.mutate({username:h,password:u,role:v})},R=()=>{if(!i)return;const C={};h!==i.username&&(C.username=h),u&&(C.password=u),v!==i.role&&(C.role=v),w.mutate({id:i.id,data:C})},S=C=>C==="admin"?t.jsxs(ce,{variant:"default",className:"gap-1",children:[t.jsx(Au,{className:"h-3 w-3"}),"Admin"]}):t.jsxs(ce,{variant:"secondary",className:"gap-1",children:[t.jsx(Vn,{className:"h-3 w-3"}),"User"]});return t.jsxs(t.Fragment,{children:[t.jsx(De,{open:e,onOpenChange:s,children:t.jsxs(_e,{className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2",children:[t.jsx(Pn,{className:"h-5 w-5"}),"User Management"]}),t.jsx(Te,{children:"Manage dashboard users and their permissions."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(O,{onClick:()=>a(!0),children:[t.jsx(Ar,{className:"mr-2 h-4 w-4"}),"Add User"]}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>j(),children:t.jsx(Ft,{className:"h-4 w-4"})})]}),t.jsx(ot,{className:"h-64 rounded-md border",children:g?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(qe,{className:"h-6 w-6 animate-spin"})}):!m||m.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(Pn,{className:"h-8 w-8"}),t.jsx("p",{children:"No users"})]}):t.jsxs(Ps,{children:[t.jsx(Ts,{children:t.jsxs(Oe,{children:[t.jsx(se,{children:"Username"}),t.jsx(se,{children:"Role"}),t.jsx(se,{children:"Created"}),t.jsx(se,{className:"text-right",children:"Actions"})]})}),t.jsx(Is,{children:m.map(C=>t.jsxs(Oe,{children:[t.jsx(J,{className:"font-medium",children:C.username}),t.jsx(J,{children:S(C.role)}),t.jsx(J,{className:"text-sm text-muted-foreground",children:xt(C.created_at)}),t.jsx(J,{className:"text-right",children:t.jsxs("div",{className:"flex justify-end gap-1",children:[t.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>l(C),children:t.jsx(Du,{className:"h-4 w-4"})}),t.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(C),children:t.jsx(Zs,{className:"h-4 w-4 text-destructive"})})]})})]},C.id))})]})})]})]})}),t.jsx(De,{open:n,onOpenChange:a,children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Create User"}),t.jsx(Te,{children:"Add a new dashboard user."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"create-username",children:"Username"}),t.jsx(je,{id:"create-username",placeholder:"johndoe",value:h,onChange:C=>f(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"create-password",children:"Password"}),t.jsx(je,{id:"create-password",type:"password",placeholder:"",value:u,onChange:C=>p(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"create-role",children:"Role"}),t.jsxs(ns,{value:v,onValueChange:C=>y(C),children:[t.jsx(At,{children:t.jsx(as,{})}),t.jsxs(Dt,{children:[t.jsx(le,{value:"user",children:"User"}),t.jsx(le,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(O,{onClick:A,disabled:!h||!u||b.isPending,children:[b.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(De,{open:!!i,onOpenChange:()=>l(null),children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Edit User"}),t.jsxs(Te,{children:['Update user "',i==null?void 0:i.username,'".']})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"edit-username",children:"Username"}),t.jsx(je,{id:"edit-username",value:h,onChange:C=>f(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"edit-password",children:"Password (leave blank to keep)"}),t.jsx(je,{id:"edit-password",type:"password",placeholder:"",value:u,onChange:C=>p(C.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"edit-role",children:"Role"}),t.jsxs(ns,{value:v,onValueChange:C=>y(C),children:[t.jsx(At,{children:t.jsx(as,{})}),t.jsxs(Dt,{children:[t.jsx(le,{value:"user",children:"User"}),t.jsx(le,{value:"admin",children:"Admin"})]})]})]})]}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),t.jsxs(O,{onClick:R,disabled:!h||w.isPending,children:[w.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Update"]})]})]})}),t.jsx(Vr,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(rr,{children:[t.jsxs(nr,{children:[t.jsx(or,{children:"Delete User"}),t.jsxs(ir,{children:['Are you sure you want to delete "',c==null?void 0:c.username,'"? This action cannot be undone.']})]}),t.jsxs(ar,{children:[t.jsx(lr,{children:"Cancel"}),t.jsxs(cr,{onClick:()=>c&&N.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[N.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Delete"]})]})]})})]})}function Mp({open:e,onOpenChange:s}){const r=Ot(),[n,a]=o.useState(!1),[i,l]=o.useState(72),[c,d]=o.useState(null),[h,f]=o.useState(null),[u,p]=o.useState(!1),{data:v,isLoading:y,refetch:m}=Ke({queryKey:["invitations"],queryFn:sn.list,enabled:e}),g=rt({mutationFn:R=>sn.create(R),onSuccess:R=>{r.invalidateQueries({queryKey:["invitations"]}),f(R),X({title:"Invitation code created"})},onError:R=>{X({title:"Failed to create invitation code",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}}),j=rt({mutationFn:R=>sn.revoke(R),onSuccess:()=>{r.invalidateQueries({queryKey:["invitations"]}),d(null),X({title:"Invitation code revoked"})},onError:R=>{X({title:"Failed to revoke invitation code",description:R instanceof Error?R.message:"Unknown error",variant:"destructive"})}}),b=()=>{g.mutate(i)},w=async()=>{h!=null&&h.code&&(await navigator.clipboard.writeText(h.code),p(!0),setTimeout(()=>p(!1),2e3))},N=()=>{f(null),a(!1),p(!1)},M=R=>{switch(R){case"active":return t.jsxs(ce,{variant:"default",className:"gap-1 bg-green-600",children:[t.jsx(Hs,{className:"h-3 w-3"}),"Active"]});case"used":return t.jsxs(ce,{variant:"secondary",className:"gap-1",children:[t.jsx(jr,{className:"h-3 w-3"}),"Used"]});case"revoked":return t.jsxs(ce,{variant:"destructive",className:"gap-1",children:[t.jsx(Cr,{className:"h-3 w-3"}),"Revoked"]});default:return t.jsx(ce,{variant:"outline",children:R})}},A=R=>new Date(R)<new Date;return t.jsxs(t.Fragment,{children:[t.jsx(De,{open:e,onOpenChange:s,children:t.jsxs(_e,{className:"max-w-3xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2",children:[t.jsx(xn,{className:"h-5 w-5"}),"Invitation Codes"]}),t.jsx(Te,{children:"Create and manage invitation codes for user registration."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs(O,{onClick:()=>a(!0),children:[t.jsx(Ar,{className:"mr-2 h-4 w-4"}),"Create Code"]}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>m(),children:t.jsx(Ft,{className:"h-4 w-4"})})]}),t.jsx(ot,{className:"h-80 rounded-md border",children:y?t.jsx("div",{className:"flex h-full items-center justify-center",children:t.jsx(qe,{className:"h-6 w-6 animate-spin"})}):!v||v.length===0?t.jsxs("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-muted-foreground",children:[t.jsx(xn,{className:"h-8 w-8"}),t.jsx("p",{children:"No invitation codes"})]}):t.jsxs(Ps,{children:[t.jsx(Ts,{children:t.jsxs(Oe,{children:[t.jsx(se,{children:"ID"}),t.jsx(se,{children:"Status"}),t.jsx(se,{children:"Created"}),t.jsx(se,{children:"Expires"}),t.jsx(se,{children:"Used By"}),t.jsx(se,{className:"text-right",children:"Actions"})]})}),t.jsx(Is,{children:v.map(R=>t.jsxs(Oe,{children:[t.jsxs(J,{className:"font-mono text-xs",children:[R.id.slice(0,8),"..."]}),t.jsx(J,{children:R.status==="active"&&A(R.expires_at)?t.jsxs(ce,{variant:"outline",className:"gap-1",children:[t.jsx(Cr,{className:"h-3 w-3"}),"Expired"]}):M(R.status)}),t.jsx(J,{className:"text-sm text-muted-foreground",children:xt(R.created_at)}),t.jsx(J,{className:"text-sm text-muted-foreground",children:xt(R.expires_at)}),t.jsx(J,{className:"font-mono text-xs text-muted-foreground",children:R.used_by?`${R.used_by.slice(0,8)}...`:"-"}),t.jsx(J,{className:"text-right",children:R.status==="active"&&!A(R.expires_at)&&t.jsx(O,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(R),children:t.jsx(hu,{className:"h-4 w-4 text-destructive"})})})]},R.id))})]})})]})]})}),t.jsx(De,{open:n&&!h,onOpenChange:R=>!R&&a(!1),children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Create Invitation Code"}),t.jsx(Te,{children:"Generate a new invitation code for user registration."})]}),t.jsx("div",{className:"space-y-4 py-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"expires-in",children:"Expires In"}),t.jsxs(ns,{value:String(i),onValueChange:R=>l(Number(R)),children:[t.jsx(At,{children:t.jsx(as,{})}),t.jsxs(Dt,{children:[t.jsx(le,{value:"24",children:"24 hours (1 day)"}),t.jsx(le,{value:"48",children:"48 hours (2 days)"}),t.jsx(le,{value:"72",children:"72 hours (3 days)"}),t.jsx(le,{value:"168",children:"168 hours (1 week)"}),t.jsx(le,{value:"720",children:"720 hours (30 days)"})]})]})]})}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),t.jsxs(O,{onClick:b,disabled:g.isPending,children:[g.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Create"]})]})]})}),t.jsx(De,{open:!!h,onOpenChange:N,children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2 text-green-600",children:[t.jsx(jr,{className:"h-5 w-5"}),"Invitation Code Created"]}),t.jsx(Te,{children:"Copy this code and share it with the user. This code will only be shown once."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{children:"Invitation Code"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("code",{className:"flex-1 rounded-md bg-muted px-4 py-3 font-mono text-sm break-all",children:h==null?void 0:h.code}),t.jsx(O,{variant:"outline",size:"icon",onClick:w,className:"shrink-0",children:u?t.jsx(vt,{className:"h-4 w-4 text-green-600"}):t.jsx(ks,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:t.jsxs("p",{children:["Expires: ",h&&new Date(h.expires_at).toLocaleString()]})})]}),t.jsx(it,{children:t.jsx(O,{onClick:N,children:"Done"})})]})}),t.jsx(Vr,{open:!!c,onOpenChange:()=>d(null),children:t.jsxs(rr,{children:[t.jsxs(nr,{children:[t.jsx(or,{children:"Revoke Invitation Code"}),t.jsx(ir,{children:"Are you sure you want to revoke this invitation code? It will no longer be usable for registration."})]}),t.jsxs(ar,{children:[t.jsx(lr,{children:"Cancel"}),t.jsxs(cr,{onClick:()=>c&&j.mutate(c.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[j.isPending&&t.jsx(qe,{className:"mr-2 h-4 w-4 animate-spin"}),"Revoke"]})]})]})})]})}function Pp({user:e,isConnected:s=!0,lastRefreshed:r,fetchTimeMs:n}){const{logout:a}=Jn(),{theme:i,toggleTheme:l}=qu(),[c,d]=o.useState(!1),[h,f]=o.useState(!1),[u,p]=o.useState(!1),[v,y]=o.useState(!1),m=()=>{y(!0),window.location.reload()};return t.jsxs(t.Fragment,{children:[t.jsx("header",{className:"sticky top-0 z-40 border-b border-border/50 bg-background/80 backdrop-blur-xl",children:t.jsxs("div",{className:"mx-auto flex h-16 max-w-[1600px] items-center justify-between px-4 sm:px-6 lg:px-8",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/10 glow-sm",children:t.jsx(Wn,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-display text-lg font-semibold tracking-tight",children:"LLM Load Balancer"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Dashboard"})]})]}),t.jsxs("div",{className:"hidden md:flex items-center gap-4 text-xs text-muted-foreground",children:[t.jsxs("span",{id:"connection-status",className:"flex items-center gap-1.5",children:[t.jsx("span",{className:`h-2 w-2 rounded-full ${s?"bg-green-500":"bg-red-500"}`}),"Connection: ",s?"Online":"Offline"]}),r&&t.jsxs("span",{id:"last-refreshed",children:["Last updated: ",r.toLocaleTimeString()]}),!r&&t.jsx("span",{id:"last-refreshed",children:"Last updated: --:--:--"}),n!=null&&t.jsxs("span",{id:"refresh-metrics",children:["Fetch time: ",n,"ms"]}),n==null&&t.jsx("span",{id:"refresh-metrics",children:"Fetch time: --ms"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{id:"api-keys-button",variant:"outline",size:"sm",onClick:()=>d(!0),className:"hidden sm:inline-flex",children:[t.jsx(Sr,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(O,{id:"refresh-button",variant:"ghost",size:"icon",onClick:m,disabled:v,children:t.jsx(Ft,{className:`h-4 w-4 ${v?"animate-spin":""}`})}),t.jsx(O,{id:"theme-toggle",variant:"ghost",size:"icon",onClick:l,children:i==="dark"?t.jsx(Ou,{className:"h-4 w-4"}):t.jsx(_u,{className:"h-4 w-4"})}),t.jsxs(tm,{children:[t.jsx(sm,{asChild:!0,children:t.jsx(O,{variant:"ghost",size:"icon",className:"relative",children:t.jsx(Vn,{className:"h-4 w-4"})})}),t.jsxs(Ji,{align:"end",className:"w-56",children:[t.jsx(ec,{children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:e==null?void 0:e.username}),t.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e==null?void 0:e.role})]})}),t.jsx(br,{}),t.jsxs($s,{onClick:()=>d(!0),className:"sm:hidden",children:[t.jsx(Sr,{className:"mr-2 h-4 w-4"}),"API Keys"]}),t.jsx(br,{className:"sm:hidden"}),(e==null?void 0:e.role)==="admin"&&t.jsxs(t.Fragment,{children:[t.jsxs($s,{onClick:()=>f(!0),children:[t.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Manage Users"]}),t.jsxs($s,{onClick:()=>p(!0),children:[t.jsx(xn,{className:"mr-2 h-4 w-4"}),"Invitation Codes"]}),t.jsx(br,{})]}),t.jsxs($s,{onClick:a,className:"text-destructive",children:[t.jsx(ku,{className:"mr-2 h-4 w-4"}),"Sign out"]})]})]})]})]})}),t.jsx(Zm,{open:c,onOpenChange:d}),t.jsx(_p,{open:h,onOpenChange:f}),t.jsx(Mp,{open:u,onOpenChange:p})]})}const ro={primary:"bg-primary/10 group-hover:bg-primary/20","chart-1":"bg-chart-1/10 group-hover:bg-chart-1/20","chart-2":"bg-chart-2/10 group-hover:bg-chart-2/20","chart-3":"bg-chart-3/10 group-hover:bg-chart-3/20","chart-4":"bg-chart-4/10 group-hover:bg-chart-4/20","chart-5":"bg-chart-5/10 group-hover:bg-chart-5/20",success:"bg-success/10 group-hover:bg-success/20",warning:"bg-warning/10 group-hover:bg-warning/20",destructive:"bg-destructive/10 group-hover:bg-destructive/20"};function Tp({title:e,value:s,subtitle:r,icon:n,accentColor:a="primary",isLoading:i,delay:l=0,dataStat:c}){return t.jsx(Xt,{className:"stat-card group overflow-hidden animate-fade-up",style:{animationDelay:`${l}ms`},"data-stat":c,children:t.jsx(Zt,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),i?t.jsx("div",{className:"h-8 w-24 shimmer rounded"}):t.jsx("p",{className:"text-3xl font-bold tracking-tight",children:s}),r&&!i&&t.jsx("p",{className:"text-xs text-muted-foreground",children:r})]}),t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg transition-colors ${ro[a]||ro.primary}`,children:n})]})})})}function Ip({stats:e,isLoading:s}){const r=[{title:"Total Nodes",value:e?be(e.total_nodes):"",subtitle:e?`${e.online_nodes} online, ${e.pending_nodes} pending, ${e.registering_nodes} registering, ${e.offline_nodes} offline`:void 0,icon:t.jsx(Bs,{className:"h-5 w-5 text-primary"}),accentColor:"primary",dataStat:"total-nodes"},{title:"Total Requests",value:e?be(e.total_requests):"",subtitle:e?`${be(e.successful_requests)} successful`:void 0,icon:t.jsx(du,{className:"h-5 w-5 text-chart-2"}),accentColor:"chart-2",dataStat:"total-requests"},{title:"Total Tokens",value:e?be(e.total_tokens):"",subtitle:e?`In: ${be(e.total_input_tokens)} / Out: ${be(e.total_output_tokens)}`:void 0,icon:t.jsx(Ir,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"total-tokens"},{title:"Active Requests",value:e?be(e.total_active_requests):"",icon:t.jsx(Wn,{className:"h-5 w-5 text-chart-1"}),accentColor:"chart-1",dataStat:"active-requests"},{title:"Queued Requests",value:e?be(e.queued_requests):"",icon:t.jsx(Su,{className:"h-5 w-5 text-chart-5"}),accentColor:"chart-5",dataStat:"queued-requests"},{title:"Success Rate",value:e&&e.total_requests>0?rn(e.successful_requests/e.total_requests*100):"",subtitle:e?`${be(e.failed_requests)} failed`:void 0,icon:e&&e.failed_requests>0?t.jsx(Cr,{className:"h-5 w-5 text-destructive"}):t.jsx(jr,{className:"h-5 w-5 text-success"}),accentColor:e&&e.failed_requests>0?"destructive":"success",dataStat:"success-rate"},{title:"Avg Response Time",value:e?pn(e.average_response_time_ms):"",icon:t.jsx(Hs,{className:"h-5 w-5 text-warning"}),accentColor:"warning",dataStat:"average-response-time-ms"},{title:"Avg GPU Usage",value:e?rn(e.average_gpu_usage):"",icon:t.jsx(Lu,{className:"h-5 w-5 text-chart-3"}),accentColor:"chart-3",dataStat:"average-gpu-usage"},{title:"Avg GPU Memory",value:e?rn(e.average_gpu_memory_usage):"",icon:t.jsx(Cu,{className:"h-5 w-5 text-chart-4"}),accentColor:"chart-4",dataStat:"average-gpu-memory-usage"}];return t.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:r.map((n,a)=>t.jsx(Tp,{...n,isLoading:s,delay:a*50},n.title))})}const Ra=o.forwardRef(({className:e,...s},r)=>t.jsx("textarea",{className:L("flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 transition-all duration-200",e),ref:r,...s}));Ra.displayName="Textarea";var Ap="Separator",no="horizontal",Dp=["horizontal","vertical"],zl=o.forwardRef((e,s)=>{const{decorative:r,orientation:n=no,...a}=e,i=Op(n)?n:no,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return t.jsx(bd.div,{"data-orientation":i,...c,...a,ref:s})});zl.displayName=Ap;function Op(e){return Dp.includes(e)}var Vl=zl;const Yt=o.forwardRef(({className:e,orientation:s="horizontal",decorative:r=!0,...n},a)=>t.jsx(Vl,{ref:a,decorative:r,orientation:s,className:L("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Yt.displayName=Vl.displayName;function Fp(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function Lp(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function Up({endpoint:e,open:s,onOpenChange:r}){var w,N,M,A,R;const n=Ot(),[a,i]=o.useState((e==null?void 0:e.name)||""),[l,c]=o.useState((e==null?void 0:e.notes)||""),[d,h]=o.useState(((w=e==null?void 0:e.health_check_interval_secs)==null?void 0:w.toString())||"30"),[f,u]=o.useState(((N=e==null?void 0:e.inference_timeout_secs)==null?void 0:N.toString())||"120");o.useEffect(()=>{var S,C;e&&(i(e.name||""),c(e.notes||""),h(((S=e.health_check_interval_secs)==null?void 0:S.toString())||"30"),u(((C=e.inference_timeout_secs)==null?void 0:C.toString())||"120"))},[e]);const{data:p,isLoading:v}=Ke({queryKey:["endpoint-models",e==null?void 0:e.id],queryFn:()=>$e.getModels(e.id),enabled:!!(e!=null&&e.id)&&s}),y=()=>{e&&(window.location.hash=`playground/${e.id}`,r(!1))},m=rt({mutationFn:S=>$e.update(e.id,S),onSuccess:()=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),X({title:"Update Complete",description:"Endpoint settings updated"})},onError:S=>{X({title:"Update Failed",description:String(S),variant:"destructive"})}}),g=rt({mutationFn:()=>$e.test(e.id),onSuccess:S=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),X({title:S.success?"Connection Successful":"Connection Failed",description:S.message||(S.latency_ms?`Latency: ${S.latency_ms}ms`:""),variant:S.success?"default":"destructive"})},onError:S=>{X({title:"Connection Test Failed",description:String(S),variant:"destructive"})}}),j=rt({mutationFn:()=>$e.sync(e.id),onSuccess:S=>{n.invalidateQueries({queryKey:["dashboard-endpoints"]}),X({title:"Sync Complete",description:`Synced ${S.synced_models} models`})},onError:S=>{X({title:"Sync Failed",description:String(S),variant:"destructive"})}}),b=()=>{m.mutate({name:a!==(e==null?void 0:e.name)?a:void 0,notes:l!==(e==null?void 0:e.notes)?l:void 0,health_check_interval_secs:parseInt(d)!==(e==null?void 0:e.health_check_interval_secs)?parseInt(d):void 0,inference_timeout_secs:parseInt(f)!==(e==null?void 0:e.inference_timeout_secs)?parseInt(f):void 0})};return e?t.jsx(De,{open:s,onOpenChange:r,children:t.jsxs(_e,{className:"max-w-2xl",children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2",children:[t.jsx(Bs,{className:"h-5 w-5"}),e.name]}),t.jsx(Te,{children:e.base_url})]}),t.jsxs("div",{className:"space-y-6 py-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(ce,{variant:Fp(e.status),children:Lp(e.status)}),e.supports_responses_api&&t.jsx(ce,{variant:"outline",children:"Responses API"}),t.jsxs("span",{className:"text-sm text-muted-foreground",children:["Models: ",e.model_count]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>g.mutate(),disabled:g.isPending,children:[t.jsx(Ho,{className:"h-4 w-4 mr-1"}),"Test Connection"]}),t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>j.mutate(),disabled:j.isPending||e.status!=="online",children:[t.jsx(Ft,{className:`h-4 w-4 mr-1 ${j.isPending?"animate-spin":""}`}),"Sync Models"]})]})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Latency:"}),t.jsx("span",{className:"ml-2",children:e.latency_ms!=null?`${e.latency_ms}ms`:"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Registered:"}),t.jsx("span",{className:"ml-2",children:xt(e.registered_at)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Last Seen:"}),t.jsx("span",{className:"ml-2",children:e.last_seen?xt(e.last_seen):"-"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-muted-foreground",children:"Error Count:"}),t.jsx("span",{className:"ml-2",children:e.error_count})]})]}),e.last_error&&t.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-md p-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-destructive",children:[t.jsx(qo,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Last Error"})]}),t.jsx("p",{className:"text-sm text-destructive/80 mt-1",children:e.last_error})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(ae,{className:"flex items-center gap-2",children:[t.jsx(mu,{className:"h-4 w-4"}),"Models (",((M=p==null?void 0:p.models)==null?void 0:M.length)||0,")"]}),t.jsxs(O,{variant:"default",size:"sm",onClick:y,disabled:e.status!=="online"||!((A=p==null?void 0:p.models)!=null&&A.length),children:[t.jsx(Ir,{className:"h-4 w-4 mr-1"}),"Open Playground"]})]}),t.jsx(ot,{className:"h-32 rounded-md border",children:t.jsx("div",{className:"p-3 space-y-2",children:v?t.jsxs("div",{className:"flex items-center justify-center py-4",children:[t.jsx(qe,{className:"h-4 w-4 animate-spin text-muted-foreground"}),t.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading models..."})]}):(R=p==null?void 0:p.models)!=null&&R.length?p.models.map(S=>t.jsxs("div",{className:"flex items-center justify-between text-sm py-1.5 px-2 rounded hover:bg-muted/50",children:[t.jsx("span",{className:"font-mono text-xs truncate flex-1",title:S.model_id,children:S.model_id}),S.capabilities&&S.capabilities.length>0&&t.jsx("div",{className:"flex gap-1 ml-2",children:S.capabilities.slice(0,2).map(C=>t.jsx(ce,{variant:"outline",className:"text-xs",children:C},C))})]},S.model_id)):t.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No models available"})})})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"name",children:"Display Name"}),t.jsx(je,{id:"name",value:a,onChange:S=>i(S.target.value),placeholder:"Endpoint name"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ae,{htmlFor:"healthCheckInterval",children:[t.jsx(Hs,{className:"h-4 w-4 inline mr-1"}),"Health Check Interval (sec)"]}),t.jsx(je,{id:"healthCheckInterval",type:"number",min:"5",max:"3600",value:d,onChange:S=>h(S.target.value)})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ae,{htmlFor:"inferenceTimeout",children:[t.jsx(Hs,{className:"h-4 w-4 inline mr-1"}),"Inference Timeout (sec)"]}),t.jsx(je,{id:"inferenceTimeout",type:"number",min:"10",max:"600",value:f,onChange:S=>u(S.target.value)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{htmlFor:"notes",children:"Notes"}),t.jsx(Ra,{id:"notes",value:l,onChange:S=>c(S.target.value),placeholder:"Notes about this endpoint...",rows:3})]})]})]}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>r(!1),children:"Close"}),t.jsxs(O,{onClick:b,disabled:m.isPending,children:[t.jsx(Mu,{className:"h-4 w-4 mr-1"}),m.isPending?"Saving...":"Save"]})]})]})}):null}const Os=10;function $p(e){switch(e){case"online":return"default";case"pending":return"secondary";case"offline":return"outline";case"error":return"destructive";default:return"outline"}}function qp(e){switch(e){case"online":return"Online";case"pending":return"Pending";case"offline":return"Offline";case"error":return"Error";default:return e}}function Kp({endpoints:e,isLoading:s}){const r=Ot(),[n,a]=o.useState(""),[i,l]=o.useState("all"),[c,d]=o.useState("status"),[h,f]=o.useState("desc"),[u,p]=o.useState(1),[v,y]=o.useState(null),[m,g]=o.useState(null),[j,b]=o.useState(!1),[w,N]=o.useState(null),[M,A]=o.useState(null),[R,S]=o.useState(!1),[C,T]=o.useState(!1),[U,Q]=o.useState(null),[k,G]=o.useState({name:"",base_url:"",api_key:"",notes:""}),q=async()=>{if(!(!k.name||!k.base_url)){T(!0),Q(null);try{await $e.create({name:k.name,base_url:k.base_url,api_key:k.api_key||void 0,notes:k.notes||void 0}),await r.invalidateQueries({queryKey:["dashboard-endpoints"]}),S(!1),G({name:"",base_url:"",api_key:"",notes:""})}catch(_){console.error("Failed to create endpoint:",_),Q(_ instanceof Error?_.message:"Failed to create endpoint")}finally{T(!1)}}},te=async()=>{if(m){b(!0);try{await $e.delete(m.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(_){console.error("Failed to delete endpoint:",_)}finally{b(!1),g(null)}}},oe=async _=>{N(_.id);try{await $e.test(_.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(ne){console.error("Failed to test endpoint:",ne)}finally{N(null)}},fe=async _=>{A(_.id);try{await $e.sync(_.id),await r.invalidateQueries({queryKey:["dashboard-endpoints"]})}catch(ne){console.error("Failed to sync endpoint:",ne)}finally{A(null)}},F=o.useMemo(()=>e.filter(_=>{const ne=_.name.toLowerCase().includes(n.toLowerCase())||_.base_url.toLowerCase().includes(n.toLowerCase()),D=i==="all"||_.status===i;return ne&&D}),[e,n,i]),ie=o.useMemo(()=>[...F].sort((_,ne)=>{let D=0;switch(c){case"name":D=_.name.localeCompare(ne.name);break;case"status":{const Z={online:0,pending:1,offline:2,error:3};D=Z[_.status]-Z[ne.status];break}case"latency_ms":D=(_.latency_ms??1/0)-(ne.latency_ms??1/0);break;case"model_count":D=_.model_count-ne.model_count;break;case"registered_at":D=new Date(_.registered_at).getTime()-new Date(ne.registered_at).getTime();break}return h==="asc"?D:-D}),[F,c,h]),de=o.useMemo(()=>{const _=(u-1)*Os;return ie.slice(_,_+Os)},[ie,u]),me=Math.ceil(ie.length/Os),Ee=_=>{c===_?f(h==="asc"?"desc":"asc"):(d(_),f("desc"))},ve=({field:_})=>c!==_?null:h==="asc"?t.jsx($o,{className:"ml-1 h-4 w-4 inline"}):t.jsx(ea,{className:"ml-1 h-4 w-4 inline"});return s&&e.length===0?t.jsxs(Xt,{children:[t.jsx(Es,{children:t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Bs,{className:"h-5 w-5"}),"Endpoints"]})}),t.jsx(Zt,{children:t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Xt,{children:[t.jsx(Es,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Bs,{className:"h-5 w-5"}),"Endpoints",t.jsx(ce,{variant:"secondary",className:"ml-2",children:F.length})]}),t.jsxs(O,{onClick:()=>S(!0),children:[t.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Add Endpoint"]})]})}),t.jsxs(Zt,{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Pu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),t.jsx(je,{placeholder:"Search by name or URL...",value:n,onChange:_=>{a(_.target.value),p(1)},className:"pl-10"})]}),t.jsxs(ns,{value:i,onValueChange:_=>{l(_),p(1)},children:[t.jsx(At,{className:"w-[180px]",children:t.jsx(as,{placeholder:"Status"})}),t.jsxs(Dt,{children:[t.jsx(le,{value:"all",children:"All"}),t.jsx(le,{value:"online",children:"Online"}),t.jsx(le,{value:"pending",children:"Pending"}),t.jsx(le,{value:"offline",children:"Offline"}),t.jsx(le,{value:"error",children:"Error"})]})]})]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(Ps,{children:[t.jsx(Ts,{children:t.jsxs(Oe,{children:[t.jsxs(se,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Ee("name"),children:["Name",t.jsx(ve,{field:"name"})]}),t.jsx(se,{children:"URL"}),t.jsxs(se,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>Ee("status"),children:["Status",t.jsx(ve,{field:"status"})]}),t.jsxs(se,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>Ee("latency_ms"),children:["Latency",t.jsx(ve,{field:"latency_ms"})]}),t.jsxs(se,{className:"cursor-pointer hover:bg-muted/50 text-right",onClick:()=>Ee("model_count"),children:["Models",t.jsx(ve,{field:"model_count"})]}),t.jsx(se,{children:"Last Seen"}),t.jsx(se,{className:"text-right",children:"Actions"})]})}),t.jsx(Is,{children:de.length===0?t.jsx(Oe,{children:t.jsx(J,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:n||i!=="all"?"No endpoints match the filter criteria":"No endpoints registered"})}):de.map(_=>t.jsxs(Oe,{children:[t.jsx(J,{className:"font-medium",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{children:_.name}),_.supports_responses_api&&t.jsx(ce,{variant:"outline",className:"text-xs",children:"Responses API"})]})}),t.jsx(J,{children:t.jsx("span",{className:"text-muted-foreground font-mono text-sm",children:_.base_url})}),t.jsxs(J,{children:[t.jsx(ce,{variant:$p(_.status),children:qp(_.status)}),_.last_error&&t.jsxs("span",{className:"ml-2 text-xs text-destructive",children:["(",_.error_count," errors)"]})]}),t.jsx(J,{className:"text-right",children:_.latency_ms!=null?`${_.latency_ms}ms`:"-"}),t.jsx(J,{className:"text-right",children:_.model_count}),t.jsx(J,{children:_.last_seen?xt(_.last_seen):"-"}),t.jsx(J,{className:"text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(O,{variant:"ghost",size:"icon",onClick:()=>y(_),title:"Details",children:t.jsx(Ru,{className:"h-4 w-4"})}),t.jsx(O,{variant:"ghost",size:"icon",onClick:()=>oe(_),disabled:w===_.id,title:"Test Connection",children:t.jsx(Ho,{className:L("h-4 w-4",w===_.id&&"animate-pulse")})}),t.jsx(O,{variant:"ghost",size:"icon",onClick:()=>fe(_),disabled:M===_.id||_.status!=="online",title:"Sync Models",children:t.jsx(Ft,{className:L("h-4 w-4",M===_.id&&"animate-spin")})}),t.jsx(O,{variant:"ghost",size:"icon",onClick:()=>g(_),title:"Delete",children:t.jsx(Zs,{className:"h-4 w-4 text-destructive"})})]})})]},_.id))})]})}),me>1&&t.jsxs("div",{className:"flex items-center justify-between mt-4",children:[t.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(u-1)*Os+1," -"," ",Math.min(u*Os,ie.length)," of ",ie.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{variant:"outline",size:"sm",onClick:()=>p(_=>Math.max(1,_-1)),disabled:u===1,children:t.jsx(Uo,{className:"h-4 w-4"})}),t.jsxs("span",{className:"text-sm",children:[u," / ",me]}),t.jsx(O,{variant:"outline",size:"sm",onClick:()=>p(_=>Math.min(me,_+1)),disabled:u===me,children:t.jsx(ta,{className:"h-4 w-4"})})]})]})]})]}),v&&t.jsx(Up,{endpoint:v,open:!!v,onOpenChange:_=>!_&&y(null)}),t.jsx(Vr,{open:!!m,onOpenChange:_=>!_&&g(null),children:t.jsxs(rr,{children:[t.jsxs(nr,{children:[t.jsx(or,{children:"Delete Endpoint?"}),t.jsxs(ir,{children:['This will delete "',m==null?void 0:m.name,'". This action cannot be undone. Models associated with this endpoint will no longer be available.']})]}),t.jsxs(ar,{children:[t.jsx(lr,{disabled:j,children:"Cancel"}),t.jsx(cr,{onClick:te,disabled:j,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:j?"Deleting...":"Delete"})]})]})}),t.jsx(De,{open:R,onOpenChange:_=>{_||(Q(null),G({name:"",base_url:"",api_key:"",notes:""})),S(_)},children:t.jsxs(_e,{className:"sm:max-w-[500px]",children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Add New Endpoint"}),t.jsx(Te,{children:"Register a new inference service endpoint (Ollama, vLLM, etc.)"})]}),t.jsxs("div",{className:"grid gap-4 py-4",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ae,{htmlFor:"endpoint-name",children:"Name *"}),t.jsx(je,{id:"endpoint-name",placeholder:"e.g., Production Ollama",value:k.name,onChange:_=>G({...k,name:_.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ae,{htmlFor:"endpoint-url",children:"Base URL *"}),t.jsx(je,{id:"endpoint-url",placeholder:"e.g., http://localhost:11434",value:k.base_url,onChange:_=>G({...k,base_url:_.target.value})}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"The base URL of the OpenAI-compatible API endpoint"})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ae,{htmlFor:"endpoint-api-key",children:"API Key (optional)"}),t.jsx(je,{id:"endpoint-api-key",type:"password",placeholder:"sk-...",value:k.api_key,onChange:_=>G({...k,api_key:_.target.value})})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsx(ae,{htmlFor:"endpoint-notes",children:"Notes (optional)"}),t.jsx(je,{id:"endpoint-notes",placeholder:"Description or notes about this endpoint",value:k.notes,onChange:_=>G({...k,notes:_.target.value})})]}),U&&t.jsx("p",{className:"text-sm text-destructive",children:U})]}),t.jsxs(it,{children:[t.jsx(O,{variant:"outline",onClick:()=>S(!1),disabled:C,children:"Cancel"}),t.jsx(O,{onClick:q,disabled:C||!k.name||!k.base_url,children:C?"Creating...":"Create Endpoint"})]})]})})]})}var Yr="Tabs",[Hp]=ct(Yr,[Or]),Wl=Or(),[Bp,ka]=Hp(Yr),Gl=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:l="horizontal",dir:c,activationMode:d="automatic",...h}=e,f=Js(c),[u,p]=It({prop:n,onChange:a,defaultProp:i??"",caller:Yr});return t.jsx(Bp,{scope:r,baseId:nt(),value:u,onValueChange:p,orientation:l,dir:f,activationMode:d,children:t.jsx(V.div,{dir:f,"data-orientation":l,...h,ref:s})})});Gl.displayName=Yr;var Ql="TabsList",Yl=o.forwardRef((e,s)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ka(Ql,r),l=Wl(r);return t.jsx(Yo,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:t.jsx(V.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:s})})});Yl.displayName=Ql;var Xl="TabsTrigger",Zl=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,l=ka(Xl,r),c=Wl(r),d=td(l.baseId,n),h=sd(l.baseId,n),f=n===l.value;return t.jsx(Xo,{asChild:!0,...c,focusable:!a,active:f,children:t.jsx(V.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:s,onMouseDown:I(e.onMouseDown,u=>{!a&&u.button===0&&u.ctrlKey===!1?l.onValueChange(n):u.preventDefault()}),onKeyDown:I(e.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&l.onValueChange(n)}),onFocus:I(e.onFocus,()=>{const u=l.activationMode!=="manual";!f&&!a&&u&&l.onValueChange(n)})})})});Zl.displayName=Xl;var Jl="TabsContent",ed=o.forwardRef((e,s)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...l}=e,c=ka(Jl,r),d=td(c.baseId,n),h=sd(c.baseId,n),f=n===c.value,u=o.useRef(f);return o.useEffect(()=>{const p=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(p)},[]),t.jsx(Fe,{present:a||f,children:({present:p})=>t.jsx(V.div,{"data-state":f?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!p,id:h,tabIndex:0,...l,ref:s,style:{...e.style,animationDuration:u.current?"0s":void 0},children:p&&i})})});ed.displayName=Jl;function td(e,s){return`${e}-trigger-${s}`}function sd(e,s){return`${e}-content-${s}`}var zp=Gl,rd=Yl,nd=Zl,ad=ed;const _a=zp,Xr=o.forwardRef(({className:e,...s},r)=>t.jsx(rd,{ref:r,className:L("inline-flex h-10 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));Xr.displayName=rd.displayName;const tt=o.forwardRef(({className:e,...s},r)=>t.jsx(nd,{ref:r,className:L("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));tt.displayName=nd.displayName;const st=o.forwardRef(({className:e,...s},r)=>t.jsx(ad,{ref:r,className:L("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));st.displayName=ad.displayName;const Vp=[25,50,100];function Wp({history:e,isLoading:s}){var v;const[r,n]=o.useState(25),[a,i]=o.useState(1),[l,c]=o.useState(null),[d,h]=o.useState(null),f=Math.ceil(e.length/r),u=e.slice((a-1)*r,a*r),p=async(y,m)=>{try{await navigator.clipboard.writeText(y),h(m),setTimeout(()=>h(null),2e3),X({title:"Copied to clipboard"})}catch{X({title:"Failed to copy",variant:"destructive"})}};return s?t.jsxs(Xt,{children:[t.jsx(Es,{children:t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Ls,{className:"h-5 w-5"}),"Request History"]})}),t.jsx(Zt,{children:t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((y,m)=>t.jsx("div",{className:"h-12 shimmer rounded"},m))})})]}):t.jsxs(t.Fragment,{children:[t.jsxs(Xt,{children:[t.jsx(Es,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Ls,{className:"h-5 w-5"}),"Request History",t.jsx(ce,{variant:"secondary",className:"ml-2",children:e.length})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:"Show"}),t.jsxs(ns,{value:r.toString(),onValueChange:y=>{n(Number(y)),i(1)},children:[t.jsx(At,{id:"history-per-page",className:"w-20",children:t.jsx(as,{})}),t.jsx(Dt,{children:Vp.map(y=>t.jsx(le,{value:y.toString(),children:y},y))})]}),t.jsx("span",{className:"text-sm text-muted-foreground",children:"entries"})]})]})}),t.jsxs(Zt,{className:"px-0",children:[t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(Ps,{children:[t.jsx(Ts,{children:t.jsxs(Oe,{children:[t.jsx(se,{children:"Time"}),t.jsx(se,{children:"Model"}),t.jsx(se,{children:"Node"}),t.jsx(se,{children:"Status"}),t.jsx(se,{children:"Duration"}),t.jsx(se,{children:"Tokens"})]})}),t.jsx(Is,{id:"request-history-tbody",children:u.length===0?t.jsx(Oe,{children:t.jsx(J,{colSpan:6,className:"h-32 text-center",children:t.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[t.jsx(Ls,{className:"h-8 w-8"}),t.jsx("p",{children:"No request history"})]})})}):u.map(y=>{var m,g;return t.jsxs(Oe,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>c(y),children:[t.jsx(J,{className:"font-mono text-xs",children:xt(y.timestamp)}),t.jsx(J,{children:t.jsx(ce,{variant:"secondary",children:y.model})}),t.jsx(J,{className:"text-sm",children:y.node_name||((m=y.node_id)==null?void 0:m.slice(0,8))||""}),t.jsx(J,{children:t.jsxs(ce,{variant:y.status==="success"?"online":"destructive",className:"gap-1",children:[y.status==="success"?t.jsx(jr,{className:"h-3 w-3"}):t.jsx(Cr,{className:"h-3 w-3"}),y.status]})}),t.jsx(J,{children:t.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[t.jsx(Hs,{className:"h-3 w-3 text-muted-foreground"}),pn(y.duration_ms)]})}),t.jsx(J,{className:"text-sm",children:((g=y.total_tokens)==null?void 0:g.toLocaleString())||""})]},y.request_id)})})]})}),f>1&&t.jsxs("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[t.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",(a-1)*r+1," to"," ",Math.min(a*r,e.length)," of ",e.length]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{id:"history-page-prev",variant:"outline",size:"sm",onClick:()=>i(y=>Math.max(1,y-1)),disabled:a===1,children:t.jsx(Uo,{className:"h-4 w-4"})}),t.jsxs("span",{id:"history-page-info",className:"text-sm",children:["Page ",a," of ",f]}),t.jsx(O,{id:"history-page-next",variant:"outline",size:"sm",onClick:()=>i(y=>Math.min(f,y+1)),disabled:a===f,children:t.jsx(ta,{className:"h-4 w-4"})})]})]})]})]}),t.jsx(De,{open:!!l,onOpenChange:()=>c(null),children:t.jsxs(_e,{id:"request-modal",className:"max-w-2xl max-h-[80vh] overflow-hidden",children:[t.jsxs(Me,{children:[t.jsxs(Pe,{className:"flex items-center gap-2",children:[t.jsx(Ls,{className:"h-5 w-5"}),"Request Details"]}),t.jsxs(Te,{children:["Request ID: ",t.jsx("code",{className:"text-xs",children:l==null?void 0:l.request_id})]})]}),l&&t.jsxs(_a,{defaultValue:"overview",className:"mt-4",children:[t.jsxs(Xr,{className:"grid w-full grid-cols-3",children:[t.jsx(tt,{value:"overview",children:"Overview"}),t.jsx(tt,{value:"request",children:"Request"}),t.jsx(tt,{value:"response",children:"Response"})]}),t.jsxs(st,{value:"overview",className:"space-y-4 mt-4",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Model"}),t.jsx(ce,{variant:"secondary",children:l.model})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),t.jsx(ce,{variant:l.status==="success"?"online":"destructive",children:l.status})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Node"}),t.jsx("p",{className:"text-sm",children:l.node_name||l.node_id||""})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Duration"}),t.jsx("p",{className:"text-sm",children:pn(l.duration_ms)})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Timestamp"}),t.jsx("p",{className:"text-sm",children:new Date(l.timestamp).toLocaleString()})]}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Tokens"}),t.jsx("p",{className:"text-sm",children:((v=l.total_tokens)==null?void 0:v.toLocaleString())||""})]})]}),l.error&&t.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[t.jsx("p",{className:"text-sm font-medium text-destructive",children:"Error"}),t.jsx("p",{className:"mt-1 text-sm",children:l.error})]})]}),t.jsx(st,{value:"request",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.request_body,null,2),"request"),children:d==="request"?t.jsx(vt,{className:"h-4 w-4"}):t.jsx(ks,{className:"h-4 w-4"})}),t.jsx(ot,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.request_body,null,2)||"No request body"})})]})}),t.jsx(st,{value:"response",className:"mt-4",children:t.jsxs("div",{className:"relative",children:[t.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>p(JSON.stringify(l.response_body,null,2),"response"),children:d==="response"?t.jsx(vt,{className:"h-4 w-4"}):t.jsx(ks,{className:"h-4 w-4"})}),t.jsx(ot,{className:"h-64 rounded-md border",children:t.jsx("pre",{className:"p-4 text-xs",children:JSON.stringify(l.response_body,null,2)||"No response body"})})]})})]})]})})]})}var Zr="Switch",[Gp]=ct(Zr),[Qp,Yp]=Gp(Zr),od=o.forwardRef((e,s)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:l,disabled:c,value:d="on",onCheckedChange:h,form:f,...u}=e,[p,v]=o.useState(null),y=ee(s,w=>v(w)),m=o.useRef(!1),g=p?f||!!p.closest("form"):!0,[j,b]=It({prop:a,defaultProp:i??!1,onChange:h,caller:Zr});return t.jsxs(Qp,{scope:r,checked:j,disabled:c,children:[t.jsx(V.button,{type:"button",role:"switch","aria-checked":j,"aria-required":l,"data-state":dd(j),"data-disabled":c?"":void 0,disabled:c,value:d,...u,ref:y,onClick:I(e.onClick,w=>{b(N=>!N),g&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),g&&t.jsx(ld,{control:p,bubbles:!m.current,name:n,value:d,checked:j,required:l,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});od.displayName=Zr;var id="SwitchThumb",cd=o.forwardRef((e,s)=>{const{__scopeSwitch:r,...n}=e,a=Yp(id,r);return t.jsx(V.span,{"data-state":dd(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:s})});cd.displayName=id;var Xp="SwitchBubbleInput",ld=o.forwardRef(({__scopeSwitch:e,control:s,checked:r,bubbles:n=!0,...a},i)=>{const l=o.useRef(null),c=ee(l,i),d=ua(r),h=Co(s);return o.useEffect(()=>{const f=l.current;if(!f)return;const u=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(u,"checked").set;if(d!==r&&v){const y=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(y)}},[d,r,n]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ld.displayName=Xp;function dd(e){return e?"checked":"unchecked"}var ud=od,Zp=cd;const Ma=o.forwardRef(({className:e,...s},r)=>t.jsx(ud,{className:L("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:r,children:t.jsx(Zp,{className:L("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Ma.displayName=ud.displayName;function Jp({nodes:e}){const[s,r]=o.useState("all"),[n,a]=o.useState(!0),i=o.useRef(null),{data:l,refetch:c,isRefetching:d}=Ke({queryKey:["router-logs"],queryFn:()=>us.getRouterLogs({limit:200}),refetchInterval:5e3}),h=l==null?void 0:l.entries,f=h==null?void 0:h.filter(m=>s==="all"?!0:m.level.toLowerCase()===s);o.useEffect(()=>{if(n&&i.current){const m=i.current.querySelector("[data-radix-scroll-area-viewport]");m&&(m.scrollTop=m.scrollHeight)}},[f,n]);const u=()=>{c()},p=()=>{X({title:"Log clearing is handled on the server side"})},v=()=>{if(!f||f.length===0){X({title:"No logs to download",variant:"destructive"});return}const m=f.map(w=>`[${w.timestamp}] [${w.level}] ${w.target?`[${w.target}] `:""}${w.message||""}`).join(`
`),g=new Blob([m],{type:"text/plain"}),j=URL.createObjectURL(g),b=document.createElement("a");b.href=j,b.download=`logs-router-${new Date().toISOString().slice(0,10)}.txt`,b.click(),URL.revokeObjectURL(j),X({title:"Logs downloaded"})},y=m=>{const g=m.toLowerCase();return g==="error"?"text-destructive":g==="warn"||g==="warning"?"text-warning":g==="info"?"text-primary":g==="debug"?"text-muted-foreground":"text-foreground"};return t.jsxs(Xt,{children:[t.jsx(Es,{className:"pb-4",children:t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Ko,{className:"h-5 w-5"}),"Log Viewer",f&&t.jsx(ce,{variant:"secondary",className:"ml-2",children:f.length})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 border rounded-md bg-muted/30",children:[t.jsx(Bs,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Router"})]}),t.jsxs(ns,{value:s,onValueChange:m=>r(m),children:[t.jsx(At,{className:"w-28",children:t.jsx(as,{})}),t.jsxs(Dt,{children:[t.jsx(le,{value:"all",children:"All"}),t.jsx(le,{value:"error",children:"Error"}),t.jsx(le,{value:"warn",children:"Warn"}),t.jsx(le,{value:"info",children:"Info"}),t.jsx(le,{value:"debug",children:"Debug"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ma,{id:"auto-scroll",checked:n,onCheckedChange:a}),t.jsx(ae,{htmlFor:"auto-scroll",className:"text-sm",children:"Auto-scroll"})]})]})]})}),t.jsxs(Zt,{children:[t.jsxs("div",{className:"mb-4 flex gap-2",children:[t.jsxs(O,{id:"logs-router-refresh",variant:"outline",size:"sm",onClick:u,disabled:d,children:[t.jsx(Ft,{className:L("mr-2 h-4 w-4",d&&"animate-spin")}),"Refresh"]}),t.jsxs(O,{variant:"outline",size:"sm",onClick:v,children:[t.jsx(bu,{className:"mr-2 h-4 w-4"}),"Download"]}),t.jsxs(O,{variant:"outline",size:"sm",onClick:p,children:[t.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Clear"]})]}),t.jsx(ot,{className:"h-96 rounded-md border bg-muted/30",ref:i,children:t.jsx("div",{id:"logs-router-list",className:"p-4 font-mono text-xs space-y-0.5",children:!f||f.length===0?t.jsx("div",{className:"flex h-32 items-center justify-center text-muted-foreground",children:"No logs available"}):f.map((m,g)=>t.jsxs("div",{className:"flex gap-2 py-0.5 hover:bg-muted/50 rounded px-1 -mx-1",children:[t.jsx("span",{className:"text-muted-foreground shrink-0",children:new Date(m.timestamp).toLocaleTimeString()}),t.jsx("span",{className:L("uppercase w-12 shrink-0 font-semibold",y(m.level)),children:m.level}),m.target&&t.jsxs("span",{className:"text-muted-foreground shrink-0",children:["[",m.target,"]"]}),t.jsx("span",{className:"break-all",children:m.message||""})]},g))})})]})]})}function ex(){const{data:e,isLoading:s}=Ke({queryKey:["token-stats-daily"],queryFn:()=>us.getDailyTokenStats(7)}),{data:r,isLoading:n}=Ke({queryKey:["token-stats-monthly"],queryFn:()=>us.getMonthlyTokenStats(6)});return t.jsxs(Xt,{children:[t.jsx(Es,{children:t.jsxs(Rs,{className:"flex items-center gap-2",children:[t.jsx(Ir,{className:"h-5 w-5"}),"Token Statistics"]})}),t.jsx(Zt,{children:t.jsxs(_a,{defaultValue:"daily",className:"space-y-4",children:[t.jsxs(Xr,{children:[t.jsxs(tt,{value:"daily",className:"gap-2",children:[t.jsx(Fu,{className:"h-4 w-4"}),"Daily"]}),t.jsxs(tt,{value:"monthly",className:"gap-2",children:[t.jsx(pu,{className:"h-4 w-4"}),"Monthly"]})]}),t.jsx(st,{value:"daily",children:s?t.jsx("div",{className:"space-y-2",children:[...Array(5)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):e&&e.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Date"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),e.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.date}),t.jsx("div",{className:"text-right",children:be(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:be(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:be(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:be(a.total_tokens)})]},a.date))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No daily statistics available"})}),t.jsx(st,{value:"monthly",children:n?t.jsx("div",{className:"space-y-2",children:[...Array(3)].map((a,i)=>t.jsx("div",{className:"h-10 shimmer rounded"},i))}):r&&r.length>0?t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm font-medium text-muted-foreground border-b pb-2",children:[t.jsx("div",{children:"Month"}),t.jsx("div",{className:"text-right",children:"Requests"}),t.jsx("div",{className:"text-right",children:"Input"}),t.jsx("div",{className:"text-right",children:"Output"}),t.jsx("div",{className:"text-right",children:"Total"})]}),r.map(a=>t.jsxs("div",{className:"grid grid-cols-5 gap-2 text-sm py-2 border-b border-border/50",children:[t.jsx("div",{className:"font-medium",children:a.month}),t.jsx("div",{className:"text-right",children:be(a.request_count)}),t.jsx("div",{className:"text-right text-muted-foreground",children:be(a.total_input_tokens)}),t.jsx("div",{className:"text-right text-muted-foreground",children:be(a.total_output_tokens)}),t.jsx("div",{className:"text-right font-medium",children:be(a.total_tokens)})]},a.month))]}):t.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No monthly statistics available"})})]})})]})}function tx(){const{user:e}=Jn(),{isConnected:s}=$u(),[r,n]=o.useState(null),[a,i]=o.useState(null),l=o.useRef(null),c=s?1e4:5e3,d=o.useCallback(async()=>{l.current=performance.now();const b=await us.getOverview(),w=performance.now();return i(Math.round(w-(l.current||w))),n(new Date),b},[]),{data:h,isLoading:f,error:u,refetch:p}=Ke({queryKey:["dashboard-overview"],queryFn:d,refetchInterval:c}),{data:v,isLoading:y}=Ke({queryKey:["request-responses"],queryFn:()=>us.getRequestResponses({limit:100}),refetchInterval:c}),{data:m,isLoading:g}=Ke({queryKey:["dashboard-endpoints"],queryFn:()=>us.getEndpoints(),refetchInterval:c}),j=o.useMemo(()=>v!=null&&v.records?v.records.map(b=>({request_id:b.id,timestamp:b.timestamp,model:b.model,node_id:b.node_id,node_name:b.node_machine_name,status:b.status.type,duration_ms:b.duration_ms,error:b.status.type==="error"?b.status.message:void 0,request_body:b.request_body,response_body:b.response_body})):[],[v]);return u?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4 text-center",children:[t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-destructive/10",children:t.jsx(qo,{className:"h-8 w-8 text-destructive"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Failed to load dashboard"}),t.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u instanceof Error?u.message:"An error occurred"})]}),t.jsx("button",{onClick:()=>p(),className:"text-sm text-primary hover:underline",children:"Try again"})]})}):t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx("div",{className:"fixed inset-0 bg-grid opacity-20 pointer-events-none"}),t.jsx(Pp,{user:e,isConnected:!u,lastRefreshed:r,fetchTimeMs:a}),t.jsxs("main",{className:"relative mx-auto max-w-[1600px] px-4 py-6 sm:px-6 lg:px-8",children:[t.jsx("section",{className:"mb-8",children:t.jsx(Ip,{stats:h==null?void 0:h.stats,isLoading:f})}),t.jsxs(_a,{defaultValue:"endpoints",className:"space-y-6",children:[t.jsxs(Xr,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[t.jsxs(tt,{value:"endpoints",className:"gap-2",children:[t.jsx(Nu,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Endpoints"})]}),t.jsxs(tt,{value:"statistics",className:"gap-2",children:[t.jsx(xu,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Statistics"})]}),t.jsxs(tt,{value:"history",className:"gap-2",children:[t.jsx(Ls,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"History"})]}),t.jsxs(tt,{value:"logs",className:"gap-2",children:[t.jsx(Ko,{className:"h-4 w-4"}),t.jsx("span",{className:"hidden sm:inline",children:"Logs"})]})]}),t.jsx(st,{value:"endpoints",className:"animate-fade-in",children:t.jsx(Kp,{endpoints:m||[],isLoading:g})}),t.jsx(st,{value:"statistics",className:"animate-fade-in",children:t.jsx(ex,{})}),t.jsx(st,{value:"history",className:"animate-fade-in",children:t.jsx(Wp,{history:j,isLoading:y})}),t.jsx(st,{value:"logs",className:"animate-fade-in",children:t.jsx(Jp,{})})]})]})]})}function sx({endpointId:e,onBack:s}){const[r,n]=o.useState([]),[a,i]=o.useState(""),[l,c]=o.useState(!1),[d,h]=o.useState(!1),[f,u]=o.useState(!1),[p,v]=o.useState(!1),[y,m]=o.useState(""),[g,j]=o.useState(""),[b,w]=o.useState(!0),[N,M]=o.useState(.7),[A,R]=o.useState(16384),S=o.useRef(null),C=o.useRef(null),T=o.useRef(null),U=o.useRef(null),Q=o.useRef(null),[k,G]=o.useState([]),{data:q,isLoading:te}=Ke({queryKey:["endpoint",e],queryFn:()=>$e.get(e)}),{data:oe,isLoading:fe,error:F}=Ke({queryKey:["endpoint-models",e],queryFn:()=>$e.getModels(e),retry:!1});o.useEffect(()=>{if(F){let E="Failed to fetch model list";F instanceof jd&&(E=F.message),X({title:"Error",description:E,variant:"destructive"})}},[F]),o.useEffect(()=>{oe!=null&&oe.models&&!y&&oe.models.length>0&&m(oe.models[0].model_id)},[oe,y]),o.useEffect(()=>{var E;(E=S.current)==null||E.scrollIntoView({behavior:"smooth"})},[r]);const ie=()=>{n([]),G([]),X({title:"Chat cleared"})},de=async(E,K)=>{if(E){if(E.size>4*1024*1024){X({title:"File too large",description:"Maximum size is 4MB",variant:"destructive"});return}try{const B=new FileReader;B.onload=z=>{var Ie;const he=(Ie=z.target)==null?void 0:Ie.result,ye={type:K,name:E.name,data:he,mimeType:E.type};G(yt=>[...yt,ye]),X({title:`${K==="image"?"Image":"Audio"} attached`})},B.readAsDataURL(E)}catch{X({title:"Failed to read file",variant:"destructive"})}}},me=E=>{G(K=>K.filter((B,z)=>z!==E))},Ee=E=>{const K=/(data:image\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(png|jpg|jpeg|gif|webp))/gi,B=/(data:audio\/[^;]+;base64,[^\s"'<>]+|https?:\/\/[^\s"'<>]+\.(mp3|wav|ogg|m4a))/gi,z=E.match(K)||[],he=E.match(B)||[];return{imageMatches:z,audioMatches:he}},ve=async()=>{var B,z,he,ye;if(!a.trim()&&k.length===0||!y||l)return;const E={role:"user",content:a.trim(),attachments:k.length>0?k:void 0},K=[...r,E];n(K),i(""),G([]),c(!0),C.current=new AbortController;try{const Ie=pe=>{if(!pe.attachments||pe.attachments.length===0)return{role:pe.role,content:pe.content};const Qe=[];return pe.content.trim()&&Qe.push({type:"text",text:pe.content}),pe.attachments.forEach(Ye=>{if(Ye.type==="image")Qe.push({type:"image_url",image_url:{url:Ye.data}});else if(Ye.type==="audio"){const Ds=Ye.data.startsWith("data:")?Ye.data.split(",")[1]:Ye.data;Qe.push({type:"input_audio",input_audio:{data:Ds,format:"wav"}})}}),{role:pe.role,content:Qe}},yt=g?[{role:"system",content:g},...K.map(Ie)]:K.map(Ie);if(b){let pe="";n(Qe=>[...Qe,{role:"assistant",content:""}]),await $e.chatCompletions(e,{model:y,messages:yt,stream:!0,temperature:N,max_tokens:A},Qe=>{pe+=Qe,n(Ye=>{const Ds=[...Ye];return Ds[Ds.length-1]={role:"assistant",content:pe},Ds})})}else{const pe=await $e.chatCompletions(e,{model:y,messages:yt,stream:!1,temperature:N,max_tokens:A}),Qe={role:"assistant",content:((he=(z=(B=pe==null?void 0:pe.choices)==null?void 0:B[0])==null?void 0:z.message)==null?void 0:he.content)||""};n(Ye=>[...Ye,Qe])}}catch(Ie){Ie.name!=="AbortError"&&(X({title:"Failed to send message",description:Ie instanceof Error?Ie.message:"Unknown error",variant:"destructive"}),n(r))}finally{c(!1),C.current=null,(ye=T.current)==null||ye.focus()}},_=()=>{var E;(E=C.current)==null||E.abort(),c(!1)},ne=()=>{var B;const E=g?[{role:"system",content:g},...r]:r;return`curl -X POST '${((B=q==null?void 0:q.base_url)==null?void 0:B.replace(/\/$/,""))||"http://localhost:11434"}/v1/chat/completions' \\
  -H 'Content-Type: application/json' \\
  -d '${JSON.stringify({model:y,messages:E,stream:b,temperature:N,max_tokens:A},null,2)}'`},D=async E=>{try{await navigator.clipboard.writeText(E),v(!0),setTimeout(()=>v(!1),2e3),X({title:"Copied to clipboard"})}catch{X({title:"Failed to copy",variant:"destructive"})}},Z=(oe==null?void 0:oe.models)||[];return te?t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsx(qe,{className:"h-8 w-8 animate-spin text-primary"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading endpoint..."})]})}):t.jsxs("div",{className:"flex h-screen bg-background",children:[t.jsxs("div",{className:"w-64 border-r flex flex-col",children:[t.jsx("div",{className:"p-4 border-b",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:t.jsx(Wn,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"font-semibold text-sm truncate",title:q==null?void 0:q.name,children:(q==null?void 0:q.name)||"Endpoint"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Playground"})]})]})}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"URL:"})," ",t.jsx("span",{className:"truncate block",title:q==null?void 0:q.base_url,children:q==null?void 0:q.base_url})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Status:"})," ",t.jsx(ce,{variant:(q==null?void 0:q.status)==="online"?"default":"secondary",className:"text-xs",children:q==null?void 0:q.status})]}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.jsx("span",{className:"font-medium",children:"Models:"})," ",Z.length]})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"p-3 space-y-2",children:[t.jsxs(O,{variant:"outline",className:"w-full justify-start",onClick:s,children:[t.jsx(uu,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]}),t.jsxs(O,{variant:"ghost",className:"w-full justify-start",onClick:()=>h(!0),children:[t.jsx(Iu,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),t.jsx("div",{className:"flex-1"}),t.jsx("div",{className:"p-3 border-t",children:t.jsxs(O,{variant:"outline",size:"sm",className:"w-full",onClick:ie,children:[t.jsx(Zs,{className:"mr-2 h-4 w-4"}),"Clear Chat"]})})]}),t.jsxs("div",{className:"flex-1 flex flex-col",children:[t.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(ns,{value:y,onValueChange:m,children:[t.jsx(At,{className:"w-64",children:t.jsx(as,{placeholder:"Select a model"})}),t.jsx(Dt,{children:fe?t.jsx(le,{value:"__loading__",disabled:!0,children:"Loading models..."}):Z.length===0?t.jsx(le,{value:"__no_models__",disabled:!0,children:"No models available"}):Z.map(E=>t.jsx(le,{value:E.model_id,children:E.model_id},E.model_id))})]}),t.jsxs("span",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[t.jsx(vu,{className:L("h-3 w-3",(q==null?void 0:q.status)==="online"?"text-green-500":"text-yellow-500")}),(q==null?void 0:q.status)==="online"?"Online":q==null?void 0:q.status]}),b&&t.jsx(ce,{variant:"secondary",className:"text-xs",children:"Streaming"})]}),t.jsxs(O,{variant:"outline",size:"sm",onClick:()=>u(!0),children:[t.jsx(yu,{className:"mr-2 h-4 w-4"}),"cURL"]})]}),t.jsx(ot,{className:"flex-1 p-4",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-4",children:[r.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[t.jsx(Ir,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),t.jsx("h2",{className:"text-lg font-medium",children:"Start a conversation"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a model and send a message to get started."})]}):r.map((E,K)=>t.jsxs("div",{className:L("flex gap-3",E.role==="user"?"justify-end":""),children:[E.role==="assistant"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:t.jsx(fu,{className:"h-4 w-4 text-primary"})}),t.jsxs("div",{className:L("rounded-lg px-4 py-3 max-w-[80%] space-y-2",E.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:[E.content&&t.jsx("p",{className:"text-sm whitespace-pre-wrap",children:E.content}),E.attachments&&E.attachments.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:E.attachments.map((B,z)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:[B.type==="image"&&t.jsx("img",{src:B.data,alt:B.name,className:"w-full h-32 object-cover rounded-sm"}),B.type==="audio"&&t.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[t.jsx(Ba,{className:"h-6 w-6"}),t.jsx("audio",{src:B.data,controls:!0,className:"w-full max-w-[120px]"})]})]},z))}),E.role==="assistant"&&(()=>{const{imageMatches:B,audioMatches:z}=Ee(E.content);return t.jsxs(t.Fragment,{children:[B.length>0&&t.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:B.map((he,ye)=>t.jsx("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:t.jsx("img",{src:he,alt:`assistant-image-${ye}`,className:"w-full h-32 object-cover rounded-sm"})},ye))}),z.length>0&&t.jsx("div",{className:"space-y-2 mt-2",children:z.map((he,ye)=>t.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-2 flex flex-col items-center justify-center gap-2",children:[t.jsx(Ba,{className:"h-4 w-4"}),t.jsx("audio",{src:he,controls:!0,className:"w-full max-w-[200px]"})]},ye))})]})})()]}),E.role==="user"&&t.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:t.jsx(Vn,{className:"h-4 w-4"})})]},K)),t.jsx("div",{ref:S})]})}),t.jsx("div",{className:"border-t p-4 bg-gradient-to-b from-background via-background to-muted/5",children:t.jsxs("div",{className:"max-w-3xl mx-auto space-y-3",children:[k.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-muted/40 border border-muted-foreground/10",children:k.map((E,K)=>t.jsxs("div",{className:"relative group inline-block rounded-md overflow-hidden bg-background border border-border",children:[E.type==="image"&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:E.data,alt:E.name,className:"h-16 w-16 object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:t.jsx("button",{onClick:()=>me(K),className:"text-white bg-destructive rounded-full p-1 hover:bg-destructive/80",children:t.jsx(mn,{className:"h-3 w-3"})})})]}),E.type==="audio"&&t.jsxs("div",{className:"h-16 w-16 flex flex-col items-center justify-center bg-muted gap-1",children:[t.jsx(Ha,{className:"h-5 w-5 text-muted-foreground"}),t.jsx("button",{onClick:()=>me(K),className:"absolute -top-2 -right-2 text-white bg-destructive rounded-full p-0.5 hover:bg-destructive/80",children:t.jsx(mn,{className:"h-3 w-3"})})]})]},K))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:E=>{var K;return((K=E.target.files)==null?void 0:K[0])&&de(E.target.files[0],"image")}}),t.jsx("input",{ref:Q,type:"file",accept:"audio/*",className:"hidden",onChange:E=>{var K;return((K=E.target.files)==null?void 0:K[0])&&de(E.target.files[0],"audio")}}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>{var E;return(E=U.current)==null?void 0:E.click()},title:"Attach image",className:"shrink-0",children:t.jsx(Eu,{className:"h-4 w-4"})}),t.jsx(O,{variant:"outline",size:"icon",onClick:()=>{var E;return(E=Q.current)==null?void 0:E.click()},title:"Attach audio",className:"shrink-0",children:t.jsx(Ha,{className:"h-4 w-4"})}),t.jsx(je,{ref:T,placeholder:"Type a message or attach files...",value:a,onChange:E=>i(E.target.value),onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&!E.nativeEvent.isComposing&&(E.preventDefault(),ve())},onPaste:E=>{var B;const K=(B=E.clipboardData)==null?void 0:B.files;if(K)for(const z of Array.from(K)){const he=z.type.startsWith("audio/")?"audio":z.type.startsWith("image/")?"image":null;he&&de(z,he)}},disabled:l,className:"flex-1"}),l?t.jsxs(O,{variant:"destructive",onClick:_,className:"shrink-0",children:[t.jsx(Ft,{className:"mr-2 h-4 w-4 animate-spin"}),"Stop"]}):t.jsxs(O,{onClick:ve,disabled:!a.trim()&&k.length===0||!y,className:"shrink-0",children:[t.jsx(Tu,{className:"mr-2 h-4 w-4"}),"Send"]})]})]})})]}),t.jsx(De,{open:d,onOpenChange:h,children:t.jsxs(_e,{children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"Settings"}),t.jsx(Te,{children:"Configure your chat preferences."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{children:"System Prompt"}),t.jsx(Ra,{placeholder:"You are a helpful assistant...",value:g,onChange:E=>j(E.target.value),rows:3})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(ae,{children:"Streaming"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses as they're generated"})]}),t.jsx(Ma,{checked:b,onCheckedChange:w})]}),t.jsx(Yt,{}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(ae,{children:["Temperature: ",N]}),t.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:N,onChange:E=>M(parseFloat(E.target.value)),className:"w-full"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(ae,{children:"Max Tokens"}),t.jsx(je,{type:"number",value:A,onChange:E=>R(parseInt(E.target.value)||2048),min:1,max:32e3})]})]}),t.jsx(it,{children:t.jsx(O,{onClick:()=>h(!1),children:"Done"})})]})}),t.jsx(De,{open:f,onOpenChange:u,children:t.jsxs(_e,{className:"max-w-2xl",children:[t.jsxs(Me,{children:[t.jsx(Pe,{children:"cURL Command"}),t.jsx(Te,{children:"Copy this command to replicate the API call."})]}),t.jsxs("div",{className:"relative",children:[t.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>D(ne()),children:p?t.jsx(vt,{className:"h-4 w-4"}):t.jsx(ks,{className:"h-4 w-4"})}),t.jsx(ot,{className:"h-64 rounded-md border bg-muted",children:t.jsx("pre",{className:"p-4 text-xs font-mono",children:ne()})})]}),t.jsx(it,{children:t.jsx(O,{variant:"outline",onClick:()=>u(!1),children:"Close"})})]})})]})}function ao(){const e=window.location.hash.slice(1);if(e.startsWith("playground/")){const s=e.slice(11);if(s)return{type:"playground",endpointId:s}}return{type:"dashboard"}}function rx(){const{isLoading:e}=Jn(),[s,r]=o.useState(ao),n=o.useCallback(()=>{window.location.hash="",r({type:"dashboard"})},[]);if(o.useEffect(()=>{const a=()=>{r(ao())};return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]),o.useEffect(()=>{!e&&!go()&&(window.location.href="/dashboard/login.html")},[e]),e)return t.jsx("div",{className:"flex h-screen w-full items-center justify-center bg-background",children:t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"h-12 w-12 rounded-full border-4 border-primary/20"}),t.jsx("div",{className:"absolute inset-0 h-12 w-12 animate-spin rounded-full border-4 border-transparent border-t-primary"})]}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})});switch(s.type){case"playground":return t.jsx(sx,{endpointId:s.endpointId,onBack:n});case"dashboard":default:return t.jsx(tx,{})}}const nx=new Gd({defaultOptions:{queries:{staleTime:5e3,refetchInterval:5e3,retry:1}}});wd.createRoot(document.getElementById("root")).render(t.jsx(o.StrictMode,{children:t.jsx(Qd,{client:nx,children:t.jsx(iu,{children:t.jsxs(Nd,{children:[t.jsx(rx,{}),t.jsx(Cd,{})]})})})}));
