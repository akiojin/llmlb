import{c as i,r as a,j as e,d as N,C as Xe,B as n,U as Ze,X as pe,I as W,L as b,t as f,E as We,H as Ye,F as et,T as tt,G as st}from"./index-BSWtrNvL.js";import{u as at,f as ge,o as rt,t as Y,M as fe,H as nt,I as lt,J as it,N as ot,v as ct,F as dt,G as mt,x as ht,y as ut,z as xt,A as pt,E as ye,B as je,p as gt,i as ve,j as we,k as Ne,l as be,m as ke,Z as R,_ as ft,a3 as yt,w as Ce,q as jt,r as vt,a4 as wt,a5 as Nt}from"./switch-NKSEz4SJ.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=i("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=i("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=i("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=i("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=i("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=i("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=i("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=i("PanelLeftClose",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=i("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=i("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=i("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=i("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=i("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);function Ot(){at();const[ee,Me]=a.useState("dark"),[Te,y]=a.useState([]),[c,H]=a.useState(null),[j,m]=a.useState([]),[C,te]=a.useState(""),[V,B]=a.useState(!1),[Ie,A]=a.useState(!1),[De,K]=a.useState(!1),[Re,se]=a.useState(!1),[U,Ae]=a.useState(!1),[$,J]=a.useState("all"),[d,Q]=a.useState(""),[S,Ee]=a.useState(""),[E,Pe]=a.useState(!0),[M,Oe]=a.useState(.7),[P,_e]=a.useState(2048),[x,qe]=a.useState(()=>{if(typeof window<"u"){const t=localStorage.getItem("llm-router-api-key");if(t)return t;if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return"sk_debug"}return""}),ae=a.useRef(null),T=a.useRef(null),re=a.useRef(null),ne=a.useRef(null),le=a.useRef(null),[k,O]=a.useState([]),{data:_}=ge({queryKey:["registered-models"],queryFn:We.getRegistered}),{data:G}=ge({queryKey:["chat-sessions"],queryFn:Ye.getSessions});a.useEffect(()=>{G&&y(G)},[G]),a.useEffect(()=>{if(_&&!d){const s=_.filter(r=>r.lifecycle_status==="registered"||r.state==="ready");s.length>0&&Q(s[0].name)}},[_,d]),a.useEffect(()=>{var t;(t=ae.current)==null||t.scrollIntoView({behavior:"smooth"})},[j]);const ze=()=>{const t=ee==="dark"?"light":"dark";Me(t),document.documentElement.classList.toggle("dark",t==="dark")},Le=t=>{qe(t),localStorage.setItem("llm-router-api-key",t)},Fe=a.useCallback(()=>{const t={id:crypto.randomUUID(),title:"New Chat",messages:[],model:d,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};y(s=>[t,...s]),H(t.id),m([])},[d]),He=t=>{H(t.id),m(t.messages||[]),t.model&&Q(t.model)},Ve=t=>{y(s=>s.filter(r=>r.id!==t)),c===t&&(H(null),m([])),f({title:"Session deleted"})},Be=()=>{m([]),O([]),c&&y(t=>t.map(s=>s.id===c?{...s,messages:[],updated_at:new Date().toISOString()}:s)),f({title:"Chat cleared"})},ie=async(t,s)=>{if(t){if(t.size>4*1024*1024){f({title:"File too large",description:"Maximum size is 4MB",variant:"destructive"});return}try{const r=new FileReader;r.onload=h=>{var I;const q=(I=h.target)==null?void 0:I.result,z={type:s,name:t.name,data:q,mimeType:t.type};O(L=>[...L,z]),f({title:`${s==="image"?"Image":"Audio"} attached`})},r.readAsDataURL(t)}catch{f({title:"Failed to read file",variant:"destructive"})}}},oe=t=>{O(s=>s.filter((r,h)=>h!==t))},Ke=()=>{Ae(t=>!t)},ce=async()=>{var r,h,q,z,I,L,he,ue;if(!C.trim()&&k.length===0||!d||V)return;const t={role:"user",content:C.trim(),attachments:k.length>0?k:void 0},s=[...j,t];m(s),te(""),O([]),c&&y(p=>p.map(v=>v.id===c?{...v,messages:s,title:s.length===1?C.trim().slice(0,30):v.title,updated_at:new Date().toISOString()}:v)),B(!0),T.current=new AbortController;try{const p=l=>{if(!l.attachments||l.attachments.length===0)return{role:l.role,content:l.content};const o=[];return l.content.trim()&&o.push({type:"text",text:l.content}),l.attachments.forEach(g=>{g.type==="image"?o.push({type:"image_url",image_url:{url:g.data}}):g.type==="audio"&&o.push({type:"image_url",image_url:{url:g.data}})}),{role:l.role,content:o}},v=S?[{role:"system",content:S},...s.map(p)]:s.map(p);if(E){const l={"Content-Type":"application/json"};x&&(l.Authorization=`Bearer ${x}`);const o=await fetch("/v1/chat/completions",{method:"POST",headers:l,body:JSON.stringify({model:d,messages:v,stream:!0,temperature:M,max_tokens:P}),signal:T.current.signal});if(!o.ok)throw new Error(`HTTP ${o.status}`);const g=(r=o.body)==null?void 0:r.getReader();if(!g)throw new Error("No response body");const F=new TextDecoder;let w="";for(m(u=>[...u,{role:"assistant",content:""}]);;){const{done:u,value:D}=await g.read();if(u)break;const Je=F.decode(D,{stream:!0}).split(`
`).filter(X=>X.startsWith("data: "));for(const X of Je){const xe=X.slice(6);if(xe!=="[DONE]")try{const Qe=((z=(q=(h=JSON.parse(xe).choices)==null?void 0:h[0])==null?void 0:q.delta)==null?void 0:z.content)||"";w+=Qe,m(Ge=>{const Z=[...Ge];return Z[Z.length-1]={role:"assistant",content:w},Z})}catch{}}}c&&y(u=>u.map(D=>D.id===c?{...D,messages:[...s,{role:"assistant",content:w}],updated_at:new Date().toISOString()}:D))}else{const l={"Content-Type":"application/json"};x&&(l.Authorization=`Bearer ${x}`);const o=await fetch("/v1/chat/completions",{method:"POST",headers:l,body:JSON.stringify({model:d,messages:v,stream:!1,temperature:M,max_tokens:P}),signal:T.current.signal});if(!o.ok)throw new Error(`HTTP ${o.status}`);const F={role:"assistant",content:((he=(L=(I=(await o.json()).choices)==null?void 0:I[0])==null?void 0:L.message)==null?void 0:he.content)||""};m(w=>[...w,F]),c&&y(w=>w.map(u=>u.id===c?{...u,messages:[...s,F],updated_at:new Date().toISOString()}:u))}}catch(p){p.name!=="AbortError"&&(f({title:"Failed to send message",description:p instanceof Error?p.message:"Unknown error",variant:"destructive"}),m(j))}finally{B(!1),T.current=null,(ue=re.current)==null||ue.focus()}},Ue=()=>{var t;(t=T.current)==null||t.abort(),B(!1)},de=()=>{const t=S?[{role:"system",content:S},...j]:j;return`curl -X POST 'http://localhost:8080/v1/chat/completions' \\
  -H 'Content-Type: application/json' \\${x?`
  -H 'Authorization: Bearer ${x}' \\`:""}
  -d '${JSON.stringify({model:d,messages:t,stream:E,temperature:M,max_tokens:P},null,2)}'`},$e=async t=>{try{await navigator.clipboard.writeText(t),se(!0),setTimeout(()=>se(!1),2e3),f({title:"Copied to clipboard"})}catch{f({title:"Failed to copy",variant:"destructive"})}},me=(_||[]).filter(t=>t.lifecycle_status==="registered");return e.jsxs("div",{className:"flex h-screen bg-background",children:[e.jsxs("div",{id:"sidebar",className:N("border-r flex flex-col transition-all duration-300",U?"w-0 overflow-hidden":"w-64"),children:[e.jsx("div",{className:"p-4 border-b",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary/10",children:e.jsx(Xe,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-semibold text-sm",children:"LLM Router"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Playground"})]})]})}),e.jsx("div",{className:"p-3",children:e.jsxs(n,{id:"new-chat",className:"w-full",onClick:Fe,children:[e.jsx(rt,{className:"mr-2 h-4 w-4"}),"New Chat"]})}),e.jsx(Y,{className:"flex-1",children:e.jsx("div",{id:"session-list",className:"p-2 space-y-1",children:Te.map(t=>e.jsxs("div",{className:N("group flex items-center gap-2 rounded-lg px-3 py-2 cursor-pointer hover:bg-muted/50",c===t.id&&"bg-muted"),onClick:()=>He(t),children:[e.jsx(fe,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),e.jsx("span",{className:"flex-1 truncate text-sm",children:t.title}),e.jsxs(nt,{children:[e.jsx(lt,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:s=>s.stopPropagation(),children:e.jsx(St,{className:"h-3 w-3"})})}),e.jsx(it,{align:"end",children:e.jsxs(ot,{onClick:s=>{s.stopPropagation(),Ve(t.id)},className:"text-destructive",children:[e.jsx(ct,{className:"mr-2 h-4 w-4"}),"Delete"]})})]})]},t.id))})}),e.jsxs("div",{className:"p-3 border-t space-y-2",children:[e.jsxs(n,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href="/dashboard/",children:[e.jsx(Mt,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"ghost",size:"icon",onClick:ze,children:ee==="dark"?e.jsx(dt,{className:"h-4 w-4"}):e.jsx(mt,{className:"h-4 w-4"})}),e.jsx(n,{id:"settings-toggle",variant:"ghost",size:"icon",onClick:()=>A(!0),children:e.jsx(Et,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-14 border-b flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{id:"sidebar-toggle",variant:"ghost",size:"icon",onClick:Ke,title:U?"Show sidebar":"Hide sidebar",children:U?e.jsx(Dt,{className:"h-4 w-4"}):e.jsx(It,{className:"h-4 w-4"})}),e.jsxs(ht,{value:d,onValueChange:Q,children:[e.jsx(ut,{id:"model-select",className:"w-64",children:e.jsx(xt,{placeholder:"Select a model"})}),e.jsx(pt,{children:me.length===0?e.jsx(ye,{value:"__no_models__",disabled:!0,children:"No models available"}):me.filter(t=>t.name&&t.name.length>0).map(t=>e.jsx(ye,{value:t.name,children:t.name},t.name))})]}),e.jsxs("span",{id:"router-status",className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(kt,{className:"h-3 w-3 text-green-500"}),"Router: Online"]}),E&&e.jsx(je,{variant:"secondary",className:"text-xs",children:"Streaming"}),!x&&e.jsx(je,{variant:"destructive",className:"text-xs cursor-pointer",onClick:()=>A(!0),children:"API Key Required"})]}),e.jsxs(n,{id:"copy-curl",variant:"outline",size:"sm",onClick:()=>K(!0),children:[e.jsx(Ct,{className:"mr-2 h-4 w-4"}),"cURL"]})]}),e.jsx(Y,{className:"flex-1 p-4",children:e.jsxs("div",{id:"chat-log",className:"max-w-3xl mx-auto space-y-4",children:[j.length===0?e.jsxs("div",{className:"chat-welcome flex flex-col items-center justify-center h-64 text-center",children:[e.jsx(fe,{className:"h-12 w-12 text-muted-foreground/50 mb-4"}),e.jsx("h2",{className:"text-lg font-medium",children:"Start a conversation"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a model and send a message to get started."})]}):j.map((t,s)=>e.jsxs("div",{className:N("flex gap-3",t.role==="user"?"message--user justify-end":"message--assistant"),children:[t.role==="assistant"&&e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10",children:e.jsx(bt,{className:"h-4 w-4 text-primary"})}),e.jsxs("div",{className:N("rounded-lg px-4 py-3 max-w-[80%] space-y-2",t.role==="user"?"bg-primary text-primary-foreground":"bg-muted"),children:[t.content&&e.jsx("p",{className:"message-text text-sm whitespace-pre-wrap",children:t.content}),t.attachments&&t.attachments.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:t.attachments.map((r,h)=>e.jsxs("div",{className:"rounded-md overflow-hidden bg-black/20 p-1",children:[r.type==="image"&&e.jsx("img",{src:r.data,alt:r.name,className:"w-full h-32 object-cover rounded-sm"}),r.type==="audio"&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-32 gap-2",children:[e.jsx(Pt,{className:"h-6 w-6"}),e.jsx("audio",{src:r.data,controls:!0,className:"w-full max-w-[120px]"})]})]},h))})]}),t.role==="user"&&e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:e.jsx(Ze,{className:"h-4 w-4"})})]},s)),e.jsx("div",{ref:ae})]})}),e.jsx("div",{className:"border-t p-4 bg-gradient-to-b from-background via-background to-muted/5",children:e.jsxs("div",{id:"chat-form",className:"max-w-3xl mx-auto space-y-3",children:[k.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 p-3 rounded-lg bg-muted/40 border border-muted-foreground/10","data-testid":"playground-attachment-preview",children:k.map((t,s)=>e.jsxs("div",{className:"relative group inline-block rounded-md overflow-hidden bg-background border border-border","data-testid":t.type==="image"?"playground-attachment-image":"playground-attachment-audio",children:[t.type==="image"&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t.data,alt:t.name,className:"h-16 w-16 object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx("button",{onClick:()=>oe(s),className:"text-white bg-destructive rounded-full p-1 hover:bg-destructive/80","data-testid":"playground-attachment-remove",children:e.jsx(pe,{className:"h-3 w-3"})})})]}),t.type==="audio"&&e.jsxs("div",{className:"h-16 w-16 flex flex-col items-center justify-center bg-muted gap-1",children:[e.jsx(Se,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("button",{onClick:()=>oe(s),className:"absolute -top-2 -right-2 text-white bg-destructive rounded-full p-0.5 hover:bg-destructive/80","data-testid":"playground-attachment-remove",children:e.jsx(pe,{className:"h-3 w-3"})})]})]},s))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:ne,id:"playground-image-input","data-testid":"playground-image-input",type:"file",accept:"image/*",className:"hidden",onChange:t=>{var s;return((s=t.target.files)==null?void 0:s[0])&&ie(t.target.files[0],"image")}}),e.jsx("input",{ref:le,id:"playground-audio-input","data-testid":"playground-audio-input",type:"file",accept:"audio/*",className:"hidden",onChange:t=>{var s;return((s=t.target.files)==null?void 0:s[0])&&ie(t.target.files[0],"audio")}}),e.jsx(n,{variant:"outline",size:"icon",onClick:()=>{var t;return(t=ne.current)==null?void 0:t.click()},title:"Attach image",className:"shrink-0",children:e.jsx(Tt,{className:"h-4 w-4"})}),e.jsx(n,{variant:"outline",size:"icon",onClick:()=>{var t;return(t=le.current)==null?void 0:t.click()},title:"Attach audio",className:"shrink-0",children:e.jsx(Se,{className:"h-4 w-4"})}),e.jsx(W,{ref:re,id:"chat-input","data-testid":"playground-chat-input",placeholder:"Type a message or attach files...",value:C,onChange:t=>te(t.target.value),onKeyDown:t=>{t.key==="Enter"&&!t.shiftKey&&!t.nativeEvent.isComposing&&(t.preventDefault(),ce())},disabled:V,className:"flex-1"}),V?e.jsxs(n,{id:"stop-button",variant:"destructive",onClick:Ue,className:"shrink-0",children:[e.jsx(gt,{className:"mr-2 h-4 w-4 animate-spin"}),"Stop"]}):e.jsxs(n,{id:"send-button","data-testid":"playground-send",onClick:ce,disabled:!C.trim()&&k.length===0||!d,className:"shrink-0",children:[e.jsx(At,{className:"mr-2 h-4 w-4"}),"Send"]})]})]})})]}),e.jsx(ve,{open:Ie,onOpenChange:A,children:e.jsxs(we,{id:"settings-modal",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Settings"}),e.jsx(ke,{children:"Configure your chat preferences."})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"API Key"}),e.jsx(W,{id:"api-key-input",type:"password",placeholder:"sk-...",value:x,onChange:t=>Le(t.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Required for OpenAI compatible API authentication"})]}),e.jsx(R,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Model Provider Filter"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:N("provider-btn flex-1 px-3 py-1.5 text-sm rounded-md border transition-colors",$==="local"?"provider-btn--active bg-primary text-primary-foreground":"bg-muted"),"data-provider":"local",onClick:()=>J("local"),children:"Local"}),e.jsx("button",{className:N("provider-btn flex-1 px-3 py-1.5 text-sm rounded-md border transition-colors",$==="cloud"?"provider-btn--active bg-primary text-primary-foreground":"bg-muted"),"data-provider":"cloud",onClick:()=>J("cloud"),children:"Cloud"}),e.jsx("button",{className:N("provider-btn flex-1 px-3 py-1.5 text-sm rounded-md border transition-colors",$==="all"?"provider-btn--active bg-primary text-primary-foreground":"bg-muted"),"data-provider":"all",onClick:()=>J("all"),children:"All"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Filter models by provider type"})]}),e.jsx(R,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"System Prompt"}),e.jsx(ft,{id:"system-prompt",placeholder:"You are a helpful assistant...",value:S,onChange:t=>Ee(t.target.value),rows:3})]}),e.jsx(R,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Streaming"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Stream responses as they're generated"})]}),e.jsx(yt,{id:"stream-toggle",checked:E,onCheckedChange:Pe})]}),e.jsx(R,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(b,{children:["Temperature: ",M]}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:M,onChange:t=>Oe(parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{children:"Max Tokens"}),e.jsx(W,{type:"number",value:P,onChange:t=>_e(parseInt(t.target.value)||2048),min:1,max:32e3})]}),e.jsx(R,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(b,{children:"Clear Chat"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear all messages in current session"})]}),e.jsxs(n,{id:"reset-chat",variant:"outline",size:"sm",onClick:Be,children:[e.jsx(Rt,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]}),e.jsx(Ce,{children:e.jsx(n,{onClick:()=>A(!1),children:"Done"})})]})}),e.jsx(ve,{open:De,onOpenChange:K,children:e.jsxs(we,{className:"max-w-2xl",children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"cURL Command"}),e.jsx(ke,{children:"Copy this command to replicate the API call."})]}),e.jsxs("div",{className:"relative",children:[e.jsx(n,{variant:"ghost",size:"sm",className:"absolute right-2 top-2",onClick:()=>$e(de()),children:Re?e.jsx(jt,{className:"h-4 w-4"}):e.jsx(vt,{className:"h-4 w-4"})}),e.jsx(Y,{className:"h-64 rounded-md border bg-muted",children:e.jsx("pre",{className:"p-4 text-xs font-mono",children:de()})})]}),e.jsx(Ce,{children:e.jsx(n,{variant:"outline",onClick:()=>K(!1),children:"Close"})})]})})]})}const _t=new wt({defaultOptions:{queries:{staleTime:3e4,retry:1}}});et.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Nt,{client:_t,children:e.jsxs(tt,{children:[e.jsx(Ot,{}),e.jsx(st,{})]})})}));
