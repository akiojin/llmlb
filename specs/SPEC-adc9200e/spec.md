# SPEC-adc9200e: ダッシュボードボタン視認性・押下フィードバック改善

## ステータス

- **状態**: Complete
- **作成日**: 2026-02-13
- **ブランチ**: bugfix/clarify-button-visibility

## 概要

ダッシュボードUI全体でボタンの視認性が低く、押下したかどうか判別できない問題を修正する。
ライトモード・ダークモードの両方で、全画面共通にボタンの状態表現（通常・ホバー・押下・
無効・フォーカス）を明確化する。

## 背景と問題

### 現状の問題

1. **押下フィードバックが不十分**: `active:scale-[0.98]`（2%縮小）のみで、
   ユーザーがクリックしたか視覚的に判断できない
2. **ghostバリアントが致命的に不可視**: 背景もボーダーもなく、
   ボタンだと認識できない（hover時のみ`bg-accent`が適用）
3. **ホバー表現が弱い**: `hover:bg-primary/90`（10%暗転）のみで反応感が薄い
4. **disabled状態の区別が困難**: `opacity-50`のみで触れるように見える
5. **フォーカスリングが不可視**: ring色がprimary色と同色のため、
   特にダークモードでprimaryボタン上では完全に溶け込む
6. **生の`<button>`/`<a>`タグの存在**: Buttonコンポーネントを使わず
   インラインスタイルでボタン風に見せている箇所がデザインシステムと不整合

### 影響範囲

- ログイン画面 / 登録画面
- ダッシュボードメインページ（タブ切替、更新バナー、エラーリカバリ）
- エンドポイント管理（テーブル内アクションボタン）
- Playground（チャット送信、設定、モード切替）
- モーダルダイアログ（API Key、ユーザー、招待）
- ヘッダー（ナビゲーション、テーマ切替）
- ログビューワー

## ユーザーストーリー

### US-1: ボタンの押下確認

**As a** ダッシュボード操作者
**I want** ボタンをクリックした時に明確な視覚フィードバックを得たい
**So that** 操作が受け付けられたか即座に判断できる

**受入条件**:

- すべてのボタンバリアントで、押下時に明確なscale縮小（0.95程度）と
  shadow消失が発生する
- トランジションは即応的（active: 100ms以下）

### US-2: ボタンの存在認知

**As a** 初回利用ユーザー
**I want** 画面上のクリック可能な要素をすぐに識別したい
**So that** 操作方法を迷わずにダッシュボードを使い始められる

**受入条件**:

- ghostバリアントを廃止し、用途別に明示的なバリアントに置き換える
  - アイコンボタン（テーマ切替等） → outlineバリアント
  - テキストリンク風 → linkバリアント
- すべてのボタンが通常状態でクリック可能領域を視覚的に示す

### US-3: ホバーの反応感

**As a** マウス操作ユーザー
**I want** ボタンにマウスを乗せた時に即座に反応してほしい
**So that** 操作対象を正確に狙えたと確信できる

**受入条件**:

- ホバー時にshadow強化・色濃度変化・微小translateYが発生する
- ホバーからactiveへの遷移が明瞭に区別できる

### US-4: 無効状態の明示

**As a** 権限制限のあるユーザー
**I want** 操作不可能なボタンが一目で分かりたい
**So that** 無駄なクリックを試みない

**受入条件**:

- disabled状態でopacity低下に加え、cursor-not-allowed、
  テキスト色のmuted化が適用される

### US-5: キーボードフォーカスの可視化

**As a** キーボードナビゲーションユーザー
**I want** 現在フォーカスされているボタンが視覚的に分かりたい
**So that** Tabキーでの操作時に迷わない

**受入条件**:

- フォーカスリングがボタン色と異なるコントラスト色で表示される
- ring-offsetを拡大し、ボタン境界との間に十分な間隔がある

### US-6: デザインシステムの統一

**As a** 開発者
**I want** すべてのボタン風要素がButtonコンポーネントを使用していてほしい
**So that** スタイル変更が一箇所で全体に反映される

**受入条件**:

- 生の`<button>`タグでスタイルされたボタン風要素をすべてButtonコンポーネントに
  置き換える
- ダッシュボード内にButtonコンポーネントを経由しないボタン風要素が存在しない

## スコープ

### 対象

- `llmlb/src/web/dashboard/src/components/ui/button.tsx`（ボタンコンポーネント）
- `llmlb/src/web/dashboard/src/index.css`（グローバルCSS）
- ghostバリアントを使用している全TSXファイル（約20箇所）
- 生`<button>`/`<a>`タグを使用している箇所（Dashboard.tsx、Playground系等）

### 対象外

- バックエンド（Rust）コード
- ボタン以外のUIコンポーネント（input、select、checkbox等）
- glowバリアント（維持）
- ボタンのサイズバリアント（現状維持）
- アイコンサイズ（16px維持）

## 制約

- ダークモード・ライトモード両方で視認性を確保すること
- 既存のCSS変数システム（HSL）を維持すること
- shadcn/ui + class-variance-authority のアーキテクチャを維持すること
- `prefers-reduced-motion` への配慮を維持すること
