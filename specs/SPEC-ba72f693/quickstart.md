# 検証手順: ダッシュボードメトリクスの永続化と復元

**機能ID**: `SPEC-ba72f693` | **日付**: 2026-02-24

## 自動テスト検証

```bash
# 全テスト実行（推奨: シングルスレッド）
cargo test -- --test-threads=1

# 品質チェック一括実行
make quality-checks
```

## 手動検証シナリオ

### SC-001: リクエストカウンタのリアルタイム反映

1. ダッシュボードAPIでエンドポイント一覧を取得し、リクエスト数を記録
2. エンドポイントにリクエストを1件送信
3. ダッシュボードAPIを再度取得し、リクエスト数が+1されていることを確認
4. ページリロードなしで反映されていること

### SC-002: オフラインLatency保持

1. オンラインのエンドポイントのレイテンシ値を記録
2. エンドポイントを停止してオフラインにする
3. ダッシュボードAPIでレイテンシが直前の値のまま表示されることを確認
4. "-" にリセットされていないこと

### SC-003: Avg Response Time再起動後復元

1. オンラインエンドポイントが1つ以上ある状態でサーバーを再起動
2. ダッシュボード概要APIで平均レスポンス時間を取得
3. "-" ではなく数値が表示されることを確認

### SC-004: TPS再起動後復元

1. エンドポイントでリクエストを処理（トークン生成あり）
2. サーバーを再起動
3. ダッシュボードAPIでTPS値を確認
4. 当日処理実績のあるエンドポイントのTPSが数値で表示されること

### SC-005: リクエスト履歴再起動後復元

1. 直近60分以内にリクエストを数件送信
2. サーバーを再起動
3. ダッシュボードAPIでリクエスト履歴タイムラインを取得
4. 全ゼロではなく、再起動前のデータが含まれていること
