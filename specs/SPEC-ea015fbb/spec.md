# 機能仕様書: Web UI 画面一覧

**機能ID**: `SPEC-ea015fbb`
**作成日**: 2025-12-24
**ステータス**: 下書き
**入力**: ユーザー説明: "Web UIの全画面一覧と画面遷移を定義する"

## 概要

LLM Router Web UIを構成する全画面の一覧、各画面の目的、画面間の遷移関係を定義する。
このSPECは他のUI関連SPECの索引として機能し、画面設計の全体像を把握するための参照ドキュメントである。

## 画面一覧

### 認証系画面

| 画面ID | パス | 画面名 | 説明 | 関連SPEC |
|--------|------|--------|------|----------|
| SCR-001 | `/dashboard/login.html` | ログイン | JWT認証によるログイン | SPEC-d4eb8796 |
| SCR-002 | `/dashboard/register.html` | ユーザー登録 | 招待コードによる新規登録 | SPEC-d4eb8796 |

### メイン画面

| 画面ID | パス | 画面名 | 説明 | 関連SPEC |
|--------|------|--------|------|----------|
| SCR-010 | `/dashboard` | メインダッシュボード | システム全体の監視・管理 | SPEC-712c20cf |
| SCR-011 | `/playground` | Playground | チャットUI（マルチモーダル対応） | SPEC-712c20cf, SPEC-5fc9fe92 |

### ダッシュボード内セクション

| セクションID | 親画面 | セクション名 | 説明 | 関連SPEC |
|--------------|--------|--------------|------|----------|
| SEC-001 | SCR-010 | Header | ナビゲーション、テーマ切替、ログアウト | SPEC-712c20cf |
| SEC-002 | SCR-010 | StatsCards | システム統計（ノード数、リクエスト数等） | SPEC-712c20cf |
| SEC-003 | SCR-010 | NodeTable | ノード一覧・状態表示・管理操作 | SPEC-712c20cf |
| SEC-004 | SCR-010 | RequestHistoryTable | リクエスト履歴一覧（ページネーション付き） | SPEC-fbc50d97, SPEC-026b2cde |
| SEC-005 | SCR-010 | LogViewer | ルーターログ表示 | SPEC-1f2a9c3d |
| SEC-006 | SCR-010 | ModelsSection | モデル一覧・登録 | SPEC-11106000, SPEC-47649000 |

### モーダル・ダイアログ

| モーダルID | 親画面 | モーダル名 | 説明 | 関連SPEC |
|------------|--------|------------|------|----------|
| MOD-001 | SCR-010 | NodeSettingsModal | ノード設定編集 | SPEC-712c20cf |
| MOD-002 | SCR-010 | NodeDeleteConfirm | ノード削除確認 | SPEC-712c20cf |
| MOD-003 | SCR-010 | RequestDetailModal | リクエスト詳細表示 | SPEC-fbc50d97 |
| MOD-004 | SCR-010 | ModelRegisterModal | モデル登録フォーム | SPEC-11106000 |

## 画面遷移図

```text
[未認証状態]
     │
     ▼
┌─────────────┐    招待コード    ┌─────────────┐
│  ログイン   │ ───────────────→ │ ユーザー登録 │
│  SCR-001    │ ←─────────────── │  SCR-002    │
└─────────────┘    登録完了      └─────────────┘
     │
     │ ログイン成功
     ▼
┌─────────────────────────────────────────────────┐
│            メインダッシュボード (SCR-010)         │
│  ┌─────────┬─────────┬─────────┬───────────────┐ │
│  │ Stats   │ Nodes   │ History │ Logs/Models  │ │
│  │ SEC-002 │ SEC-003 │ SEC-004 │ SEC-005/006  │ │
│  └─────────┴─────────┴─────────┴───────────────┘ │
└─────────────────────────────────────────────────┘
     │
     │ "Chat"ボタン
     ▼
┌─────────────┐
│ Playground  │
│  SCR-011    │
└─────────────┘
```

## ユーザーシナリオ＆テスト

### ユーザーストーリー1 - 画面間の一貫した遷移 (優先度: P1)

ユーザーとして、どの画面からでも他の主要画面に2クリック以内で
遷移できることを期待する。迷子にならないナビゲーションが必要。

**独立テスト**: 各画面から他の全画面への遷移パスを確認し、
最大クリック数が2以内であることを検証する。

**受け入れシナリオ**:

1. **前提** ダッシュボードを表示中、**実行** Playgroundボタンをクリック、
   **結果** Playground画面が開く（1クリック）
2. **前提** Playgroundを表示中、**実行** ダッシュボードに戻るボタンをクリック、
   **結果** ダッシュボードに戻る（1クリック）
3. **前提** 任意の画面を表示中、**実行** ログアウトボタンをクリック、
   **結果** ログイン画面に遷移する（1クリック）

### ユーザーストーリー2 - 画面状態の保持 (優先度: P2)

ユーザーとして、ダッシュボードで選択したタブやフィルタ条件が
Playgroundから戻った後も保持されていることを期待する。

**独立テスト**: ダッシュボードでフィルタを設定後、Playgroundに遷移し、
戻った際にフィルタが保持されていることを確認する。

**受け入れシナリオ**:

1. **前提** ダッシュボードで履歴タブを選択中、**実行** Playgroundに遷移して戻る、
   **結果** 履歴タブが選択された状態が維持されている

## 要件

### 機能要件

- **FR-001**: 全画面はHeaderコンポーネントを共有し、一貫したナビゲーションを提供する
- **FR-002**: 認証が必要な画面は未認証時にログイン画面にリダイレクトする
- **FR-003**: 画面遷移時にローディング状態を表示する
- **FR-004**: ブラウザの戻る/進むボタンで適切に遷移できる
- **FR-005**: 各画面はレスポンシブデザインに対応する（モバイル/タブレット/デスクトップ）

### 非機能要件

- **NFR-001**: 画面遷移は500ms以内に完了する
- **NFR-002**: 初回ロード時間は2秒以内（SPEC-712c20cf NFR-011準拠）

## 依存関係

このSPECは以下のSPECに依存します（UI実装の詳細）:

- SPEC-712c20cf（管理ダッシュボード）- メイン画面の詳細仕様
- SPEC-d4eb8796（認証・アクセス制御）- 認証系画面の詳細仕様
- SPEC-fbc50d97（履歴保存）- 履歴表示の詳細仕様
- SPEC-5fc9fe92（Playgroundマルチモーダル）- Playgroundの詳細仕様
- SPEC-11106000（モデル登録）- モデル管理UIの詳細仕様
- SPEC-1f2a9c3d（ログAPI）- ログ表示の詳細仕様
- SPEC-026b2cde（ページネーション）- 履歴ページネーションの詳細仕様

## 成功基準

1. 全画面が本SPECの一覧に記載されている
2. 画面遷移図が実装と一致している
3. 各画面から関連SPECへのトレーサビリティが確保されている
4. 新規画面追加時に本SPECが更新される運用が確立されている

## Clarifications

### Session 2025-12-24

本SPECは画面一覧と遷移関係の索引として作成されました。

**確認済み事項**:

- 画面数: 4画面（ログイン、登録、ダッシュボード、Playground）
- セクション数: 6セクション（ダッシュボード内）
- モーダル数: 4モーダル
- 全画面は既存SPECで詳細定義済み
